function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=!!e&&"length"in e&&e.length,n=oe.type(e);return"function"!==n&&!oe.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e,t,n){if(oe.isFunction(t))return oe.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return oe.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(me.test(t))return oe.filter(t,e,n);t=oe.filter(t,e)}return oe.grep(e,function(e){return Z.call(t,e)>-1!==n})}function r(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t={};return oe.each(e.match(we)||[],function(e,n){t[n]=!0}),t}function s(){Q.removeEventListener("DOMContentLoaded",s),e.removeEventListener("load",s),oe.ready()}function a(){this.expando=oe.expando+a.uid++}function l(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Te,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Se.test(n)?oe.parseJSON(n):n)}catch(e){}Ee.set(e,t,n)}else n=void 0;return n}function u(e,t,n,i){var r,o=1,s=20,a=i?function(){return i.cur()}:function(){return oe.css(e,t,"")},l=a(),u=n&&n[3]||(oe.cssNumber[t]?"":"px"),c=(oe.cssNumber[t]||"px"!==u&&+l)&&Ne.exec(oe.css(e,t));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do{o=o||".5",c/=o,oe.style(e,t,c+u)}while(o!==(o=a()/l)&&1!==o&&--s)}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}function c(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&oe.nodeName(e,t)?oe.merge([e],n):n}function d(e,t){for(var n=0,i=e.length;i>n;n++)ke.set(e[n],"globalEval",!t||ke.get(t[n],"globalEval"))}function h(e,t,n,i,r){for(var o,s,a,l,u,h,p=t.createDocumentFragment(),f=[],m=0,g=e.length;g>m;m++)if((o=e[m])||0===o)if("object"===oe.type(o))oe.merge(f,o.nodeType?[o]:o);else if(Re.test(o)){for(s=s||p.appendChild(t.createElement("div")),a=(Ie.exec(o)||["",""])[1].toLowerCase(),l=Le[a]||Le._default,s.innerHTML=l[1]+oe.htmlPrefilter(o)+l[2],h=l[0];h--;)s=s.lastChild;oe.merge(f,s.childNodes),s=p.firstChild,s.textContent=""}else f.push(t.createTextNode(o));for(p.textContent="",m=0;o=f[m++];)if(i&&oe.inArray(o,i)>-1)r&&r.push(o);else if(u=oe.contains(o.ownerDocument,o),s=c(p.appendChild(o),"script"),u&&d(s),n)for(h=0;o=s[h++];)De.test(o.type||"")&&n.push(o);return p}function p(){return!0}function f(){return!1}function m(){try{return Q.activeElement}catch(e){}}function g(e,t,n,i,r,o){var s,a;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=void 0);for(a in t)g(e,a,n,i,t[a],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=f;else if(!r)return e;return 1===o&&(s=r,r=function(e){return oe().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=oe.guid++)),e.each(function(){oe.event.add(this,t,r,i,n)})}function v(e,t){return oe.nodeName(e,"table")&&oe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function y(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function b(e){var t=qe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){var n,i,r,o,s,a,l,u;if(1===t.nodeType){if(ke.hasData(e)&&(o=ke.access(e),s=ke.set(t,o),u=o.events)){delete s.handle,s.events={};for(r in u)for(n=0,i=u[r].length;i>n;n++)oe.event.add(t,r,u[r][n])}Ee.hasData(e)&&(a=Ee.access(e),l=oe.extend({},a),Ee.set(t,l))}}function _(e,t){var n=t.nodeName.toLowerCase();"input"===n&&je.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function x(e,t,n,i){t=X.apply([],t);var r,o,s,a,l,u,d=0,p=e.length,f=p-1,m=t[0],g=oe.isFunction(m);if(g||p>1&&"string"==typeof m&&!ie.checkClone&&Be.test(m))return e.each(function(r){var o=e.eq(r);g&&(t[0]=m.call(this,r,o.html())),x(o,t,n,i)});if(p&&(r=h(t,e[0].ownerDocument,!1,e,i),o=r.firstChild,1===r.childNodes.length&&(r=o),o||i)){for(s=oe.map(c(r,"script"),y),a=s.length;p>d;d++)l=r,d!==f&&(l=oe.clone(l,!0,!0),a&&oe.merge(s,c(l,"script"))),n.call(e[d],l,d);if(a)for(u=s[s.length-1].ownerDocument,oe.map(s,b),d=0;a>d;d++)l=s[d],De.test(l.type||"")&&!ke.access(l,"globalEval")&&oe.contains(u,l)&&(l.src?oe._evalUrl&&oe._evalUrl(l.src):oe.globalEval(l.textContent.replace(Ue,"")))}return e}function C(e,t,n){for(var i,r=t?oe.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||oe.cleanData(c(i)),i.parentNode&&(n&&oe.contains(i.ownerDocument,i)&&d(c(i,"script")),i.parentNode.removeChild(i));return e}function k(e,t){var n=oe(t.createElement(e)).appendTo(t.body),i=oe.css(n[0],"display");return n.detach(),i}function E(e){var t=Q,n=We[e];return n||(n=k(e,t),"none"!==n&&n||(ze=(ze||oe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=ze[0].contentDocument,t.write(),t.close(),n=k(e,t),ze.detach()),We[e]=n),n}function S(e,t,n){var i,r,o,s,a=e.style;return n=n||Qe(e),s=n?n.getPropertyValue(t)||n[t]:void 0,""!==s&&void 0!==s||oe.contains(e.ownerDocument,e)||(s=oe.style(e,t)),n&&!ie.pixelMarginRight()&&Je.test(s)&&Ge.test(t)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o),void 0!==s?s+"":s}function T(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function A(e){if(e in nt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=tt.length;n--;)if((e=tt[n]+t)in nt)return e}function N(e,t,n){var i=Ne.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function O(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=oe.css(e,n+Oe[o],!0,r)),i?("content"===n&&(s-=oe.css(e,"padding"+Oe[o],!0,r)),"margin"!==n&&(s-=oe.css(e,"border"+Oe[o]+"Width",!0,r))):(s+=oe.css(e,"padding"+Oe[o],!0,r),"padding"!==n&&(s+=oe.css(e,"border"+Oe[o]+"Width",!0,r)));return s}function P(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=Qe(e),s="border-box"===oe.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=S(e,t,o),(0>r||null==r)&&(r=e.style[t]),Je.test(r))return r;i=s&&(ie.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+O(e,t,n||(s?"border":"content"),i,o)+"px"}function j(e,t){for(var n,i,r,o=[],s=0,a=e.length;a>s;s++)i=e[s],i.style&&(o[s]=ke.get(i,"olddisplay"),n=i.style.display,t?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&Pe(i)&&(o[s]=ke.access(i,"olddisplay",E(i.nodeName)))):(r=Pe(i),"none"===n&&r||ke.set(i,"olddisplay",r?n:oe.css(i,"display"))));for(s=0;a>s;s++)i=e[s],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[s]||"":"none"));return e}function I(e,t,n,i,r){return new I.prototype.init(e,t,n,i,r)}function D(){return e.setTimeout(function(){it=void 0}),it=oe.now()}function L(e,t){var n,i=0,r={height:e};for(t=t?1:0;4>i;i+=2-t)n=Oe[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function R(e,t,n){for(var i,r=(V.tweeners[t]||[]).concat(V.tweeners["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,t,e))return i}function M(e,t,n){var i,r,o,s,a,l,u,c=this,d={},h=e.style,p=e.nodeType&&Pe(e),f=ke.get(e,"fxshow");n.queue||(a=oe._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,oe.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],u=oe.css(e,"display"),"inline"===("none"===u?ke.get(e,"olddisplay")||E(e.nodeName):u)&&"none"===oe.css(e,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",c.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],ot.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!f||void 0===f[i])continue;p=!0}d[i]=f&&f[i]||oe.style(e,i)}else u=void 0;if(oe.isEmptyObject(d))"inline"===("none"===u?E(e.nodeName):u)&&(h.display=u);else{f?"hidden"in f&&(p=f.hidden):f=ke.access(e,"fxshow",{}),o&&(f.hidden=!p),p?oe(e).show():c.done(function(){oe(e).hide()}),c.done(function(){var t;ke.remove(e,"fxshow");for(t in d)oe.style(e,t,d[t])});for(i in d)s=R(p?f[i]:0,i,c),i in f||(f[i]=s.start,p&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function $(e,t){var n,i,r,o,s;for(n in e)if(i=oe.camelCase(n),r=t[i],o=e[n],oe.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(s=oe.cssHooks[i])&&"expand"in s){o=s.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function V(e,t,n){var i,r,o=0,s=V.prefilters.length,a=oe.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=it||D(),n=Math.max(0,u.startTime+u.duration-t),i=n/u.duration||0,o=1-i,s=0,l=u.tweens.length;l>s;s++)u.tweens[s].run(o);return a.notifyWith(e,[u,o,n]),1>o&&l?n:(a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:oe.extend({},t),opts:oe.extend(!0,{specialEasing:{},easing:oe.easing._default},n),originalProperties:t,originalOptions:n,startTime:it||D(),duration:n.duration,tweens:[],createTween:function(t,n){var i=oe.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)u.tweens[n].run(1);return t?(a.notifyWith(e,[u,1,0]),a.resolveWith(e,[u,t])):a.rejectWith(e,[u,t]),this}}),c=u.props;for($(c,u.opts.specialEasing);s>o;o++)if(i=V.prefilters[o].call(u,e,c,u.opts))return oe.isFunction(i.stop)&&(oe._queueHooks(u.elem,u.opts.queue).stop=oe.proxy(i.stop,i)),i;return oe.map(c,R,u),oe.isFunction(u.opts.start)&&u.opts.start.call(e,u),oe.fx.timer(oe.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function H(e){return e.getAttribute&&e.getAttribute("class")||""}function F(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(we)||[];if(oe.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function B(e,t,n,i){function r(a){var l;return o[a]=!0,oe.each(e[a]||[],function(e,a){var u=a(t,n,i);return"string"!=typeof u||s||o[u]?s?!(l=u):void 0:(t.dataTypes.unshift(u),r(u),!1)}),l}var o={},s=e===Et;return r(t.dataTypes[0])||!o["*"]&&r("*")}function q(e,t){var n,i,r=oe.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&oe.extend(!0,e,i),e}function U(e,t,n){for(var i,r,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function z(e,t,n,i){var r,o,s,a,l,u={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)u[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=u[l+" "+o]||u["* "+o]))for(r in u)if(a=r.split(" "),a[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[r]:!0!==u[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function W(e,t,n,i){var r;if(oe.isArray(t))oe.each(t,function(t,r){n||Nt.test(e)?i(e,r):W(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==oe.type(t))i(e,t);else for(r in t)W(e+"["+r+"]",t[r],n,i)}function G(e){return oe.isWindow(e)?e:9===e.nodeType&&e.defaultView}var J=[],Q=e.document,K=J.slice,X=J.concat,Y=J.push,Z=J.indexOf,ee={},te=ee.toString,ne=ee.hasOwnProperty,ie={},re="2.2.4",oe=function(e,t){return new oe.fn.init(e,t)},se=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,le=/-([\da-z])/gi,ue=function(e,t){return t.toUpperCase()};oe.fn=oe.prototype={jquery:re,constructor:oe,selector:"",length:0,toArray:function(){return K.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:K.call(this)},pushStack:function(e){var t=oe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return oe.each(this,e)},map:function(e){return this.pushStack(oe.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(K.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:Y,sort:J.sort,splice:J.splice},oe.extend=oe.fn.extend=function(){var e,t,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||oe.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],i=e[t],s!==i&&(u&&i&&(oe.isPlainObject(i)||(r=oe.isArray(i)))?(r?(r=!1,o=n&&oe.isArray(n)?n:[]):o=n&&oe.isPlainObject(n)?n:{},s[t]=oe.extend(u,o,i)):void 0!==i&&(s[t]=i));return s},oe.extend({expando:"jQuery"+(re+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===oe.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!oe.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==oe.type(e)||e.nodeType||oe.isWindow(e))return!1;if(e.constructor&&!ne.call(e,"constructor")&&!ne.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||ne.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ee[te.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=oe.trim(e))&&(1===e.indexOf("use strict")?(t=Q.createElement("script"),t.text=e,Q.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(ae,"ms-").replace(le,ue)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var i,r=0;if(n(e))for(i=e.length;i>r&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(se,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?oe.merge(i,"string"==typeof e?[e]:e):Y.call(i,e)),i},inArray:function(e,t,n){return null==t?-1:Z.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,s=!n;o>r;r++)!t(e[r],r)!==s&&i.push(e[r]);return i},map:function(e,t,i){var r,o,s=0,a=[];if(n(e))for(r=e.length;r>s;s++)null!=(o=t(e[s],s,i))&&a.push(o);else for(s in e)null!=(o=t(e[s],s,i))&&a.push(o);return X.apply([],a)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(n=e[t],t=e,e=n),oe.isFunction(e)?(i=K.call(arguments,2),r=function(){return e.apply(t||this,i.concat(K.call(arguments)))},r.guid=e.guid=e.guid||oe.guid++,r):void 0},now:Date.now,support:ie}),"function"==typeof Symbol&&(oe.fn[Symbol.iterator]=J[Symbol.iterator]),oe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ee["[object "+t+"]"]=t.toLowerCase()});var ce=function(e){function t(e,t,n,i){var r,o,s,a,u,d,h,p,f=t&&t.ownerDocument,m=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return n;if(!i&&((t?t.ownerDocument||t:$)!==O&&N(t),t=t||O,j)){if(11!==m&&(d=me.exec(e)))if(r=d[1]){if(9===m){if(!(s=t.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(f&&(s=f.getElementById(r))&&R(t,s)&&s.id===r)return n.push(s),n}else{if(d[2])return K.apply(n,t.getElementsByTagName(e)),n;if((r=d[3])&&b.getElementsByClassName&&t.getElementsByClassName)return K.apply(n,t.getElementsByClassName(r)),n}if(b.qsa&&!q[e+" "]&&(!I||!I.test(e))){if(1!==m)f=t,p=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(ve,"\\$&"):t.setAttribute("id",a=M),h=C(e),o=h.length,u=ce.test(a)?"#"+a:"[id='"+a+"']";o--;)h[o]=u+" "+c(h[o]);p=h.join(","),f=ge.test(e)&&l(t.parentNode)||t}if(p)try{return K.apply(n,f.querySelectorAll(p)),n}catch(e){}finally{a===M&&t.removeAttribute("id")}}}return E(e.replace(oe,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>w.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[M]=!0,e}function r(e){var t=O.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=n.length;i--;)w.attrHandle[n[i]]=t}function s(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||z)-(~e.sourceIndex||z);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function l(e){return e&&void 0!==e.getElementsByTagName&&e}function u(){}function c(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function d(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=H++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,s){var a,l,u,c=[V,o];if(s){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(u=t[M]||(t[M]={}),l=u[t.uniqueID]||(u[t.uniqueID]={}),(a=l[i])&&a[0]===V&&a[1]===o)return c[2]=a[2];if(l[i]=c,c[2]=e(t,n,s))return!0}}}function h(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function p(e,n,i){for(var r=0,o=n.length;o>r;r++)t(e,n[r],i);return i}function f(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,u=null!=t;l>a;a++)(o=e[a])&&(n&&!n(o,i,r)||(s.push(o),u&&t.push(a)));return s}function m(e,t,n,r,o,s){return r&&!r[M]&&(r=m(r)),o&&!o[M]&&(o=m(o,s)),i(function(i,s,a,l){var u,c,d,h=[],m=[],g=s.length,v=i||p(t||"*",a.nodeType?[a]:a,[]),y=!e||!i&&t?v:f(v,h,e,a,l),b=n?o||(i?e:g||r)?[]:s:y;if(n&&n(y,b,a,l),r)for(u=f(b,m),r(u,[],a,l),c=u.length;c--;)(d=u[c])&&(b[m[c]]=!(y[m[c]]=d));if(i){if(o||e){if(o){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(y[c]=d);o(null,b=[],u,l)}for(c=b.length;c--;)(d=b[c])&&(u=o?Y(i,d):h[c])>-1&&(i[u]=!(s[u]=d))}}else b=f(b===s?b.splice(g,b.length):b),o?o(null,s,b,l):K.apply(s,b)})}function g(e){for(var t,n,i,r=e.length,o=w.relative[e[0].type],s=o||w.relative[" "],a=o?1:0,l=d(function(e){return e===t},s,!0),u=d(function(e){return Y(t,e)>-1},s,!0),p=[function(e,n,i){var r=!o&&(i||n!==S)||((t=n).nodeType?l(e,n,i):u(e,n,i));return t=null,r}];r>a;a++)if(n=w.relative[e[a].type])p=[d(h(p),n)];else{if(n=w.filter[e[a].type].apply(null,e[a].matches),n[M]){for(i=++a;r>i&&!w.relative[e[i].type];i++);return m(a>1&&h(p),a>1&&c(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(oe,"$1"),n,i>a&&g(e.slice(a,i)),r>i&&g(e=e.slice(i)),r>i&&c(e))}p.push(n)}return h(p)}function v(e,n){var r=n.length>0,o=e.length>0,s=function(i,s,a,l,u){var c,d,h,p=0,m="0",g=i&&[],v=[],y=S,b=i||o&&w.find.TAG("*",u),_=V+=null==y?1:Math.random()||.1,x=b.length;for(u&&(S=s===O||s||u);m!==x&&null!=(c=b[m]);m++){if(o&&c){for(d=0,s||c.ownerDocument===O||(N(c),a=!j);h=e[d++];)if(h(c,s||O,a)){l.push(c);break}u&&(V=_)}r&&((c=!h&&c)&&p--,i&&g.push(c))}if(p+=m,r&&m!==p){for(d=0;h=n[d++];)h(g,v,s,a);if(i){if(p>0)for(;m--;)g[m]||v[m]||(v[m]=J.call(l));v=f(v)}K.apply(l,v),u&&!i&&v.length>0&&p+n.length>1&&t.uniqueSort(l)}return u&&(V=_,S=y),g};return r?i(s):s}var y,b,w,_,x,C,k,E,S,T,A,N,O,P,j,I,D,L,R,M="sizzle"+1*new Date,$=e.document,V=0,H=0,F=n(),B=n(),q=n(),U=function(e,t){return e===t&&(A=!0),0},z=1<<31,W={}.hasOwnProperty,G=[],J=G.pop,Q=G.push,K=G.push,X=G.slice,Y=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ne="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",ie=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+")*)|.*)\\)|)",re=new RegExp(ee+"+","g"),oe=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),se=new RegExp("^"+ee+"*,"+ee+"*"),ae=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),le=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),ue=new RegExp(ie),ce=new RegExp("^"+te+"$"),de={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+ie),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,pe=/^h\d$/i,fe=/^[^{]+\{\s*\[native \w/,me=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ge=/[+~]/,ve=/'|\\/g,ye=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),be=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},we=function(){N()};try{K.apply(G=X.call($.childNodes),$.childNodes),G[$.childNodes.length].nodeType}catch(e){K={apply:G.length?function(e,t){Q.apply(e,X.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}b=t.support={},x=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},N=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:$;return i!==O&&9===i.nodeType&&i.documentElement?(O=i,P=O.documentElement,j=!x(O),(n=O.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",we,!1):n.attachEvent&&n.attachEvent("onunload",we)),b.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),b.getElementsByTagName=r(function(e){return e.appendChild(O.createComment("")),!e.getElementsByTagName("*").length}),b.getElementsByClassName=fe.test(O.getElementsByClassName),b.getById=r(function(e){return P.appendChild(e).id=M,!O.getElementsByName||!O.getElementsByName(M).length}),b.getById?(w.find.ID=function(e,t){if(void 0!==t.getElementById&&j){var n=t.getElementById(e);return n?[n]:[]}},w.filter.ID=function(e){var t=e.replace(ye,be);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(ye,be);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),w.find.TAG=b.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):b.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},w.find.CLASS=b.getElementsByClassName&&function(e,t){return void 0!==t.getElementsByClassName&&j?t.getElementsByClassName(e):void 0},D=[],I=[],(b.qsa=fe.test(O.querySelectorAll))&&(r(function(e){P.appendChild(e).innerHTML="<a id='"+M+"'></a><select id='"+M+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||I.push("\\["+ee+"*(?:value|"+Z+")"),e.querySelectorAll("[id~="+M+"-]").length||I.push("~="),e.querySelectorAll(":checked").length||I.push(":checked"),e.querySelectorAll("a#"+M+"+*").length||I.push(".#.+[+~]")}),r(function(e){var t=O.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&I.push("name"+ee+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),I.push(",.*:")})),(b.matchesSelector=fe.test(L=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&r(function(e){b.disconnectedMatch=L.call(e,"div"),L.call(e,"[s!='']:x"),D.push("!=",ie)}),I=I.length&&new RegExp(I.join("|")),D=D.length&&new RegExp(D.join("|")),t=fe.test(P.compareDocumentPosition),R=t||fe.test(P.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!b.sortDetached&&t.compareDocumentPosition(e)===n?e===O||e.ownerDocument===$&&R($,e)?-1:t===O||t.ownerDocument===$&&R($,t)?1:T?Y(T,e)-Y(T,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,a=[e],l=[t];if(!r||!o)return e===O?-1:t===O?1:r?-1:o?1:T?Y(T,e)-Y(T,t):0;if(r===o)return s(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;a[i]===l[i];)i++;return i?s(a[i],l[i]):a[i]===$?-1:l[i]===$?1:0},O):O},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==O&&N(e),n=n.replace(le,"='$1']"),b.matchesSelector&&j&&!q[n+" "]&&(!D||!D.test(n))&&(!I||!I.test(n)))try{var i=L.call(e,n);if(i||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return t(n,O,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==O&&N(e),R(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==O&&N(e);var n=w.attrHandle[t.toLowerCase()],i=n&&W.call(w.attrHandle,t.toLowerCase())?n(e,t,!j):void 0;return void 0!==i?i:b.attributes||!j?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(A=!b.detectDuplicates,T=!b.sortStable&&e.slice(0),e.sort(U),A){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return T=null,e},_=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=_(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=_(t);return n},w=t.selectors={cacheLength:50,createPseudo:i,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ye,be),e[3]=(e[3]||e[4]||e[5]||"").replace(ye,be),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ue.test(n)&&(t=C(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ye,be).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=F[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&F(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(re," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,h,p,f,m=o!==s?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(g){if(o){for(;m;){for(h=t;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&y){for(h=g,d=h[M]||(h[M]={}),c=d[h.uniqueID]||(d[h.uniqueID]={}),u=c[e]||[],p=u[0]===V&&u[1],b=p&&u[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(b=p=0)||f.pop();)if(1===h.nodeType&&++b&&h===t){c[e]=[V,p,b];break}}else if(y&&(h=t,d=h[M]||(h[M]={}),c=d[h.uniqueID]||(d[h.uniqueID]={}),u=c[e]||[],p=u[0]===V&&u[1],b=p),!1===b)for(;(h=++p&&h&&h[m]||(b=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&(d=h[M]||(h[M]={}),c=d[h.uniqueID]||(d[h.uniqueID]={}),c[e]=[V,b]),h!==t)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(e,n){var r,o=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[M]?o(n):o.length>1?(r=[e,e,"",n],w.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),s=r.length;s--;)i=Y(e,r[s]),e[i]=!(t[i]=r[s])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=k(e.replace(oe,"$1"));return r[M]?i(function(e,t,n,i){for(var o,s=r(e,null,i,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(ye,be),function(t){return(t.textContent||t.innerText||_(t)).indexOf(e)>-1}}),lang:i(function(e){return ce.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ye,be).toLowerCase(),function(t){var n;do{if(n=j?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===P},focus:function(e){return e===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return pe.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:a(function(){return[0]}),last:a(function(e,t){return[t-1]}),eq:a(function(e,t,n){return[0>n?n+t:n]}),even:a(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:a(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:a(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:a(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})
}},w.pseudos.nth=w.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[y]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(y);for(y in{submit:!0,reset:!0})w.pseudos[y]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(y);return u.prototype=w.filters=w.pseudos,w.setFilters=new u,C=t.tokenize=function(e,n){var i,r,o,s,a,l,u,c=B[e+" "];if(c)return n?0:c.slice(0);for(a=e,l=[],u=w.preFilter;a;){i&&!(r=se.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=ae.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(oe," ")}),a=a.slice(i.length));for(s in w.filter)!(r=de[s].exec(a))||u[s]&&!(r=u[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?t.error(e):B(e,l).slice(0)},k=t.compile=function(e,t){var n,i=[],r=[],o=q[e+" "];if(!o){for(t||(t=C(e)),n=t.length;n--;)o=g(t[n]),o[M]?i.push(o):r.push(o);o=q(e,v(r,i)),o.selector=e}return o},E=t.select=function(e,t,n,i){var r,o,s,a,u,d="function"==typeof e&&e,h=!i&&C(e=d.selector||e);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&b.getById&&9===t.nodeType&&j&&w.relative[o[1].type]){if(!(t=(w.find.ID(s.matches[0].replace(ye,be),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=de.needsContext.test(e)?0:o.length;r--&&(s=o[r],!w.relative[a=s.type]);)if((u=w.find[a])&&(i=u(s.matches[0].replace(ye,be),ge.test(o[0].type)&&l(t.parentNode)||t))){if(o.splice(r,1),!(e=i.length&&c(o)))return K.apply(n,i),n;break}}return(d||k(e,h))(i,t,!j,n,!t||ge.test(e)&&l(t.parentNode)||t),n},b.sortStable=M.split("").sort(U).join("")===M,b.detectDuplicates=!!A,N(),b.sortDetached=r(function(e){return 1&e.compareDocumentPosition(O.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),b.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(Z,function(e,t,n){var i;return n?void 0:!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);oe.find=ce,oe.expr=ce.selectors,oe.expr[":"]=oe.expr.pseudos,oe.uniqueSort=oe.unique=ce.uniqueSort,oe.text=ce.getText,oe.isXMLDoc=ce.isXML,oe.contains=ce.contains;var de=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&oe(e).is(n))break;i.push(e)}return i},he=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},pe=oe.expr.match.needsContext,fe=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,me=/^.[^:#\[\.,]*$/;oe.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?oe.find.matchesSelector(i,e)?[i]:[]:oe.find.matches(e,oe.grep(t,function(e){return 1===e.nodeType}))},oe.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if("string"!=typeof e)return this.pushStack(oe(e).filter(function(){for(t=0;n>t;t++)if(oe.contains(r[t],this))return!0}));for(t=0;n>t;t++)oe.find(e,r[t],i);return i=this.pushStack(n>1?oe.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&pe.test(e)?oe(e):e||[],!1).length}});var ge,ve=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(oe.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||ge,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ve.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof oe?t[0]:t,oe.merge(this,oe.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:Q,!0)),fe.test(i[1])&&oe.isPlainObject(t))for(i in t)oe.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return r=Q.getElementById(i[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=Q,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):oe.isFunction(e)?void 0!==n.ready?n.ready(e):e(oe):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),oe.makeArray(e,this))}).prototype=oe.fn,ge=oe(Q);var ye=/^(?:parents|prev(?:Until|All))/,be={children:!0,contents:!0,next:!0,prev:!0};oe.fn.extend({has:function(e){var t=oe(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(oe.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],s=pe.test(e)||"string"!=typeof e?oe(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&oe.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?oe.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?Z.call(oe(e),this[0]):Z.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(oe.uniqueSort(oe.merge(this.get(),oe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),oe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return de(e,"parentNode")},parentsUntil:function(e,t,n){return de(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return de(e,"nextSibling")},prevAll:function(e){return de(e,"previousSibling")},nextUntil:function(e,t,n){return de(e,"nextSibling",n)},prevUntil:function(e,t,n){return de(e,"previousSibling",n)},siblings:function(e){return he((e.parentNode||{}).firstChild,e)},children:function(e){return he(e.firstChild)},contents:function(e){return e.contentDocument||oe.merge([],e.childNodes)}},function(e,t){oe.fn[e]=function(n,i){var r=oe.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=oe.filter(i,r)),this.length>1&&(be[e]||oe.uniqueSort(r),ye.test(e)&&r.reverse()),this.pushStack(r)}});var we=/\S+/g;oe.Callbacks=function(e){e="string"==typeof e?o(e):oe.extend({},e);var t,n,i,r,s=[],a=[],l=-1,u=function(){for(r=e.once,i=t=!0;a.length;l=-1)for(n=a.shift();++l<s.length;)!1===s[l].apply(n[0],n[1])&&e.stopOnFalse&&(l=s.length,n=!1);e.memory||(n=!1),t=!1,r&&(s=n?[]:"")},c={add:function(){return s&&(n&&!t&&(l=s.length-1,a.push(n)),function t(n){oe.each(n,function(n,i){oe.isFunction(i)?e.unique&&c.has(i)||s.push(i):i&&i.length&&"string"!==oe.type(i)&&t(i)})}(arguments),n&&!t&&u()),this},remove:function(){return oe.each(arguments,function(e,t){for(var n;(n=oe.inArray(t,s,n))>-1;)s.splice(n,1),l>=n&&l--}),this},has:function(e){return e?oe.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=a=[],s=n="",this},disabled:function(){return!s},lock:function(){return r=a=[],n||(s=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=n||[],n=[e,n.slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},oe.extend({Deferred:function(e){var t=[["resolve","done",oe.Callbacks("once memory"),"resolved"],["reject","fail",oe.Callbacks("once memory"),"rejected"],["notify","progress",oe.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return oe.Deferred(function(n){oe.each(t,function(t,o){var s=oe.isFunction(e[t])&&e[t];r[o[1]](function(){var e=s&&s.apply(this,arguments);e&&oe.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?oe.extend(e,i):i}},r={};return i.pipe=i.then,oe.each(t,function(e,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=K.call(arguments),s=o.length,a=1!==s||e&&oe.isFunction(e.promise)?s:0,l=1===a?e:oe.Deferred(),u=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?K.call(arguments):r,i===t?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&oe.isFunction(o[r].promise)?o[r].promise().progress(u(r,n,t)).done(u(r,i,o)).fail(l.reject):--a;return a||l.resolveWith(i,o),l.promise()}});var _e;oe.fn.ready=function(e){return oe.ready.promise().done(e),this},oe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?oe.readyWait++:oe.ready(!0)},ready:function(e){(!0===e?--oe.readyWait:oe.isReady)||(oe.isReady=!0,!0!==e&&--oe.readyWait>0||(_e.resolveWith(Q,[oe]),oe.fn.triggerHandler&&(oe(Q).triggerHandler("ready"),oe(Q).off("ready"))))}}),oe.ready.promise=function(t){return _e||(_e=oe.Deferred(),"complete"===Q.readyState||"loading"!==Q.readyState&&!Q.documentElement.doScroll?e.setTimeout(oe.ready):(Q.addEventListener("DOMContentLoaded",s),e.addEventListener("load",s))),_e.promise(t)},oe.ready.promise();var xe=function(e,t,n,i,r,o,s){var a=0,l=e.length,u=null==n;if("object"===oe.type(n)){r=!0;for(a in n)xe(e,t,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,oe.isFunction(i)||(s=!0),u&&(s?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(oe(e),n)})),t))for(;l>a;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return r?e:u?t.call(e):l?t(e[0],n):o},Ce=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};a.uid=1,a.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!Ce(e))return{};var t=e[this.expando];return t||(t={},Ce(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[t]=n;else for(i in t)r[i]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?(i=this.get(e,t),void 0!==i?i:this.get(e,oe.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,r,o=e[this.expando];if(void 0!==o){if(void 0===t)this.register(e);else{oe.isArray(t)?i=t.concat(t.map(oe.camelCase)):(r=oe.camelCase(t),t in o?i=[t,r]:(i=r,i=i in o?[i]:i.match(we)||[])),n=i.length;for(;n--;)delete o[i[n]]}(void 0===t||oe.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!oe.isEmptyObject(t)}};var ke=new a,Ee=new a,Se=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Te=/[A-Z]/g;oe.extend({hasData:function(e){return Ee.hasData(e)||ke.hasData(e)},data:function(e,t,n){return Ee.access(e,t,n)},removeData:function(e,t){Ee.remove(e,t)},_data:function(e,t,n){return ke.access(e,t,n)},_removeData:function(e,t){ke.remove(e,t)}}),oe.fn.extend({data:function(e,t){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(r=Ee.get(o),1===o.nodeType&&!ke.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=oe.camelCase(i.slice(5)),l(o,i,r[i])));ke.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){Ee.set(this,e)}):xe(this,function(t){var n,i;if(o&&void 0===t){if(void 0!==(n=Ee.get(o,e)||Ee.get(o,e.replace(Te,"-$&").toLowerCase())))return n;if(i=oe.camelCase(e),void 0!==(n=Ee.get(o,i)))return n;if(void 0!==(n=l(o,i,void 0)))return n}else i=oe.camelCase(e),this.each(function(){var n=Ee.get(this,i);Ee.set(this,i,t),e.indexOf("-")>-1&&void 0!==n&&Ee.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ee.remove(this,e)})}}),oe.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=ke.get(e,t),n&&(!i||oe.isArray(n)?i=ke.access(e,t,oe.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=oe.queue(e,t),i=n.length,r=n.shift(),o=oe._queueHooks(e,t),s=function(){oe.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ke.get(e,n)||ke.access(e,n,{empty:oe.Callbacks("once memory").add(function(){ke.remove(e,[t+"queue",n])})})}}),oe.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?oe.queue(this[0],e):void 0===t?this:this.each(function(){var n=oe.queue(this,e,t);oe._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&oe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){oe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=oe.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=ke.get(o[s],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(t)}});var Ae=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ne=new RegExp("^(?:([+-])=|)("+Ae+")([a-z%]*)$","i"),Oe=["Top","Right","Bottom","Left"],Pe=function(e,t){return e=t||e,"none"===oe.css(e,"display")||!oe.contains(e.ownerDocument,e)},je=/^(?:checkbox|radio)$/i,Ie=/<([\w:-]+)/,De=/^$|\/(?:java|ecma)script/i,Le={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Le.optgroup=Le.option,Le.tbody=Le.tfoot=Le.colgroup=Le.caption=Le.thead,Le.th=Le.td;var Re=/<|&#?\w+;/;!function(){var e=Q.createDocumentFragment(),t=e.appendChild(Q.createElement("div")),n=Q.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),ie.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",ie.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Me=/^key/,$e=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ve=/^([^.]*)(?:\.(.+)|)/;oe.event={global:{},add:function(e,t,n,i,r){var o,s,a,l,u,c,d,h,p,f,m,g=ke.get(e);if(g)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=oe.guid++),(l=g.events)||(l=g.events={}),(s=g.handle)||(s=g.handle=function(t){return void 0!==oe&&oe.event.triggered!==t.type?oe.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(we)||[""],u=t.length;u--;)a=Ve.exec(t[u])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p&&(d=oe.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=oe.event.special[p]||{},c=oe.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&oe.expr.match.needsContext.test(r),namespace:f.join(".")},o),(h=l[p])||(h=l[p]=[],h.delegateCount=0,d.setup&&!1!==d.setup.call(e,i,f,s)||e.addEventListener&&e.addEventListener(p,s)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,c):h.push(c),oe.event.global[p]=!0)},remove:function(e,t,n,i,r){var o,s,a,l,u,c,d,h,p,f,m,g=ke.hasData(e)&&ke.get(e);if(g&&(l=g.events)){for(t=(t||"").match(we)||[""],u=t.length;u--;)if(a=Ve.exec(t[u])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(d=oe.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,h=l[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=h.length;o--;)c=h[o],!r&&m!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(h.splice(o,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(e,c));s&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,f,g.handle)||oe.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)oe.event.remove(e,p+t[u],n,i,!0);oe.isEmptyObject(l)&&ke.remove(e,"handle events")}},dispatch:function(e){e=oe.event.fix(e);var t,n,i,r,o,s=[],a=K.call(arguments),l=(ke.get(this,"events")||{})[e.type]||[],u=oe.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(s=oe.event.handlers.call(this,e,l),t=0;(r=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,void 0!==(i=((oe.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a))&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,s=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(i=[],n=0;a>n;n++)o=t[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?oe(r,this).index(l)>-1:oe.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&s.push({elem:l,handlers:i})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||Q,i=n.documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[oe.expando])return e;var t,n,i,r=e.type,o=e,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=$e.test(r)?this.mouseHooks:Me.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new oe.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=Q),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==m()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===m()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&oe.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return oe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},oe.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},oe.Event=function(e,t){return this instanceof oe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?p:f):this.type=e,t&&oe.extend(this,t),this.timeStamp=e&&e.timeStamp||oe.now(),void(this[oe.expando]=!0)):new oe.Event(e,t)},oe.Event.prototype={constructor:oe.Event,isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=p,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=p,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=p,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},oe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){oe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return r&&(r===i||oe.contains(i,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),oe.fn.extend({on:function(e,t,n,i){return g(this,e,t,n,i)},one:function(e,t,n,i){return g(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,oe(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=f),this.each(function(){oe.event.remove(this,e,n,t)})}});var He=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Fe=/<script|<style|<link/i,Be=/checked\s*(?:[^=]|=\s*.checked.)/i,qe=/^true\/(.*)/,Ue=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;oe.extend({htmlPrefilter:function(e){return e.replace(He,"<$1></$2>")},clone:function(e,t,n){var i,r,o,s,a=e.cloneNode(!0),l=oe.contains(e.ownerDocument,e);if(!(ie.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||oe.isXMLDoc(e)))for(s=c(a),o=c(e),i=0,r=o.length;r>i;i++)_(o[i],s[i]);if(t)if(n)for(o=o||c(e),s=s||c(a),i=0,r=o.length;r>i;i++)w(o[i],s[i]);else w(e,a);return s=c(a,"script"),s.length>0&&d(s,!l&&c(e,"script")),a},cleanData:function(e){for(var t,n,i,r=oe.event.special,o=0;void 0!==(n=e[o]);o++)if(Ce(n)){if(t=n[ke.expando]){if(t.events)for(i in t.events)r[i]?oe.event.remove(n,i):oe.removeEvent(n,i,t.handle);n[ke.expando]=void 0}n[Ee.expando]&&(n[Ee.expando]=void 0)}}}),oe.fn.extend({domManip:x,detach:function(e){return C(this,e,!0)},remove:function(e){return C(this,e)},text:function(e){return xe(this,function(e){return void 0===e?oe.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return x(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){v(this,e).appendChild(e)}})},prepend:function(){return x(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return x(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return x(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(oe.cleanData(c(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return oe.clone(this,e,t)})},html:function(e){return xe(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Fe.test(e)&&!Le[(Ie.exec(e)||["",""])[1].toLowerCase()]){e=oe.htmlPrefilter(e);try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(oe.cleanData(c(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return x(this,arguments,function(t){var n=this.parentNode;oe.inArray(this,e)<0&&(oe.cleanData(c(this)),n&&n.replaceChild(t,this))},e)}}),oe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){oe.fn[e]=function(e){for(var n,i=[],r=oe(e),o=r.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),oe(r[s])[t](n),Y.apply(i,n.get());return this.pushStack(i)}});var ze,We={HTML:"block",BODY:"block"},Ge=/^margin/,Je=new RegExp("^("+Ae+")(?!px)[a-z%]+$","i"),Qe=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Ke=function(e,t,n,i){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=s[o];return r},Xe=Q.documentElement;!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Xe.appendChild(s);var t=e.getComputedStyle(a);n="1%"!==t.top,o="2px"===t.marginLeft,i="4px"===t.width,a.style.marginRight="50%",r="4px"===t.marginRight,Xe.removeChild(s)}var n,i,r,o,s=Q.createElement("div"),a=Q.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",ie.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),oe.extend(ie,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==i&&t(),i},pixelMarginRight:function(){return null==i&&t(),r},reliableMarginLeft:function(){return null==i&&t(),o},reliableMarginRight:function(){var t,n=a.appendChild(Q.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",Xe.appendChild(s),t=!parseFloat(e.getComputedStyle(n).marginRight),Xe.removeChild(s),a.removeChild(n),t}}))}();var Ye=/^(none|table(?!-c[ea]).+)/,Ze={position:"absolute",visibility:"hidden",display:"block"},et={letterSpacing:"0",fontWeight:"400"},tt=["Webkit","O","Moz","ms"],nt=Q.createElement("div").style;oe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=S(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=oe.camelCase(t),l=e.style;return t=oe.cssProps[a]||(oe.cssProps[a]=A(a)||a),s=oe.cssHooks[t]||oe.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(r=s.get(e,!1,i))?r:l[t]:(o=typeof n,"string"===o&&(r=Ne.exec(n))&&r[1]&&(n=u(e,t,r),o="number"),void(null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(oe.cssNumber[a]?"":"px")),ie.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(l[t]=n))))}},css:function(e,t,n,i){var r,o,s,a=oe.camelCase(t);return t=oe.cssProps[a]||(oe.cssProps[a]=A(a)||a),s=oe.cssHooks[t]||oe.cssHooks[a],s&&"get"in s&&(r=s.get(e,!0,n)),void 0===r&&(r=S(e,t,i)),"normal"===r&&t in et&&(r=et[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),oe.each(["height","width"],function(e,t){oe.cssHooks[t]={get:function(e,n,i){return n?Ye.test(oe.css(e,"display"))&&0===e.offsetWidth?Ke(e,Ze,function(){return P(e,t,i)}):P(e,t,i):void 0},set:function(e,n,i){var r,o=i&&Qe(e),s=i&&O(e,t,i,"border-box"===oe.css(e,"boxSizing",!1,o),o);return s&&(r=Ne.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=oe.css(e,t)),N(e,n,s)}}}),oe.cssHooks.marginLeft=T(ie.reliableMarginLeft,function(e,t){return t?(parseFloat(S(e,"marginLeft"))||e.getBoundingClientRect().left-Ke(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px":void 0}),oe.cssHooks.marginRight=T(ie.reliableMarginRight,function(e,t){return t?Ke(e,{display:"inline-block"},S,[e,"marginRight"]):void 0}),oe.each({margin:"",padding:"",border:"Width"},function(e,t){oe.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+Oe[i]+t]=o[i]||o[i-2]||o[0];return r}},Ge.test(e)||(oe.cssHooks[e+t].set=N)}),oe.fn.extend({css:function(e,t){return xe(this,function(e,t,n){var i,r,o={},s=0;if(oe.isArray(t)){for(i=Qe(e),r=t.length;r>s;s++)o[t[s]]=oe.css(e,t[s],!1,i);return o}return void 0!==n?oe.style(e,t,n):oe.css(e,t)},e,t,arguments.length>1)},show:function(){return j(this,!0)},hide:function(){return j(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Pe(this)?oe(this).show():oe(this).hide()})}}),oe.Tween=I,I.prototype={constructor:I,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||oe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(oe.cssNumber[n]?"":"px")},cur:function(){var e=I.propHooks[this.prop];return e&&e.get?e.get(this):I.propHooks._default.get(this)},run:function(e){var t,n=I.propHooks[this.prop];return this.options.duration?this.pos=t=oe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=oe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){oe.fx.step[e.prop]?oe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[oe.cssProps[e.prop]]&&!oe.cssHooks[e.prop]?e.elem[e.prop]=e.now:oe.style(e.elem,e.prop,e.now+e.unit)}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},oe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},oe.fx=I.prototype.init,oe.fx.step={};var it,rt,ot=/^(?:toggle|show|hide)$/,st=/queueHooks$/;oe.Animation=oe.extend(V,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return u(n.elem,e,Ne.exec(t),n),n}]},tweener:function(e,t){oe.isFunction(e)?(t=e,e=["*"]):e=e.match(we);for(var n,i=0,r=e.length;r>i;i++)n=e[i],V.tweeners[n]=V.tweeners[n]||[],V.tweeners[n].unshift(t)},prefilters:[M],prefilter:function(e,t){t?V.prefilters.unshift(e):V.prefilters.push(e)}}),oe.speed=function(e,t,n){var i=e&&"object"==typeof e?oe.extend({},e):{complete:n||!n&&t||oe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!oe.isFunction(t)&&t};return i.duration=oe.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in oe.fx.speeds?oe.fx.speeds[i.duration]:oe.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){oe.isFunction(i.old)&&i.old.call(this),i.queue&&oe.dequeue(this,i.queue)},i},oe.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Pe).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=oe.isEmptyObject(e),o=oe.speed(t,n,i),s=function(){var t=V(this,oe.extend({},e),o);(r||ke.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=oe.timers,s=ke.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&st.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||oe.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=ke.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=oe.timers,s=i?i.length:0;for(n.finish=!0,oe.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),oe.each(["toggle","show","hide"],function(e,t){var n=oe.fn[t];oe.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(L(t,!0),e,i,r)}}),oe.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){oe.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),oe.timers=[],oe.fx.tick=function(){var e,t=0,n=oe.timers
;for(it=oe.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||oe.fx.stop(),it=void 0},oe.fx.timer=function(e){oe.timers.push(e),e()?oe.fx.start():oe.timers.pop()},oe.fx.interval=13,oe.fx.start=function(){rt||(rt=e.setInterval(oe.fx.tick,oe.fx.interval))},oe.fx.stop=function(){e.clearInterval(rt),rt=null},oe.fx.speeds={slow:600,fast:200,_default:400},oe.fn.delay=function(t,n){return t=oe.fx?oe.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,i){var r=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(r)}})},function(){var e=Q.createElement("input"),t=Q.createElement("select"),n=t.appendChild(Q.createElement("option"));e.type="checkbox",ie.checkOn=""!==e.value,ie.optSelected=n.selected,t.disabled=!0,ie.optDisabled=!n.disabled,e=Q.createElement("input"),e.value="t",e.type="radio",ie.radioValue="t"===e.value}();var at,lt=oe.expr.attrHandle;oe.fn.extend({attr:function(e,t){return xe(this,oe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){oe.removeAttr(this,e)})}}),oe.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?oe.prop(e,t,n):(1===o&&oe.isXMLDoc(e)||(t=t.toLowerCase(),r=oe.attrHooks[t]||(oe.expr.match.bool.test(t)?at:void 0)),void 0!==n?null===n?void oe.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=oe.find.attr(e,t),null==i?void 0:i))},attrHooks:{type:{set:function(e,t){if(!ie.radioValue&&"radio"===t&&oe.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(we);if(o&&1===e.nodeType)for(;n=o[r++];)i=oe.propFix[n]||n,oe.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)}}),at={set:function(e,t,n){return!1===t?oe.removeAttr(e,n):e.setAttribute(n,n),n}},oe.each(oe.expr.match.bool.source.match(/\w+/g),function(e,t){var n=lt[t]||oe.find.attr;lt[t]=function(e,t,i){var r,o;return i||(o=lt[t],lt[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,lt[t]=o),r}});var ut=/^(?:input|select|textarea|button)$/i,ct=/^(?:a|area)$/i;oe.fn.extend({prop:function(e,t){return xe(this,oe.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[oe.propFix[e]||e]})}}),oe.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&oe.isXMLDoc(e)||(t=oe.propFix[t]||t,r=oe.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=oe.find.attr(e,"tabindex");return t?parseInt(t,10):ut.test(e.nodeName)||ct.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ie.optSelected||(oe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),oe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){oe.propFix[this.toLowerCase()]=this});var dt=/[\t\r\n\f]/g;oe.fn.extend({addClass:function(e){var t,n,i,r,o,s,a,l=0;if(oe.isFunction(e))return this.each(function(t){oe(this).addClass(e.call(this,t,H(this)))});if("string"==typeof e&&e)for(t=e.match(we)||[];n=this[l++];)if(r=H(n),i=1===n.nodeType&&(" "+r+" ").replace(dt," ")){for(s=0;o=t[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a=oe.trim(i),r!==a&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,i,r,o,s,a,l=0;if(oe.isFunction(e))return this.each(function(t){oe(this).removeClass(e.call(this,t,H(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(we)||[];n=this[l++];)if(r=H(n),i=1===n.nodeType&&(" "+r+" ").replace(dt," ")){for(s=0;o=t[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");a=oe.trim(i),r!==a&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):oe.isFunction(e)?this.each(function(n){oe(this).toggleClass(e.call(this,n,H(this),t),t)}):this.each(function(){var t,i,r,o;if("string"===n)for(i=0,r=oe(this),o=e.match(we)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==n||(t=H(this),t&&ke.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":ke.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+H(n)+" ").replace(dt," ").indexOf(t)>-1)return!0;return!1}});var ht=/\r/g,pt=/[\x20\t\r\n\f]+/g;oe.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=oe.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,oe(this).val()):e,null==r?r="":"number"==typeof r?r+="":oe.isArray(r)&&(r=oe.map(r,function(e){return null==e?"":e+""})),(t=oe.valHooks[this.type]||oe.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=oe.valHooks[r.type]||oe.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(ht,""):null==n?"":n)):void 0}}),oe.extend({valHooks:{option:{get:function(e){var t=oe.find.attr(e,"value");return null!=t?t:oe.trim(oe.text(e)).replace(pt," ")}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,s=o?null:[],a=o?r+1:i.length,l=0>r?a:o?r:0;a>l;l++)if(n=i[l],(n.selected||l===r)&&(ie.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!oe.nodeName(n.parentNode,"optgroup"))){if(t=oe(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=oe.makeArray(t),s=r.length;s--;)i=r[s],(i.selected=oe.inArray(oe.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),oe.each(["radio","checkbox"],function(){oe.valHooks[this]={set:function(e,t){return oe.isArray(t)?e.checked=oe.inArray(oe(e).val(),t)>-1:void 0}},ie.checkOn||(oe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var ft=/^(?:focusinfocus|focusoutblur)$/;oe.extend(oe.event,{trigger:function(t,n,i,r){var o,s,a,l,u,c,d,h=[i||Q],p=ne.call(t,"type")?t.type:t,f=ne.call(t,"namespace")?t.namespace.split("."):[];if(s=a=i=i||Q,3!==i.nodeType&&8!==i.nodeType&&!ft.test(p+oe.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),u=p.indexOf(":")<0&&"on"+p,t=t[oe.expando]?t:new oe.Event(p,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:oe.makeArray(n,[t]),d=oe.event.special[p]||{},r||!d.trigger||!1!==d.trigger.apply(i,n))){if(!r&&!d.noBubble&&!oe.isWindow(i)){for(l=d.delegateType||p,ft.test(l+p)||(s=s.parentNode);s;s=s.parentNode)h.push(s),a=s;a===(i.ownerDocument||Q)&&h.push(a.defaultView||a.parentWindow||e)}for(o=0;(s=h[o++])&&!t.isPropagationStopped();)t.type=o>1?l:d.bindType||p,c=(ke.get(s,"events")||{})[t.type]&&ke.get(s,"handle"),c&&c.apply(s,n),(c=u&&s[u])&&c.apply&&Ce(s)&&(t.result=c.apply(s,n),!1===t.result&&t.preventDefault());return t.type=p,r||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(h.pop(),n)||!Ce(i)||u&&oe.isFunction(i[p])&&!oe.isWindow(i)&&(a=i[u],a&&(i[u]=null),oe.event.triggered=p,i[p](),oe.event.triggered=void 0,a&&(i[u]=a)),t.result}},simulate:function(e,t,n){var i=oe.extend(new oe.Event,n,{type:e,isSimulated:!0});oe.event.trigger(i,null,t)}}),oe.fn.extend({trigger:function(e,t){return this.each(function(){oe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?oe.event.trigger(e,t,n,!0):void 0}}),oe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){oe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),oe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ie.focusin="onfocusin"in e,ie.focusin||oe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){oe.event.simulate(t,e.target,oe.event.fix(e))};oe.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=ke.access(i,t);r||i.addEventListener(e,n,!0),ke.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=ke.access(i,t)-1;r?ke.access(i,t,r):(i.removeEventListener(e,n,!0),ke.remove(i,t))}}});var mt=e.location,gt=oe.now(),vt=/\?/;oe.parseJSON=function(e){return JSON.parse(e+"")},oe.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||oe.error("Invalid XML: "+t),n};var yt=/#.*$/,bt=/([?&])_=[^&]*/,wt=/^(.*?):[ \t]*([^\r\n]*)$/gm,_t=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,xt=/^(?:GET|HEAD)$/,Ct=/^\/\//,kt={},Et={},St="*/".concat("*"),Tt=Q.createElement("a");Tt.href=mt.href,oe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:mt.href,type:"GET",isLocal:_t.test(mt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":St,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":oe.parseJSON,"text xml":oe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?q(q(e,oe.ajaxSettings),t):q(oe.ajaxSettings,e)},ajaxPrefilter:F(kt),ajaxTransport:F(Et),ajax:function(t,n){function i(t,n,i,a){var u,d,y,b,_,C=n;2!==w&&(w=2,l&&e.clearTimeout(l),r=void 0,s=a||"",x.readyState=t>0?4:0,u=t>=200&&300>t||304===t,i&&(b=U(h,x,i)),b=z(h,b,x,u),u?(h.ifModified&&(_=x.getResponseHeader("Last-Modified"),_&&(oe.lastModified[o]=_),(_=x.getResponseHeader("etag"))&&(oe.etag[o]=_)),204===t||"HEAD"===h.type?C="nocontent":304===t?C="notmodified":(C=b.state,d=b.data,y=b.error,u=!y)):(y=C,!t&&C||(C="error",0>t&&(t=0))),x.status=t,x.statusText=(n||C)+"",u?m.resolveWith(p,[d,C,x]):m.rejectWith(p,[x,C,y]),x.statusCode(v),v=void 0,c&&f.trigger(u?"ajaxSuccess":"ajaxError",[x,h,u?d:y]),g.fireWith(p,[x,C]),c&&(f.trigger("ajaxComplete",[x,h]),--oe.active||oe.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,o,s,a,l,u,c,d,h=oe.ajaxSetup({},n),p=h.context||h,f=h.context&&(p.nodeType||p.jquery)?oe(p):oe.event,m=oe.Deferred(),g=oe.Callbacks("once memory"),v=h.statusCode||{},y={},b={},w=0,_="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!a)for(a={};t=wt.exec(s);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return w||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>w)for(t in e)v[t]=[v[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||_;return r&&r.abort(t),i(0,t),this}};if(m.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,h.url=((t||h.url||mt.href)+"").replace(yt,"").replace(Ct,mt.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=oe.trim(h.dataType||"*").toLowerCase().match(we)||[""],null==h.crossDomain){u=Q.createElement("a");try{u.href=h.url,u.href=u.href,h.crossDomain=Tt.protocol+"//"+Tt.host!=u.protocol+"//"+u.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=oe.param(h.data,h.traditional)),B(kt,h,n,x),2===w)return x;c=oe.event&&h.global,c&&0==oe.active++&&oe.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!xt.test(h.type),o=h.url,h.hasContent||(h.data&&(o=h.url+=(vt.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(h.url=bt.test(o)?o.replace(bt,"$1_="+gt++):o+(vt.test(o)?"&":"?")+"_="+gt++)),h.ifModified&&(oe.lastModified[o]&&x.setRequestHeader("If-Modified-Since",oe.lastModified[o]),oe.etag[o]&&x.setRequestHeader("If-None-Match",oe.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+St+"; q=0.01":""):h.accepts["*"]);for(d in h.headers)x.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(!1===h.beforeSend.call(p,x,h)||2===w))return x.abort();_="abort";for(d in{success:1,error:1,complete:1})x[d](h[d]);if(r=B(Et,h,n,x)){if(x.readyState=1,c&&f.trigger("ajaxSend",[x,h]),2===w)return x;h.async&&h.timeout>0&&(l=e.setTimeout(function(){x.abort("timeout")},h.timeout));try{w=1,r.send(y,i)}catch(e){if(!(2>w))throw e;i(-1,e)}}else i(-1,"No Transport");return x},getJSON:function(e,t,n){return oe.get(e,t,n,"json")},getScript:function(e,t){return oe.get(e,void 0,t,"script")}}),oe.each(["get","post"],function(e,t){oe[t]=function(e,n,i,r){return oe.isFunction(n)&&(r=r||i,i=n,n=void 0),oe.ajax(oe.extend({url:e,type:t,dataType:r,data:n,success:i},oe.isPlainObject(e)&&e))}}),oe._evalUrl=function(e){return oe.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},oe.fn.extend({wrapAll:function(e){var t;return oe.isFunction(e)?this.each(function(t){oe(this).wrapAll(e.call(this,t))}):(this[0]&&(t=oe(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return oe.isFunction(e)?this.each(function(t){oe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=oe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=oe.isFunction(e);return this.each(function(n){oe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){oe.nodeName(this,"body")||oe(this).replaceWith(this.childNodes)}).end()}}),oe.expr.filters.hidden=function(e){return!oe.expr.filters.visible(e)},oe.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var At=/%20/g,Nt=/\[\]$/,Ot=/\r?\n/g,Pt=/^(?:submit|button|image|reset|file)$/i,jt=/^(?:input|select|textarea|keygen)/i;oe.param=function(e,t){var n,i=[],r=function(e,t){t=oe.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=oe.ajaxSettings&&oe.ajaxSettings.traditional),oe.isArray(e)||e.jquery&&!oe.isPlainObject(e))oe.each(e,function(){r(this.name,this.value)});else for(n in e)W(n,e[n],t,r);return i.join("&").replace(At,"+")},oe.fn.extend({serialize:function(){return oe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=oe.prop(this,"elements");return e?oe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!oe(this).is(":disabled")&&jt.test(this.nodeName)&&!Pt.test(e)&&(this.checked||!je.test(e))}).map(function(e,t){var n=oe(this).val();return null==n?null:oe.isArray(n)?oe.map(n,function(e){return{name:t.name,value:e.replace(Ot,"\r\n")}}):{name:t.name,value:n.replace(Ot,"\r\n")}}).get()}}),oe.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var It={0:200,1223:204},Dt=oe.ajaxSettings.xhr();ie.cors=!!Dt&&"withCredentials"in Dt,ie.ajax=Dt=!!Dt,oe.ajaxTransport(function(t){var n,i;return ie.cors||Dt&&!t.crossDomain?{send:function(r,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(s in r)a.setRequestHeader(s,r[s]);n=function(e){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(It[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}:void 0}),oe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return oe.globalEval(e),e}}}),oe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),oe.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=oe("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),Q.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Lt=[],Rt=/(=)\?(?=&|$)|\?\?/;oe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Lt.pop()||oe.expando+"_"+gt++;return this[e]=!0,e}}),oe.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,s,a=!1!==t.jsonp&&(Rt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Rt.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=oe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Rt,"$1"+r):!1!==t.jsonp&&(t.url+=(vt.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||oe.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){s=arguments},i.always(function(){void 0===o?oe(e).removeProp(r):e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,Lt.push(r)),s&&oe.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),oe.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Q;var i=fe.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=h([e],t,r),r&&r.length&&oe(r).remove(),oe.merge([],i.childNodes))};var Mt=oe.fn.load;oe.fn.load=function(e,t,n){if("string"!=typeof e&&Mt)return Mt.apply(this,arguments);var i,r,o,s=this,a=e.indexOf(" ");return a>-1&&(i=oe.trim(e.slice(a)),e=e.slice(0,a)),oe.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),s.length>0&&oe.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(i?oe("<div>").append(oe.parseHTML(e)).find(i):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},oe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){oe.fn[t]=function(e){return this.on(t,e)}}),oe.expr.filters.animated=function(e){return oe.grep(oe.timers,function(t){return e===t.elem}).length},oe.offset={setOffset:function(e,t,n){var i,r,o,s,a,l,u,c=oe.css(e,"position"),d=oe(e),h={};"static"===c&&(e.style.position="relative"),a=d.offset(),o=oe.css(e,"top"),l=oe.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(i=d.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),oe.isFunction(t)&&(t=t.call(e,n,oe.extend({},a))),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+r),"using"in t?t.using.call(e,h):d.css(h)}},oe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){oe.offset.setOffset(this,e,t)});var t,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;return o?(t=o.documentElement,oe.contains(t,i)?(r=i.getBoundingClientRect(),n=G(o),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r):void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===oe.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),oe.nodeName(e[0],"html")||(i=e.offset()),i.top+=oe.css(e[0],"borderTopWidth",!0),i.left+=oe.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-oe.css(n,"marginTop",!0),left:t.left-i.left-oe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===oe.css(e,"position");)e=e.offsetParent;return e||Xe})}}),oe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;oe.fn[e]=function(i){return xe(this,function(e,i,r){var o=G(e);return void 0===r?o?o[t]:e[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r)},e,i,arguments.length)}}),oe.each(["top","left"],function(e,t){oe.cssHooks[t]=T(ie.pixelPosition,function(e,n){return n?(n=S(e,t),Je.test(n)?oe(e).position()[t]+"px":n):void 0})}),oe.each({Height:"height",Width:"width"},function(e,t){oe.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){oe.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===r?"margin":"border");return xe(this,function(t,n,i){var r;return oe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?oe.css(t,n,s):oe.style(t,n,i,s)},t,o?i:void 0,o,null)}})}),oe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),oe.fn.andSelf=oe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return oe});var $t=e.jQuery,Vt=e.$;return oe.noConflict=function(t){return e.$===oe&&(e.$=Vt),t&&e.jQuery===oe&&(e.jQuery=$t),oe},t||(e.jQuery=e.$=oe),oe}),function(){function e(e,t){if(e!==t){var n=null===e,i=e===w,r=e===e,o=null===t,s=t===w,a=t===t;if(e>t&&!o||!r||n&&!s&&a||i&&a)return 1;if(e<t&&!n||!a||o&&!i&&r||s&&r)return-1}return 0}function t(e,t,n){for(var i=e.length,r=n?i:-1;n?r--:++r<i;)if(t(e[r],r,e))return r;return-1}function n(e,t,n){if(t!==t)return h(e,n);n-=1;for(var i=e.length;++n<i;)if(e[n]===t)return n;return-1}function i(e){return"function"==typeof e||!1}function r(e){return null==e?"":e+""}function o(e,t){for(var n=-1,i=e.length;++n<i&&-1<t.indexOf(e.charAt(n)););return n}function s(e,t){for(var n=e.length;n--&&-1<t.indexOf(e.charAt(n)););return n}function a(t,n){return e(t.a,n.a)||t.b-n.b}function l(e){return Le[e]}function u(e){return Re[e]}function c(e,t,n){return t?e=Ve[e]:n&&(e=He[e]),"\\"+e}function d(e){return"\\"+He[e]}function h(e,t,n){var i=e.length;for(t+=n?0:-1;n?t--:++t<i;){var r=e[t];if(r!==r)return t}return-1}function p(e){return!!e&&"object"==typeof e}function f(e){return 160>=e&&9<=e&&13>=e||32==e||160==e||5760==e||6158==e||8192<=e&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function m(e,t){for(var n=-1,i=e.length,r=-1,o=[];++n<i;)e[n]===t&&(e[n]=V,o[++r]=n);return o}function g(e){for(var t=-1,n=e.length;++t<n&&f(e.charCodeAt(t)););return t}function v(e){for(var t=e.length;t--&&f(e.charCodeAt(t)););return t}function y(e){return Me[e]}function b(f){function Le(e){if(p(e)&&!(Ao(e)||e instanceof $e)){if(e instanceof Me)return e;if(er.call(e,"__chain__")&&er.call(e,"__wrapped__"))return Bn(e)}return new Me(e)}function Re(){}function Me(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function $e(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Tr,this.__views__=[]}function Ve(){this.__data__={}}function He(e){var t=e?e.length:0;for(this.data={hash:gr(null),set:new cr};t--;)this.push(e[t])}function Fe(e,t){var n=e.data;return("string"==typeof t||gi(t)?n.set.has(t):n.hash[t])?0:-1}function Be(e,t){var n=-1,i=e.length;for(t||(t=Hi(i));++n<i;)t[n]=e[n];return t}function qe(e,t){for(var n=-1,i=e.length;++n<i&&!1!==t(e[n],n,e););return e}function Ue(e,t){for(var n=-1,i=e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function ze(e,t){for(var n=-1,i=e.length,r=-1,o=[];++n<i;){var s=e[n];t(s,n,e)&&(o[++r]=s)}return o}function Je(e,t){for(var n=-1,i=e.length,r=Hi(i);++n<i;)r[n]=t(e[n],n,e);return r}function Qe(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function Ke(e,t,n,i){var r=-1,o=e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function Xe(e,t){for(var n=-1,i=e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function Ye(e,t,n,i){return e!==w&&er.call(i,n)?e:t}function Ze(e,t,n){for(var i=-1,r=Vo(t),o=r.length;++i<o;){var s=r[i],a=e[s],l=n(a,t[s],s,e,t);(l===l?l===a:a!==a)&&(a!==w||s in e)||(e[s]=l)}return e}function et(e,t){return null==t?e:nt(t,Vo(t),e)}function tt(e,t){for(var n=-1,i=null==e,r=!i&&Nn(e),o=r?e.length:0,s=t.length,a=Hi(s);++n<s;){var l=t[n];a[n]=r?On(l,o)?e[l]:w:i?w:e[l]}return a}function nt(e,t,n){n||(n={});for(var i=-1,r=t.length;++i<r;){var o=t[i];n[o]=e[o]}return n}function it(e,t,n){var i=typeof e;return"function"==i?t===w?e:Vt(e,t,n):null==e?Li:"object"==i?wt(e):t===w?Vi(e):_t(e,t)}function rt(e,t,n,i,r,o,s){var a;if(n&&(a=r?n(e,i,r):n(e)),a!==w)return a;if(!gi(e))return e;if(i=Ao(e)){if(a=En(e),!t)return Be(e,a)}else{var l=nr.call(e),u=l==z;if(l!=G&&l!=H&&(!u||r))return De[l]?Tn(e,l,t):r?e:{};if(a=Sn(u?{}:e),!t)return et(a,e)}for(o||(o=[]),s||(s=[]),r=o.length;r--;)if(o[r]==e)return s[r];return o.push(e),s.push(a),(i?qe:pt)(e,function(i,r){a[r]=rt(i,t,n,r,e,o,s)}),a}function ot(e,t,n){if("function"!=typeof e)throw new Qi($);return dr(function(){e.apply(w,n)},t)}function st(e,t){var i=e?e.length:0,r=[];if(!i)return r;var o=-1,s=xn(),a=s===n,l=a&&t.length>=L&&gr&&cr?new He(t):null,u=t.length;l&&(s=Fe,a=!1,t=l);e:for(;++o<i;)if(l=e[o],a&&l===l){for(var c=u;c--;)if(t[c]===l)continue e;r.push(l)}else 0>s(t,l,0)&&r.push(l);return r}function at(e,t){var n=!0;return Dr(e,function(e,i,r){return n=!!t(e,i,r)}),n}function lt(e,t,n,i){var r=i,o=r;return Dr(e,function(e,s,a){s=+t(e,s,a),(n(s,r)||s===i&&s===o)&&(r=s,o=e)}),o}function ut(e,t){var n=[];return Dr(e,function(e,i,r){t(e,i,r)&&n.push(e)}),n}function ct(e,t,n,i){var r;return n(e,function(e,n,o){return t(e,n,o)?(r=i?n:e,!1):void 0}),r}function dt(e,t,n,i){i||(i=[]);for(var r=-1,o=e.length;++r<o;){var s=e[r];p(s)&&Nn(s)&&(n||Ao(s)||hi(s))?t?dt(s,t,n,i):Qe(i,s):n||(i[i.length]=s)}return i}function ht(e,t){Rr(e,t,Ti)}function pt(e,t){return Rr(e,t,Vo)}function ft(e,t){return Mr(e,t,Vo)}function mt(e,t){for(var n=-1,i=t.length,r=-1,o=[];++n<i;){var s=t[n];mi(e[s])&&(o[++r]=s)}return o}function gt(e,t,n){if(null!=e){n!==w&&n in Hn(e)&&(t=[n]),n=0;for(var i=t.length;null!=e&&n<i;)e=e[t[n++]];return n&&n==i?e:w}}function vt(e,t,n,i,r,o){if(e===t)e=!0;else if(null==e||null==t||!gi(e)&&!p(t))e=e!==e&&t!==t;else e:{var s=vt,a=Ao(e),l=Ao(t),u=F,c=F;a||(u=nr.call(e),u==H?u=G:u!=G&&(a=xi(e))),l||(c=nr.call(t),c==H?c=G:c!=G&&xi(t));var d=u==G,l=c==G,c=u==c;if(!c||a||d){if(!i&&(u=d&&er.call(e,"__wrapped__"),l=l&&er.call(t,"__wrapped__"),u||l)){e=s(u?e.value():e,l?t.value():t,n,i,r,o);break e}if(c){for(r||(r=[]),o||(o=[]),u=r.length;u--;)if(r[u]==e){e=o[u]==t;break e}r.push(e),o.push(t),e=(a?vn:bn)(e,t,s,n,i,r,o),r.pop(),o.pop()}else e=!1}else e=yn(e,t,u)}return e}function yt(e,t,n){var i=t.length,r=i,o=!n;if(null==e)return!r;for(e=Hn(e);i--;){var s=t[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<r;){var s=t[i],a=s[0],l=e[a],u=s[1];if(o&&s[2]){if(l===w&&!(a in e))return!1}else if(s=n?n(l,u,a):w,s===w?!vt(u,l,n,!0):!s)return!1}return!0}function bt(e,t){var n=-1,i=Nn(e)?Hi(e.length):[];return Dr(e,function(e,r,o){i[++n]=t(e,r,o)}),i}function wt(e){var t=Cn(e);if(1==t.length&&t[0][2]){var n=t[0][0],i=t[0][1];return function(e){return null!=e&&(e[n]===i&&(i!==w||n in Hn(e)))}}return function(e){return yt(e,t)}}function _t(e,t){var n=Ao(e),i=jn(e)&&t===t&&!gi(t),r=e+"";return e=Fn(e),function(o){if(null==o)return!1;var s=r;if(o=Hn(o),!(!n&&i||s in o)){if(null==(o=1==e.length?o:gt(o,At(e,0,-1))))return!1;s=Gn(e),o=Hn(o)}return o[s]===t?t!==w||s in o:vt(t,o[s],w,!0)}}function xt(e,t,n,i,r){if(!gi(e))return e;var o=Nn(t)&&(Ao(t)||xi(t)),s=o?w:Vo(t);return qe(s||t,function(a,l){if(s&&(l=a,a=t[l]),p(a)){i||(i=[]),r||(r=[]);e:{for(var u=l,c=i,d=r,h=c.length,f=t[u];h--;)if(c[h]==f){e[u]=d[h];break e}var h=e[u],m=n?n(h,f,u,e,t):w,g=m===w;g&&(m=f,Nn(f)&&(Ao(f)||xi(f))?m=Ao(h)?h:Nn(h)?Be(h):[]:bi(f)||hi(f)?m=hi(h)?Ei(h):bi(h)?h:{}:g=!1),c.push(f),d.push(m),g?e[u]=xt(m,f,n,c,d):(m===m?m!==h:h===h)&&(e[u]=m)}}else u=e[l],c=n?n(u,a,l,e,t):w,(d=c===w)&&(c=a),c===w&&(!o||l in e)||!d&&(c===c?c===u:u!==u)||(e[l]=c)}),e}function Ct(e){return function(t){return null==t?w:t[e]}}function kt(e){var t=e+"";return e=Fn(e),function(n){return gt(n,e,t)}}function Et(e,t){for(var n=e?t.length:0;n--;){var i=t[n];if(i!=r&&On(i)){var r=i;hr.call(e,i,1)}}}function St(e,t){return e+vr(Er()*(t-e+1))}function Tt(e,t,n,i,r){return r(e,function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)}),n}function At(e,t,n){var i=-1,r=e.length;for(t=null==t?0:+t||0,0>t&&(t=-t>r?0:r+t),n=n===w||n>r?r:+n||0,0>n&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0,n=Hi(r);++i<r;)n[i]=e[i+t];return n}function Nt(e,t){var n;return Dr(e,function(e,i,r){return!(n=t(e,i,r))}),!!n}function Ot(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].c;return e}function Pt(t,n,i){var r=wn(),o=-1;return n=Je(n,function(e){return r(e)}),t=bt(t,function(e){return{a:Je(n,function(t){return t(e)}),b:++o,c:e}}),Ot(t,function(t,n){var r;e:{for(var o=-1,s=t.a,a=n.a,l=s.length,u=i.length;++o<l;)if(r=e(s[o],a[o])){if(o>=u)break e;o=i[o],r*="asc"===o||!0===o?1:-1;break e}r=t.b-n.b}return r})}function jt(e,t){var n=0;return Dr(e,function(e,i,r){n+=+t(e,i,r)||0}),n}function It(e,t){var i=-1,r=xn(),o=e.length,s=r===n,a=s&&o>=L,l=a&&gr&&cr?new He(void 0):null,u=[];l?(r=Fe,s=!1):(a=!1,l=t?[]:u);e:for(;++i<o;){var c=e[i],d=t?t(c,i,e):c;if(s&&c===c){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),u.push(c)}else 0>r(l,d,0)&&((t||a)&&l.push(d),u.push(c))}return u}function Dt(e,t){for(var n=-1,i=t.length,r=Hi(i);++n<i;)r[n]=e[t[n]];return r}function Lt(e,t,n,i){for(var r=e.length,o=i?r:-1;(i?o--:++o<r)&&t(e[o],o,e););return n?At(e,i?0:o,i?o+1:r):At(e,i?o+1:0,i?r:o)}function Rt(e,t){var n=e;n instanceof $e&&(n=n.value());for(var i=-1,r=t.length;++i<r;)var o=t[i],n=o.func.apply(o.thisArg,Qe([n],o.args));return n}function Mt(e,t,n){var i=0,r=e?e.length:i;if("number"==typeof t&&t===t&&r<=Nr){for(;i<r;){var o=i+r>>>1,s=e[o];(n?s<=t:s<t)&&null!==s?i=o+1:r=o}return r}return $t(e,t,Li,n)}function $t(e,t,n,i){t=n(t);for(var r=0,o=e?e.length:0,s=t!==t,a=null===t,l=t===w;r<o;){var u=vr((r+o)/2),c=n(e[u]),d=c!==w,h=c===c;(s?h||i:a?h&&d&&(i||null!=c):l?h&&(i||d):null==c?0:i?c<=t:c<t)?r=u+1:o=u}return xr(o,Ar)}function Vt(e,t,n){if("function"!=typeof e)return Li;if(t===w)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)};case 5:return function(n,i,r,o,s){return e.call(t,n,i,r,o,s)}}return function(){return e.apply(t,arguments)}}function Ht(e){var t=new or(e.byteLength);return new pr(t).set(new pr(e)),t}function Ft(e,t,n){for(var i=n.length,r=-1,o=_r(e.length-i,0),s=-1,a=t.length,l=Hi(a+o);++s<a;)l[s]=t[s];for(;++r<i;)l[n[r]]=e[r];for(;o--;)l[s++]=e[r++];return l}function Bt(e,t,n){for(var i=-1,r=n.length,o=-1,s=_r(e.length-r,0),a=-1,l=t.length,u=Hi(s+l);++o<s;)u[o]=e[o];for(s=o;++a<l;)u[s+a]=t[a];for(;++i<r;)u[s+n[i]]=e[o++];return u}function qt(e,t){return function(n,i,r){var o=t?t():{};if(i=wn(i,r,3),Ao(n)){r=-1;for(var s=n.length;++r<s;){var a=n[r];e(o,a,i(a,r,n),n)}}else Dr(n,function(t,n,r){e(o,t,i(t,n,r),r)});return o}}
function Ut(e){return ci(function(t,n){var i=-1,r=null==t?0:n.length,o=2<r?n[r-2]:w,s=2<r?n[2]:w,a=1<r?n[r-1]:w;for("function"==typeof o?(o=Vt(o,a,5),r-=2):(o="function"==typeof a?a:w,r-=o?1:0),s&&Pn(n[0],n[1],s)&&(o=3>r?w:o,r=1);++i<r;)(s=n[i])&&e(t,s,o);return t})}function zt(e,t){return function(n,i){var r=n?Hr(n):0;if(!Dn(r))return e(n,i);for(var o=t?r:-1,s=Hn(n);(t?o--:++o<r)&&!1!==i(s[o],o,s););return n}}function Wt(e){return function(t,n,i){var r=Hn(t);i=i(t);for(var o=i.length,s=e?o:-1;e?s--:++s<o;){var a=i[s];if(!1===n(r[a],a,r))break}return t}}function Gt(e,t){function n(){return(this&&this!==We&&this instanceof n?i:e).apply(t,arguments)}var i=Qt(e);return n}function Jt(e){return function(t){var n=-1;t=Ii(Oi(t));for(var i=t.length,r="";++n<i;)r=e(r,t[n],n);return r}}function Qt(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Ir(e.prototype),t=e.apply(n,t);return gi(t)?t:n}}function Kt(e){function t(n,i,r){return r&&Pn(n,i,r)&&(i=w),n=gn(n,e,w,w,w,w,w,i),n.placeholder=t.placeholder,n}return t}function Xt(e,t){return ci(function(n){var i=n[0];return null==i?i:(n.push(t),e.apply(w,n))})}function Yt(e,t){return function(n,i,r){if(r&&Pn(n,i,r)&&(i=w),i=wn(i,r,3),1==i.length){r=n=Ao(n)?n:Vn(n);for(var o=i,s=-1,a=r.length,l=t,u=l;++s<a;){var c=r[s],d=+o(c);e(d,l)&&(l=d,u=c)}if(r=u,!n.length||r!==t)return r}return lt(n,i,e,t)}}function Zt(e,n){return function(i,r,o){return r=wn(r,o,3),Ao(i)?(r=t(i,r,n),-1<r?i[r]:w):ct(i,r,e)}}function en(e){return function(n,i,r){return n&&n.length?(i=wn(i,r,3),t(n,i,e)):-1}}function tn(e){return function(t,n,i){return n=wn(n,i,3),ct(t,n,e,!0)}}function nn(e){return function(){for(var t,n=arguments.length,i=e?n:-1,r=0,o=Hi(n);e?i--:++i<n;){var s=o[r++]=arguments[i];if("function"!=typeof s)throw new Qi($);!t&&Me.prototype.thru&&"wrapper"==_n(s)&&(t=new Me([],!0))}for(i=t?-1:n;++i<n;){var s=o[i],r=_n(s),a="wrapper"==r?Vr(s):w;t=a&&In(a[0])&&a[1]==(N|E|T|O)&&!a[4].length&&1==a[9]?t[_n(a[0])].apply(t,a[3]):1==s.length&&In(s)?t[r]():t.thru(s)}return function(){var e=arguments,i=e[0];if(t&&1==e.length&&Ao(i)&&i.length>=L)return t.plant(i).value();for(var r=0,e=n?o[r].apply(this,e):i;++r<n;)e=o[r].call(this,e);return e}}}function rn(e,t){return function(n,i,r){return"function"==typeof i&&r===w&&Ao(n)?e(n,i):t(n,Vt(i,r,3))}}function on(e){return function(t,n,i){return("function"!=typeof n||i!==w)&&(n=Vt(n,i,3)),e(t,n,Ti)}}function sn(e){return function(t,n,i){return("function"!=typeof n||i!==w)&&(n=Vt(n,i,3)),e(t,n)}}function an(e){return function(t,n,i){var r={};return n=wn(n,i,3),pt(t,function(t,i,o){o=n(t,i,o),i=e?o:i,t=e?t:o,r[i]=t}),r}}function ln(e){return function(t,n,i){return t=r(t),(e?t:"")+hn(t,n,i)+(e?"":t)}}function un(e){var t=ci(function(n,i){var r=m(i,t.placeholder);return gn(n,e,w,i,r)});return t}function cn(e,t){return function(n,i,r,o){var s=3>arguments.length;return"function"==typeof i&&o===w&&Ao(n)?e(n,i,r,s):Tt(n,wn(i,o,4),r,s,t)}}function dn(e,t,n,i,r,o,s,a,l,u){function c(){for(var b=arguments.length,_=b,k=Hi(b);_--;)k[_]=arguments[_];if(i&&(k=Ft(k,i,r)),o&&(k=Bt(k,o,s)),f||v){var _=c.placeholder,E=m(k,_),b=b-E.length;if(b<u){var S=a?Be(a):w,b=_r(u-b,0),N=f?E:w,E=f?w:E,O=f?k:w,k=f?w:k;return t|=f?T:A,t&=~(f?A:T),g||(t&=~(x|C)),k=[e,t,n,O,N,k,E,S,l,b],S=dn.apply(w,k),In(e)&&Fr(S,k),S.placeholder=_,S}}if(_=h?n:this,S=p?_[e]:e,a)for(b=k.length,N=xr(a.length,b),E=Be(k);N--;)O=a[N],k[N]=On(O,b)?E[O]:w;return d&&l<k.length&&(k.length=l),this&&this!==We&&this instanceof c&&(S=y||Qt(e)),S.apply(_,k)}var d=t&N,h=t&x,p=t&C,f=t&E,g=t&k,v=t&S,y=p?w:Qt(e);return c}function hn(e,t,n){return e=e.length,t=+t,e<t&&br(t)?(t-=e,n=null==n?" ":n+"",Pi(n,mr(t/n.length)).slice(0,t)):""}function pn(e,t,n,i){function r(){for(var t=-1,a=arguments.length,l=-1,u=i.length,c=Hi(u+a);++l<u;)c[l]=i[l];for(;a--;)c[l++]=arguments[++t];return(this&&this!==We&&this instanceof r?s:e).apply(o?n:this,c)}var o=t&x,s=Qt(e);return r}function fn(e){var t=Ui[e];return function(e,n){return(n=n===w?0:+n||0)?(n=lr(10,n),t(e*n)/n):t(e)}}function mn(e){return function(t,n,i,r){var o=wn(i);return null==i&&o===it?Mt(t,n,e):$t(t,n,o(i,r,1),e)}}function gn(e,t,n,i,r,o,s,a){var l=t&C;if(!l&&"function"!=typeof e)throw new Qi($);var u=i?i.length:0;if(u||(t&=~(T|A),i=r=w),u-=r?r.length:0,t&A){var c=i,d=r;i=r=w}var h=l?w:Vr(e);return n=[e,t,n,i,r,c,d,o,s,a],h&&(i=n[1],t=h[1],a=i|t,r=t==N&&i==E||t==N&&i==O&&n[7].length<=h[8]||t==(N|O)&&i==E,(a<N||r)&&(t&x&&(n[2]=h[2],a|=i&x?0:k),(i=h[3])&&(r=n[3],n[3]=r?Ft(r,i,h[4]):Be(i),n[4]=r?m(n[3],V):Be(h[4])),(i=h[5])&&(r=n[5],n[5]=r?Bt(r,i,h[6]):Be(i),n[6]=r?m(n[5],V):Be(h[6])),(i=h[7])&&(n[7]=Be(i)),t&N&&(n[8]=null==n[8]?h[8]:xr(n[8],h[8])),null==n[9]&&(n[9]=h[9]),n[0]=h[0],n[1]=a),t=n[1],a=n[9]),n[9]=null==a?l?0:e.length:_r(a-u,0)||0,(h?$r:Fr)(t==x?Gt(n[0],n[2]):t!=T&&t!=(x|T)||n[4].length?dn.apply(w,n):pn.apply(w,n),n)}function vn(e,t,n,i,r,o,s){var a=-1,l=e.length,u=t.length;if(l!=u&&(!r||u<=l))return!1;for(;++a<l;){var c=e[a],u=t[a],d=i?i(r?u:c,r?c:u,a):w;if(d!==w){if(d)continue;return!1}if(r){if(!Xe(t,function(e){return c===e||n(c,e,i,r,o,s)}))return!1}else if(c!==u&&!n(c,u,i,r,o,s))return!1}return!0}function yn(e,t,n){switch(n){case B:case q:return+e==+t;case U:return e.name==t.name&&e.message==t.message;case W:return e!=+e?t!=+t:e==+t;case J:case Q:return e==t+""}return!1}function bn(e,t,n,i,r,o,s){var a=Vo(e),l=a.length,u=Vo(t).length;if(l!=u&&!r)return!1;for(u=l;u--;){var c=a[u];if(!(r?c in t:er.call(t,c)))return!1}for(var d=r;++u<l;){var c=a[u],h=e[c],p=t[c],f=i?i(r?p:h,r?h:p,c):w;if(f===w?!n(h,p,i,r,o,s):!f)return!1;d||(d="constructor"==c)}return!(!d&&(n=e.constructor,i=t.constructor,n!=i&&"constructor"in e&&"constructor"in t&&!("function"==typeof n&&n instanceof n&&"function"==typeof i&&i instanceof i)))}function wn(e,t,n){var i=Le.callback||Di,i=i===Di?it:i;return n?i(e,t,n):i}function _n(e){for(var t=e.name+"",n=jr[t],i=n?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==e)return r.name}return t}function xn(e,t,i){var r=Le.indexOf||Wn,r=r===Wn?n:r;return e?r(e,t,i):r}function Cn(e){e=Ai(e);for(var t=e.length;t--;){var n=e[t][1];e[t][2]=n===n&&!gi(n)}return e}function kn(e,t){var n=null==e?w:e[t];return vi(n)?n:w}function En(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&er.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Sn(e){return e=e.constructor,"function"==typeof e&&e instanceof e||(e=Wi),new e}function Tn(e,t,n){var i=e.constructor;switch(t){case K:return Ht(e);case B:case q:return new i(+e);case X:case Y:case Z:case ee:case te:case ne:case ie:case re:case oe:return t=e.buffer,new i(n?Ht(t):t,e.byteOffset,e.length);case W:case Q:return new i(e);case J:var r=new i(e.source,ke.exec(e));r.lastIndex=e.lastIndex}return r}function An(e,t,n){return null==e||jn(t,e)||(t=Fn(t),e=1==t.length?e:gt(e,At(t,0,-1)),t=Gn(t)),t=null==e?e:e[t],null==t?w:t.apply(e,n)}function Nn(e){return null!=e&&Dn(Hr(e))}function On(e,t){return e="number"==typeof e||Te.test(e)?+e:-1,t=null==t?Or:t,-1<e&&0==e%1&&e<t}function Pn(e,t,n){if(!gi(n))return!1;var i=typeof t;return!!("number"==i?Nn(n)&&On(t,n.length):"string"==i&&t in n)&&(t=n[t],e===e?e===t:t!==t)}function jn(e,t){var n=typeof e;return!!("string"==n&&ve.test(e)||"number"==n)||!Ao(e)&&(!ge.test(e)||null!=t&&e in Hn(t))}function In(e){var t=_n(e),n=Le[t];return"function"==typeof n&&t in $e.prototype&&(e===n||!!(t=Vr(n))&&e===t[0])}function Dn(e){return"number"==typeof e&&-1<e&&0==e%1&&e<=Or}function Ln(e,t){return e===w?t:No(e,t,Ln)}function Rn(e,t){e=Hn(e);for(var n=-1,i=t.length,r={};++n<i;){var o=t[n];o in e&&(r[o]=e[o])}return r}function Mn(e,t){var n={};return ht(e,function(e,i,r){t(e,i,r)&&(n[i]=e)}),n}function $n(e){for(var t=Ti(e),n=t.length,i=n&&e.length,r=!!i&&Dn(i)&&(Ao(e)||hi(e)),o=-1,s=[];++o<n;){var a=t[o];(r&&On(a,i)||er.call(e,a))&&s.push(a)}return s}function Vn(e){return null==e?[]:Nn(e)?gi(e)?e:Wi(e):Ni(e)}function Hn(e){return gi(e)?e:Wi(e)}function Fn(e){if(Ao(e))return e;var t=[];return r(e).replace(ye,function(e,n,i,r){t.push(i?r.replace(xe,"$1"):n||e)}),t}function Bn(e){return e instanceof $e?e.clone():new Me(e.__wrapped__,e.__chain__,Be(e.__actions__))}function qn(e,t,n){return e&&e.length?((n?Pn(e,t,n):null==t)&&(t=1),At(e,0>t?0:t)):[]}function Un(e,t,n){var i=e?e.length:0;return i?((n?Pn(e,t,n):null==t)&&(t=1),t=i-(+t||0),At(e,0,0>t?0:t)):[]}function zn(e){return e?e[0]:w}function Wn(e,t,i){var r=e?e.length:0;if(!r)return-1;if("number"==typeof i)i=0>i?_r(r+i,0):i;else if(i)return i=Mt(e,t),i<r&&(t===t?t===e[i]:e[i]!==e[i])?i:-1;return n(e,t,i||0)}function Gn(e){var t=e?e.length:0;return t?e[t-1]:w}function Jn(e){return qn(e,1)}function Qn(e,t,i,r){if(!e||!e.length)return[];null!=t&&"boolean"!=typeof t&&(r=i,i=Pn(e,t,r)?w:t,t=!1);var o=wn();if((null!=i||o!==it)&&(i=o(i,r,3)),t&&xn()===n){t=i;var s;i=-1,r=e.length;for(var o=-1,a=[];++i<r;){var l=e[i],u=t?t(l,i,e):l;i&&s===u||(s=u,a[++o]=l)}e=a}else e=It(e,i);return e}function Kn(e){if(!e||!e.length)return[];var t=-1,n=0;e=ze(e,function(e){return Nn(e)?(n=_r(e.length,n),!0):void 0});for(var i=Hi(n);++t<n;)i[t]=Je(e,Ct(t));return i}function Xn(e,t,n){return e&&e.length?(e=Kn(e),null==t?e:(t=Vt(t,n,4),Je(e,function(e){return Ke(e,t,w,!0)}))):[]}function Yn(e,t){var n=-1,i=e?e.length:0,r={};for(!i||t||Ao(e[0])||(t=[]);++n<i;){var o=e[n];t?r[o]=t[n]:o&&(r[o[0]]=o[1])}return r}function Zn(e){return e=Le(e),e.__chain__=!0,e}function ei(e,t,n){return t.call(n,e)}function ti(e,t,n){var i=Ao(e)?Ue:at;return n&&Pn(e,t,n)&&(t=w),("function"!=typeof t||n!==w)&&(t=wn(t,n,3)),i(e,t)}function ni(e,t,n){var i=Ao(e)?ze:ut;return t=wn(t,n,3),i(e,t)}function ii(e,t,n,i){var r=e?Hr(e):0;return Dn(r)||(e=Ni(e),r=e.length),n="number"!=typeof n||i&&Pn(t,n,i)?0:0>n?_r(r+n,0):n||0,"string"==typeof e||!Ao(e)&&_i(e)?n<=r&&-1<e.indexOf(t,n):!!r&&-1<xn(e,t,n)}function ri(e,t,n){var i=Ao(e)?Je:bt;return t=wn(t,n,3),i(e,t)}function oi(e,t,n){if(n?Pn(e,t,n):null==t){e=Vn(e);var i=e.length;return 0<i?e[St(0,i-1)]:w}n=-1,e=ki(e);var i=e.length,r=i-1;for(t=xr(0>t?0:+t||0,i);++n<t;){var i=St(n,r),o=e[i];e[i]=e[n],e[n]=o}return e.length=t,e}function si(e,t,n){var i=Ao(e)?Xe:Nt;return n&&Pn(e,t,n)&&(t=w),("function"!=typeof t||n!==w)&&(t=wn(t,n,3)),i(e,t)}function ai(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new Qi($);var i=e;e=t,t=i}return function(){return 0<--e&&(n=t.apply(this,arguments)),1>=e&&(t=w),n}}function li(e,t,n){function i(t,n){n&&sr(n),l=h=p=w,t&&(f=fo(),u=e.apply(d,a),h||l||(a=d=w))}function r(){var e=t-(fo()-c);0>=e||e>t?i(p,l):h=dr(r,e)}function o(){i(g,h)}function s(){if(a=arguments,c=fo(),d=this,p=g&&(h||!v),!1===m)var n=v&&!h;else{l||v||(f=c);var i=m-(c-f),s=0>=i||i>m;s?(l&&(l=sr(l)),f=c,u=e.apply(d,a)):l||(l=dr(o,i))}return s&&h?h=sr(h):h||t===m||(h=dr(r,t)),n&&(s=!0,u=e.apply(d,a)),!s||h||l||(a=d=w),u}var a,l,u,c,d,h,p,f=0,m=!1,g=!0;if("function"!=typeof e)throw new Qi($);if(t=0>t?0:+t||0,!0===n)var v=!0,g=!1;else gi(n)&&(v=!!n.leading,m="maxWait"in n&&_r(+n.maxWait||0,t),g="trailing"in n?!!n.trailing:g);return s.cancel=function(){h&&sr(h),l&&sr(l),f=0,l=h=p=w},s}function ui(e,t){function n(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;return o.has(r)?o.get(r):(i=e.apply(this,i),n.cache=o.set(r,i),i)}if("function"!=typeof e||t&&"function"!=typeof t)throw new Qi($);return n.cache=new ui.Cache,n}function ci(e,t){if("function"!=typeof e)throw new Qi($);return t=_r(t===w?e.length-1:+t||0,0),function(){for(var n=arguments,i=-1,r=_r(n.length-t,0),o=Hi(r);++i<r;)o[i]=n[t+i];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}for(r=Hi(t+1),i=-1;++i<t;)r[i]=n[i];return r[t]=o,e.apply(this,r)}}function di(e,t){return e>t}function hi(e){return p(e)&&Nn(e)&&er.call(e,"callee")&&!ur.call(e,"callee")}function pi(e,t,n,i){return i=(n="function"==typeof n?Vt(n,i,3):w)?n(e,t):w,i===w?vt(e,t,n):!!i}function fi(e){return p(e)&&"string"==typeof e.message&&nr.call(e)==U}function mi(e){return gi(e)&&nr.call(e)==z}function gi(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function vi(e){return null!=e&&(mi(e)?rr.test(Zi.call(e)):p(e)&&Se.test(e))}function yi(e){return"number"==typeof e||p(e)&&nr.call(e)==W}function bi(e){var t;if(!p(e)||nr.call(e)!=G||hi(e)||!(er.call(e,"constructor")||"function"!=typeof(t=e.constructor)||t instanceof t))return!1;var n;return ht(e,function(e,t){n=t}),n===w||er.call(e,n)}function wi(e){return gi(e)&&nr.call(e)==J}function _i(e){return"string"==typeof e||p(e)&&nr.call(e)==Q}function xi(e){return p(e)&&Dn(e.length)&&!!Ie[nr.call(e)]}function Ci(e,t){return e<t}function ki(e){var t=e?Hr(e):0;return Dn(t)?t?Be(e):[]:Ni(e)}function Ei(e){return nt(e,Ti(e))}function Si(e){return mt(e,Ti(e))}function Ti(e){if(null==e)return[];gi(e)||(e=Wi(e));for(var t=e.length,t=t&&Dn(t)&&(Ao(e)||hi(e))&&t||0,n=e.constructor,i=-1,n="function"==typeof n&&n.prototype===e,r=Hi(t),o=0<t;++i<t;)r[i]=i+"";for(var s in e)o&&On(s,t)||"constructor"==s&&(n||!er.call(e,s))||r.push(s);return r}function Ai(e){e=Hn(e);for(var t=-1,n=Vo(e),i=n.length,r=Hi(i);++t<i;){var o=n[t];r[t]=[o,e[o]]}return r}function Ni(e){return Dt(e,Vo(e))}function Oi(e){return(e=r(e))&&e.replace(Ae,l).replace(_e,"")}function Pi(e,t){var n="";if(e=r(e),1>(t=+t)||!e||!br(t))return n;do{t%2&&(n+=e),t=vr(t/2),e+=e}while(t);return n}function ji(e,t,n){var i=e;return(e=r(e))?(n?Pn(i,t,n):null==t)?e.slice(g(e),v(e)+1):(t+="",e.slice(o(e,t),s(e,t)+1)):e}function Ii(e,t,n){return n&&Pn(e,t,n)&&(t=w),e=r(e),e.match(t||Pe)||[]}function Di(e,t,n){return n&&Pn(e,t,n)&&(t=w),p(e)?Ri(e):it(e,t)}function Li(e){return e}function Ri(e){return wt(rt(e,!0))}function Mi(e,t,n){if(null==n){var i=gi(t),r=i?Vo(t):w;((r=r&&r.length?mt(t,r):w)?r.length:i)||(r=!1,n=t,t=e,e=this)}r||(r=mt(t,Vo(t)));var o=!0,i=-1,s=mi(e),a=r.length;!1===n?o=!1:gi(n)&&"chain"in n&&(o=n.chain);for(;++i<a;){n=r[i];var l=t[n];e[n]=l,s&&(e.prototype[n]=function(t){return function(){var n=this.__chain__;if(o||n){var i=e(this.__wrapped__);return(i.__actions__=Be(this.__actions__)).push({func:t,args:arguments,thisArg:e}),i.__chain__=n,i}return t.apply(e,Qe([this.value()],arguments))}}(l))}return e}function $i(){}function Vi(e){return jn(e)?Ct(e):kt(e)}f=f?Ge.defaults(We.Object(),f,Ge.pick(We,je)):We;var Hi=f.Array,Fi=f.Date,Bi=f.Error,qi=f.Function,Ui=f.Math,zi=f.Number,Wi=f.Object,Gi=f.RegExp,Ji=f.String,Qi=f.TypeError,Ki=Hi.prototype,Xi=Wi.prototype,Yi=Ji.prototype,Zi=qi.prototype.toString,er=Xi.hasOwnProperty,tr=0,nr=Xi.toString,ir=We._,rr=Gi("^"+Zi.call(er).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),or=f.ArrayBuffer,sr=f.clearTimeout,ar=f.parseFloat,lr=Ui.pow,ur=Xi.propertyIsEnumerable,cr=kn(f,"Set"),dr=f.setTimeout,hr=Ki.splice,pr=f.Uint8Array,fr=kn(f,"WeakMap"),mr=Ui.ceil,gr=kn(Wi,"create"),vr=Ui.floor,yr=kn(Hi,"isArray"),br=f.isFinite,wr=kn(Wi,"keys"),_r=Ui.max,xr=Ui.min,Cr=kn(Fi,"now"),kr=f.parseInt,Er=Ui.random,Sr=zi.NEGATIVE_INFINITY,Tr=zi.POSITIVE_INFINITY,Ar=4294967294,Nr=2147483647,Or=9007199254740991,Pr=fr&&new fr,jr={};Le.support={},Le.templateSettings={escape:pe,evaluate:fe,interpolate:me,variable:"",imports:{_:Le}};var Ir=function(){function e(){}return function(t){if(gi(t)){e.prototype=t;var n=new e;e.prototype=w}return n||{}}}(),Dr=zt(pt),Lr=zt(ft,!0),Rr=Wt(),Mr=Wt(!0),$r=Pr?function(e,t){return Pr.set(e,t),e}:Li,Vr=Pr?function(e){return Pr.get(e)}:$i,Hr=Ct("length"),Fr=function(){var e=0,t=0;return function(n,i){var r=fo(),o=D-(r-t);if(t=r,0<o){if(++e>=I)return n}else e=0;return $r(n,i)}}(),Br=ci(function(e,t){return p(e)&&Nn(e)?st(e,dt(t,!1,!0)):[]}),qr=en(),Ur=en(!0),zr=ci(function(e){for(var t=e.length,i=t,r=Hi(c),o=xn(),s=o===n,a=[];i--;){var l=e[i]=Nn(l=e[i])?l:[];r[i]=s&&120<=l.length&&gr&&cr?new He(i&&l):null}var s=e[0],u=-1,c=s?s.length:0,d=r[0];e:for(;++u<c;)if(l=s[u],0>(d?Fe(d,l):o(a,l,0))){for(i=t;--i;){var h=r[i];if(0>(h?Fe(h,l):o(e[i],l,0)))continue e}d&&d.push(l),a.push(l)}return a}),Wr=ci(function(t,n){n=dt(n);var i=tt(t,n);return Et(t,n.sort(e)),i}),Gr=mn(),Jr=mn(!0),Qr=ci(function(e){return It(dt(e,!1,!0))}),Kr=ci(function(e,t){return Nn(e)?st(e,t):[]}),Xr=ci(Kn),Yr=ci(function(e){var t=e.length,n=2<t?e[t-2]:w,i=1<t?e[t-1]:w;return 2<t&&"function"==typeof n?t-=2:(n=1<t&&"function"==typeof i?(--t,i):w,i=w),e.length=t,Xn(e,n,i)}),Zr=ci(function(e){return e=dt(e),this.thru(function(t){t=Ao(t)?t:[Hn(t)];for(var n=e,i=-1,r=t.length,o=-1,s=n.length,a=Hi(r+s);++i<r;)a[i]=t[i];for(;++o<s;)a[i++]=n[o];return a})}),eo=ci(function(e,t){return tt(e,dt(t))}),to=qt(function(e,t,n){er.call(e,n)?++e[n]:e[n]=1}),no=Zt(Dr),io=Zt(Lr,!0),ro=rn(qe,Dr),oo=rn(function(e,t){for(var n=e.length;n--&&!1!==t(e[n],n,e););return e},Lr),so=qt(function(e,t,n){er.call(e,n)?e[n].push(t):e[n]=[t]}),ao=qt(function(e,t,n){e[n]=t}),lo=ci(function(e,t,n){var i=-1,r="function"==typeof t,o=jn(t),s=Nn(e)?Hi(e.length):[];return Dr(e,function(e){var a=r?t:o&&null!=e?e[t]:w;s[++i]=a?a.apply(e,n):An(e,t,n)}),s}),uo=qt(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),co=cn(Ke,Dr),ho=cn(function(e,t,n,i){var r=e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n},Lr),po=ci(function(e,t){if(null==e)return[];var n=t[2];return n&&Pn(t[0],t[1],n)&&(t.length=1),Pt(e,dt(t),[])}),fo=Cr||function(){return(new Fi).getTime()},mo=ci(function(e,t,n){var i=x;if(n.length)var r=m(n,mo.placeholder),i=i|T;return gn(e,i,t,n,r)}),go=ci(function(e,t){t=t.length?dt(t):Si(e);for(var n=-1,i=t.length;++n<i;){var r=t[n];e[r]=gn(e[r],x,e)}return e}),vo=ci(function(e,t,n){var i=x|C;if(n.length)var r=m(n,vo.placeholder),i=i|T;return gn(t,i,e,n,r)}),yo=Kt(E),bo=Kt(S),wo=ci(function(e,t){return ot(e,1,t)}),_o=ci(function(e,t,n){return ot(e,t,n)}),xo=nn(),Co=nn(!0),ko=ci(function(e,t){if(t=dt(t),"function"!=typeof e||!Ue(t,i))throw new Qi($);var n=t.length;return ci(function(i){for(var r=xr(i.length,n);r--;)i[r]=t[r](i[r]);return e.apply(this,i)})}),Eo=un(T),So=un(A),To=ci(function(e,t){return gn(e,O,w,w,w,dt(t))}),Ao=yr||function(e){return p(e)&&Dn(e.length)&&nr.call(e)==F},No=Ut(xt),Oo=Ut(function(e,t,n){return n?Ze(e,t,n):et(e,t)}),Po=Xt(Oo,function(e,t){return e===w?t:e}),jo=Xt(No,Ln),Io=tn(pt),Do=tn(ft),Lo=on(Rr),Ro=on(Mr),Mo=sn(pt),$o=sn(ft),Vo=wr?function(e){var t=null==e?w:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Nn(e)?$n(e):gi(e)?wr(e):[]}:$n,Ho=an(!0),Fo=an(),Bo=ci(function(e,t){if(null==e)return{};if("function"!=typeof t[0])return t=Je(dt(t),Ji),Rn(e,st(Ti(e),t));var n=Vt(t[0],t[1],3);return Mn(e,function(e,t,i){return!n(e,t,i)})}),qo=ci(function(e,t){return null==e?{}:"function"==typeof t[0]?Mn(e,Vt(t[0],t[1],3)):Rn(e,dt(t))}),Uo=Jt(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),zo=Jt(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Wo=ln(),Go=ln(!0),Jo=Jt(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Qo=Jt(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Ko=ci(function(e,t){try{return e.apply(w,t)}catch(e){return fi(e)?e:new Bi(e)}}),Xo=ci(function(e,t){return function(n){return An(n,e,t)}}),Yo=ci(function(e,t){return function(n){return An(e,n,t)}}),Zo=fn("ceil"),es=fn("floor"),ts=Yt(di,Sr),ns=Yt(Ci,Tr),is=fn("round");return Le.prototype=Re.prototype,Me.prototype=Ir(Re.prototype),Me.prototype.constructor=Me,$e.prototype=Ir(Re.prototype),$e.prototype.constructor=$e,Ve.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ve.prototype.get=function(e){return"__proto__"==e?w:this.__data__[e]},Ve.prototype.has=function(e){return"__proto__"!=e&&er.call(this.__data__,e)},Ve.prototype.set=function(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this},He.prototype.push=function(e){var t=this.data;"string"==typeof e||gi(e)?t.set.add(e):t.hash[e]=!0},ui.Cache=Ve,Le.after=function(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new Qi($);var n=e;e=t,t=n}return e=br(e=+e)?e:0,function(){return 1>--e?t.apply(this,arguments):void 0}},Le.ary=function(e,t,n){return n&&Pn(e,t,n)&&(t=w),t=e&&null==t?e.length:_r(+t||0,0),gn(e,N,w,w,w,w,t)},Le.assign=Oo,Le.at=eo,Le.before=ai,Le.bind=mo,Le.bindAll=go,Le.bindKey=vo,Le.callback=Di,Le.chain=Zn,Le.chunk=function(e,t,n){t=(n?Pn(e,t,n):null==t)?1:_r(vr(t)||1,1),n=0;for(var i=e?e.length:0,r=-1,o=Hi(mr(i/t));n<i;)o[++r]=At(e,n,n+=t);return o},Le.compact=function(e){for(var t=-1,n=e?e.length:0,i=-1,r=[];++t<n;){var o=e[t];o&&(r[++i]=o)}return r},Le.constant=function(e){return function(){return e}},Le.countBy=to,Le.create=function(e,t,n){var i=Ir(e);return n&&Pn(e,t,n)&&(t=w),t?et(i,t):i},Le.curry=yo,Le.curryRight=bo,Le.debounce=li,Le.defaults=Po,Le.defaultsDeep=jo,Le.defer=wo,Le.delay=_o,Le.difference=Br,Le.drop=qn,Le.dropRight=Un,Le.dropRightWhile=function(e,t,n){return e&&e.length?Lt(e,wn(t,n,3),!0,!0):[]},Le.dropWhile=function(e,t,n){return e&&e.length?Lt(e,wn(t,n,3),!0):[]},Le.fill=function(e,t,n,i){var r=e?e.length:0;if(!r)return[];for(n&&"number"!=typeof n&&Pn(e,t,n)&&(n=0,i=r),r=e.length,n=null==n?0:+n||0,0>n&&(n=-n>r?0:r+n),i=i===w||i>r?r:+i||0,0>i&&(i+=r),r=n>i?0:i>>>0,n>>>=0;n<r;)e[n++]=t;return e},Le.filter=ni,Le.flatten=function(e,t,n){var i=e?e.length:0;return n&&Pn(e,t,n)&&(t=!1),i?dt(e,t):[]},Le.flattenDeep=function(e){return e&&e.length?dt(e,!0):[]},Le.flow=xo,Le.flowRight=Co,Le.forEach=ro,Le.forEachRight=oo,Le.forIn=Lo,Le.forInRight=Ro,Le.forOwn=Mo,Le.forOwnRight=$o,Le.functions=Si,Le.groupBy=so,Le.indexBy=ao,Le.initial=function(e){return Un(e,1)},Le.intersection=zr,Le.invert=function(e,t,n){n&&Pn(e,t,n)&&(t=w),n=-1;for(var i=Vo(e),r=i.length,o={};++n<r;){var s=i[n],a=e[s];t?er.call(o,a)?o[a].push(s):o[a]=[s]:o[a]=s}return o},Le.invoke=lo,Le.keys=Vo,Le.keysIn=Ti,Le.map=ri,Le.mapKeys=Ho,Le.mapValues=Fo,Le.matches=Ri,Le.matchesProperty=function(e,t){return _t(e,rt(t,!0))},Le.memoize=ui,Le.merge=No,Le.method=Xo,Le.methodOf=Yo,Le.mixin=Mi,Le.modArgs=ko,Le.negate=function(e){if("function"!=typeof e)throw new Qi($);return function(){return!e.apply(this,arguments)}},Le.omit=Bo,Le.once=function(e){return ai(2,e)},Le.pairs=Ai,Le.partial=Eo,Le.partialRight=So,Le.partition=uo,Le.pick=qo,Le.pluck=function(e,t){return ri(e,Vi(t))},Le.property=Vi,Le.propertyOf=function(e){return function(t){return gt(e,Fn(t),t+"")}},Le.pull=function(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,i=xn(),r=e.length;++n<r;)for(var o=0,s=e[n];-1<(o=i(t,s,o));)hr.call(t,o,1);return t},Le.pullAt=Wr,Le.range=function(e,t,n){n&&Pn(e,t,n)&&(t=n=w),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;var i=-1;t=_r(mr((t-e)/(n||1)),0);for(var r=Hi(t);++i<t;)r[i]=e,e+=n;return r},Le.rearg=To,Le.reject=function(e,t,n){var i=Ao(e)?ze:ut;return t=wn(t,n,3),i(e,function(e,n,i){return!t(e,n,i)})},Le.remove=function(e,t,n){var i=[];if(!e||!e.length)return i;var r=-1,o=[],s=e.length;for(t=wn(t,n,3);++r<s;)n=e[r],t(n,r,e)&&(i.push(n),o.push(r));return Et(e,o),i},Le.rest=Jn,Le.restParam=ci,Le.set=function(e,t,n){if(null==e)return e;var i=t+"";t=null!=e[i]||jn(t,e)?[i]:Fn(t);for(var i=-1,r=t.length,o=r-1,s=e;null!=s&&++i<r;){var a=t[i];gi(s)&&(i==o?s[a]=n:null==s[a]&&(s[a]=On(t[i+1])?[]:{})),s=s[a]}return e},Le.shuffle=function(e){return oi(e,Tr)},Le.slice=function(e,t,n){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Pn(e,t,n)&&(t=0,n=i),At(e,t,n)):[]},Le.sortBy=function(e,t,n){if(null==e)return[];n&&Pn(e,t,n)&&(t=w);var i=-1;return t=wn(t,n,3),e=bt(e,function(e,n,r){return{a:t(e,n,r),b:++i,c:e}}),Ot(e,a)},Le.sortByAll=po,Le.sortByOrder=function(e,t,n,i){return null==e?[]:(i&&Pn(t,n,i)&&(n=w),Ao(t)||(t=null==t?[]:[t]),Ao(n)||(n=null==n?[]:[n]),Pt(e,t,n))},Le.spread=function(e){if("function"!=typeof e)throw new Qi($);return function(t){return e.apply(this,t)}},Le.take=function(e,t,n){return e&&e.length?((n?Pn(e,t,n):null==t)&&(t=1),At(e,0,0>t?0:t)):[]},Le.takeRight=function(e,t,n){var i=e?e.length:0;return i?((n?Pn(e,t,n):null==t)&&(t=1),t=i-(+t||0),At(e,0>t?0:t)):[]},Le.takeRightWhile=function(e,t,n){return e&&e.length?Lt(e,wn(t,n,3),!1,!0):[]},Le.takeWhile=function(e,t,n){return e&&e.length?Lt(e,wn(t,n,3)):[]},Le.tap=function(e,t,n){return t.call(n,e),e},Le.throttle=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new Qi($);return!1===n?i=!1:gi(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),li(e,t,{leading:i,maxWait:+t,trailing:r})},Le.thru=ei,Le.times=function(e,t,n){if(1>(e=vr(e))||!br(e))return[];var i=-1,r=Hi(xr(e,4294967295));for(t=Vt(t,n,1);++i<e;)4294967295>i?r[i]=t(i):t(i);return r},Le.toArray=ki,Le.toPlainObject=Ei,Le.transform=function(e,t,n,i){var r=Ao(e)||xi(e);return t=wn(t,i,4),null==n&&(r||gi(e)?(i=e.constructor,n=r?Ao(e)?new i:[]:Ir(mi(i)?i.prototype:w)):n={}),(r?qe:pt)(e,function(e,i,r){return t(n,e,i,r)}),n},Le.union=Qr,Le.uniq=Qn,Le.unzip=Kn,Le.unzipWith=Xn,Le.values=Ni,Le.valuesIn=function(e){return Dt(e,Ti(e))},Le.where=function(e,t){return ni(e,wt(t))},Le.without=Kr,Le.wrap=function(e,t){return t=null==t?Li:t,gn(t,T,w,[e],[])},Le.xor=function(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Nn(n))var i=i?Qe(st(i,n),st(n,i)):n}return i?It(i):[]},Le.zip=Xr,Le.zipObject=Yn,Le.zipWith=Yr,Le.backflow=Co,Le.collect=ri,Le.compose=Co,Le.each=ro,Le.eachRight=oo,Le.extend=Oo,Le.iteratee=Di,Le.methods=Si,Le.object=Yn,Le.select=ni,Le.tail=Jn,Le.unique=Qn,Mi(Le,Le),Le.add=function(e,t){return(+e||0)+(+t||0)},Le.attempt=Ko,Le.camelCase=Uo,Le.capitalize=function(e){return(e=r(e))&&e.charAt(0).toUpperCase()+e.slice(1)},Le.ceil=Zo,Le.clone=function(e,t,n,i){return t&&"boolean"!=typeof t&&Pn(e,t,n)?t=!1:"function"==typeof t&&(i=n,n=t,t=!1),"function"==typeof n?rt(e,t,Vt(n,i,3)):rt(e,t)},Le.cloneDeep=function(e,t,n){return"function"==typeof t?rt(e,!0,Vt(t,n,3)):rt(e,!0)},Le.deburr=Oi,Le.endsWith=function(e,t,n){e=r(e),t+="";var i=e.length;return n=n===w?i:xr(0>n?0:+n||0,i),0<=(n-=t.length)&&e.indexOf(t,n)==n},Le.escape=function(e){return(e=r(e))&&he.test(e)?e.replace(ce,u):e},Le.escapeRegExp=function(e){return(e=r(e))&&we.test(e)?e.replace(be,c):e||"(?:)"},Le.every=ti,Le.find=no,Le.findIndex=qr,Le.findKey=Io,Le.findLast=io,Le.findLastIndex=Ur,Le.findLastKey=Do,Le.findWhere=function(e,t){return no(e,wt(t))},Le.first=zn,Le.floor=es,Le.get=function(e,t,n){return e=null==e?w:gt(e,Fn(t),t+""),e===w?n:e},Le.gt=di,Le.gte=function(e,t){return e>=t},Le.has=function(e,t){if(null==e)return!1;var n=er.call(e,t);if(!n&&!jn(t)){if(t=Fn(t),null==(e=1==t.length?e:gt(e,At(t,0,-1))))return!1;t=Gn(t),n=er.call(e,t)}return n||Dn(e.length)&&On(t,e.length)&&(Ao(e)||hi(e))},Le.identity=Li,Le.includes=ii,Le.indexOf=Wn,Le.inRange=function(e,t,n){return t=+t||0,n===w?(n=t,t=0):n=+n||0,e>=xr(t,n)&&e<_r(t,n)},Le.isArguments=hi,Le.isArray=Ao,Le.isBoolean=function(e){return!0===e||!1===e||p(e)&&nr.call(e)==B},Le.isDate=function(e){return p(e)&&nr.call(e)==q},Le.isElement=function(e){return!!e&&1===e.nodeType&&p(e)&&!bi(e)},Le.isEmpty=function(e){return null==e||(Nn(e)&&(Ao(e)||_i(e)||hi(e)||p(e)&&mi(e.splice))?!e.length:!Vo(e).length)},Le.isEqual=pi,Le.isError=fi,Le.isFinite=function(e){return"number"==typeof e&&br(e)},Le.isFunction=mi,Le.isMatch=function(e,t,n,i){return n="function"==typeof n?Vt(n,i,3):w,yt(e,Cn(t),n)},Le.isNaN=function(e){return yi(e)&&e!=+e},Le.isNative=vi,Le.isNull=function(e){return null===e},Le.isNumber=yi,Le.isObject=gi,Le.isPlainObject=bi,Le.isRegExp=wi,Le.isString=_i,Le.isTypedArray=xi,Le.isUndefined=function(e){return e===w},Le.kebabCase=zo,Le.last=Gn,Le.lastIndexOf=function(e,t,n){var i=e?e.length:0;if(!i)return-1;var r=i;if("number"==typeof n)r=(0>n?_r(i+n,0):xr(n||0,i-1))+1;else if(n)return r=Mt(e,t,!0)-1,e=e[r],(t===t?t===e:e!==e)?r:-1;if(t!==t)return h(e,r,!0);for(;r--;)if(e[r]===t)return r;return-1},Le.lt=Ci,Le.lte=function(e,t){return e<=t},Le.max=ts,Le.min=ns,Le.noConflict=function(){return We._=ir,this},Le.noop=$i,Le.now=fo,Le.pad=function(e,t,n){e=r(e),t=+t;var i=e.length;return i<t&&br(t)?(i=(t-i)/2,t=vr(i),i=mr(i),n=hn("",i,n),n.slice(0,t)+e+n):e},Le.padLeft=Wo,Le.padRight=Go,Le.parseInt=function(e,t,n){return(n?Pn(e,t,n):null==t)?t=0:t&&(t=+t),e=ji(e),kr(e,t||(Ee.test(e)?16:10))},Le.random=function(e,t,n){n&&Pn(e,t,n)&&(t=n=w);var i=null==e,r=null==t;return null==n&&(r&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,r=!0)),i&&r&&(t=1,r=!1),e=+e||0,r?(t=e,e=0):t=+t||0,n||e%1||t%1?(n=Er(),xr(e+n*(t-e+ar("1e-"+((n+"").length-1))),t)):St(e,t)},Le.reduce=co,Le.reduceRight=ho,Le.repeat=Pi,Le.result=function(e,t,n){var i=null==e?w:e[t];return i===w&&(null==e||jn(t,e)||(t=Fn(t),e=1==t.length?e:gt(e,At(t,0,-1)),i=null==e?w:e[Gn(t)]),i=i===w?n:i),mi(i)?i.call(e):i},Le.round=is,Le.runInContext=b,Le.size=function(e){var t=e?Hr(e):0;return Dn(t)?t:Vo(e).length},Le.snakeCase=Jo,Le.some=si,Le.sortedIndex=Gr,Le.sortedLastIndex=Jr,Le.startCase=Qo,Le.startsWith=function(e,t,n){return e=r(e),n=null==n?0:xr(0>n?0:+n||0,e.length),e.lastIndexOf(t,n)==n},Le.sum=function(e,t,n){if(n&&Pn(e,t,n)&&(t=w),t=wn(t,n,3),1==t.length){e=Ao(e)?e:Vn(e),n=e.length;for(var i=0;n--;)i+=+t(e[n])||0;e=i}else e=jt(e,t);return e},Le.template=function(e,t,n){var i=Le.templateSettings;n&&Pn(e,t,n)&&(t=n=w),e=r(e),t=Ze(et({},n||t),i,Ye),n=Ze(et({},t.imports),i.imports,Ye);var o,s,a=Vo(n),l=Dt(n,a),u=0;n=t.interpolate||Ne;var c="__p+='";n=Gi((t.escape||Ne).source+"|"+n.source+"|"+(n===me?Ce:Ne).source+"|"+(t.evaluate||Ne).source+"|$","g");var h="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";if(e.replace(n,function(t,n,i,r,a,l){return i||(i=r),c+=e.slice(u,l).replace(Oe,d),n&&(o=!0,c+="'+__e("+n+")+'"),a&&(s=!0,c+="';"+a+";\n__p+='"),i&&(c+="'+((__t=("+i+"))==null?'':__t)+'"),u=l+t.length,t}),c+="';",(t=t.variable)||(c="with(obj){"+c+"}"),c=(s?c.replace(se,""):c).replace(ae,"$1").replace(le,"$1;"),c="function("+(t||"obj")+"){"+(t?"":"obj||(obj={});")+"var __t,__p=''"+(o?",__e=_.escape":"")+(s?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+c+"return __p}",t=Ko(function(){return qi(a,h+"return "+c).apply(w,l)}),t.source=c,fi(t))throw t;return t},Le.trim=ji,Le.trimLeft=function(e,t,n){var i=e;return(e=r(e))?e.slice((n?Pn(i,t,n):null==t)?g(e):o(e,t+"")):e},Le.trimRight=function(e,t,n){var i=e;return(e=r(e))?(n?Pn(i,t,n):null==t)?e.slice(0,v(e)+1):e.slice(0,s(e,t+"")+1):e},Le.trunc=function(e,t,n){n&&Pn(e,t,n)&&(t=w);var i=P;if(n=j,null!=t)if(gi(t)){var o="separator"in t?t.separator:o,i="length"in t?+t.length||0:i;n="omission"in t?r(t.omission):n}else i=+t||0;if(e=r(e),i>=e.length)return e;if(1>(i-=n.length))return n;if(t=e.slice(0,i),null==o)return t+n;if(wi(o)){if(e.slice(i).search(o)){var s,a=e.slice(0,i);for(o.global||(o=Gi(o.source,(ke.exec(o)||"")+"g")),o.lastIndex=0;e=o.exec(a);)s=e.index;t=t.slice(0,null==s?i:s)}}else e.indexOf(o,i)!=i&&-1<(o=t.lastIndexOf(o))&&(t=t.slice(0,o));return t+n},Le.unescape=function(e){return(e=r(e))&&de.test(e)?e.replace(ue,y):e},Le.uniqueId=function(e){var t=++tr;return r(e)+t},Le.words=Ii,Le.all=ti,Le.any=si,Le.contains=ii,Le.eq=pi,Le.detect=no,Le.foldl=co,Le.foldr=ho,Le.head=zn,Le.include=ii,Le.inject=co,Mi(Le,function(){var e={};return pt(Le,function(t,n){Le.prototype[n]||(e[n]=t)}),e}(),!1),Le.sample=oi,Le.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return oi(t,e)}):oi(this.value())},Le.VERSION=_,qe("bind bindKey curry curryRight partial partialRight".split(" "),function(e){Le[e].placeholder=Le}),qe(["drop","take"],function(e,t){$e.prototype[e]=function(n){var i=this.__filtered__;if(i&&!t)return new $e(this);n=null==n?1:_r(vr(n)||0,0);var r=this.clone();return i?r.__takeCount__=xr(r.__takeCount__,n):r.__views__.push({size:n,type:e+(0>r.__dir__?"Right":"")}),r},$e.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),
qe(["filter","map","takeWhile"],function(e,t){var n=t+1,i=n!=M;$e.prototype[e]=function(e,t){var r=this.clone();return r.__iteratees__.push({iteratee:wn(e,t,1),type:n}),r.__filtered__=r.__filtered__||i,r}}),qe(["first","last"],function(e,t){var n="take"+(t?"Right":"");$e.prototype[e]=function(){return this[n](1).value()[0]}}),qe(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");$e.prototype[e]=function(){return this.__filtered__?new $e(this):this[n](1)}}),qe(["pluck","where"],function(e,t){var n=t?"filter":"map",i=t?wt:Vi;$e.prototype[e]=function(e){return this[n](i(e))}}),$e.prototype.compact=function(){return this.filter(Li)},$e.prototype.reject=function(e,t){return e=wn(e,t,1),this.filter(function(t){return!e(t)})},$e.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return n.__filtered__&&(0<e||0>t)?new $e(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==w&&(t=+t||0,n=0>t?n.dropRight(-t):n.take(t-e)),n)},$e.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},$e.prototype.toArray=function(){return this.take(Tr)},pt($e.prototype,function(e,t){var n=/^(?:filter|map|reject)|While$/.test(t),i=/^(?:first|last)$/.test(t),r=Le[i?"take"+("last"==t?"Right":""):t];r&&(Le.prototype[t]=function(){function t(e){return i&&s?r(e,1)[0]:r.apply(w,Qe([e],o))}var o=i?[1]:arguments,s=this.__chain__,a=this.__wrapped__,l=!!this.__actions__.length,u=a instanceof $e,c=o[0],d=u||Ao(a);return d&&n&&"function"==typeof c&&1!=c.length&&(u=d=!1),c={func:ei,args:[t],thisArg:w},l=u&&!l,i&&!s?l?(a=a.clone(),a.__actions__.push(c),e.call(a)):r.call(w,this.value())[0]:!i&&d?(a=l?a:new $e(this),a=e.apply(a,o),a.__actions__.push(c),new Me(a,s)):this.thru(t)})}),qe("join pop push replace shift sort splice split unshift".split(" "),function(e){var t=(/^(?:replace|split)$/.test(e)?Yi:Ki)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(e);Le.prototype[e]=function(){var e=arguments;return i&&!this.__chain__?t.apply(this.value(),e):this[n](function(n){return t.apply(n,e)})}}),pt($e.prototype,function(e,t){var n=Le[t];if(n){var i=n.name+"";(jr[i]||(jr[i]=[])).push({name:t,func:n})}}),jr[dn(w,C).name]=[{name:"wrapper",func:w}],$e.prototype.clone=function(){var e=new $e(this.__wrapped__);return e.__actions__=Be(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Be(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Be(this.__views__),e},$e.prototype.reverse=function(){if(this.__filtered__){var e=new $e(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e},$e.prototype.value=function(){var e,t=this.__wrapped__.value(),n=this.__dir__,i=Ao(t),r=0>n,o=i?t.length:0;e=o;for(var s=this.__views__,a=0,l=-1,u=s.length;++l<u;){var c=s[l],d=c.size;switch(c.type){case"drop":a+=d;break;case"dropRight":e-=d;break;case"take":e=xr(e,a+d);break;case"takeRight":a=_r(a,e-d)}}if(e={start:a,end:e},s=e.start,a=e.end,e=a-s,r=r?a:s-1,s=this.__iteratees__,a=s.length,l=0,u=xr(e,this.__takeCount__),!i||o<L||o==e&&u==e)return Rt(t,this.__actions__);i=[];e:for(;e--&&l<u;){for(r+=n,o=-1,c=t[r];++o<a;){var h=s[o],d=h.type,h=h.iteratee(c);if(d==M)c=h;else if(!h){if(d==R)continue e;break e}}i[l++]=c}return i},Le.prototype.chain=function(){return Zn(this)},Le.prototype.commit=function(){return new Me(this.value(),this.__chain__)},Le.prototype.concat=Zr,Le.prototype.plant=function(e){for(var t,n=this;n instanceof Re;){var i=Bn(n);t?r.__wrapped__=i:t=i;var r=i,n=n.__wrapped__}return r.__wrapped__=e,t},Le.prototype.reverse=function(){function e(e){return e.reverse()}var t=this.__wrapped__;return t instanceof $e?(this.__actions__.length&&(t=new $e(this)),t=t.reverse(),t.__actions__.push({func:ei,args:[e],thisArg:w}),new Me(t,this.__chain__)):this.thru(e)},Le.prototype.toString=function(){return this.value()+""},Le.prototype.run=Le.prototype.toJSON=Le.prototype.valueOf=Le.prototype.value=function(){return Rt(this.__wrapped__,this.__actions__)},Le.prototype.collect=Le.prototype.map,Le.prototype.head=Le.prototype.first,Le.prototype.select=Le.prototype.filter,Le.prototype.tail=Le.prototype.rest,Le}var w,_="3.10.1",x=1,C=2,k=4,E=8,S=16,T=32,A=64,N=128,O=256,P=30,j="...",I=150,D=16,L=200,R=1,M=2,$="Expected a function",V="__lodash_placeholder__",H="[object Arguments]",F="[object Array]",B="[object Boolean]",q="[object Date]",U="[object Error]",z="[object Function]",W="[object Number]",G="[object Object]",J="[object RegExp]",Q="[object String]",K="[object ArrayBuffer]",X="[object Float32Array]",Y="[object Float64Array]",Z="[object Int8Array]",ee="[object Int16Array]",te="[object Int32Array]",ne="[object Uint8Array]",ie="[object Uint8ClampedArray]",re="[object Uint16Array]",oe="[object Uint32Array]",se=/\b__p\+='';/g,ae=/\b(__p\+=)''\+/g,le=/(__e\(.*?\)|\b__t\))\+'';/g,ue=/&(?:amp|lt|gt|quot|#39|#96);/g,ce=/[&<>"'`]/g,de=RegExp(ue.source),he=RegExp(ce.source),pe=/<%-([\s\S]+?)%>/g,fe=/<%([\s\S]+?)%>/g,me=/<%=([\s\S]+?)%>/g,ge=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,ve=/^\w*$/,ye=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,be=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,we=RegExp(be.source),_e=/[\u0300-\u036f\ufe20-\ufe23]/g,xe=/\\(\\)?/g,Ce=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ke=/\w*$/,Ee=/^0[xX]/,Se=/^\[object .+?Constructor\]$/,Te=/^\d+$/,Ae=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ne=/($^)/,Oe=/['\n\r\u2028\u2029\\]/g,Pe=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+","g"),je="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout isFinite parseFloat parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap".split(" "),Ie={};Ie[X]=Ie[Y]=Ie[Z]=Ie[ee]=Ie[te]=Ie[ne]=Ie[ie]=Ie[re]=Ie[oe]=!0,Ie[H]=Ie[F]=Ie[K]=Ie[B]=Ie[q]=Ie[U]=Ie[z]=Ie["[object Map]"]=Ie[W]=Ie[G]=Ie[J]=Ie["[object Set]"]=Ie[Q]=Ie["[object WeakMap]"]=!1;var De={};De[H]=De[F]=De[K]=De[B]=De[q]=De[X]=De[Y]=De[Z]=De[ee]=De[te]=De[W]=De[G]=De[J]=De[Q]=De[ne]=De[ie]=De[re]=De[oe]=!0,De[U]=De[z]=De["[object Map]"]=De["[object Set]"]=De["[object WeakMap]"]=!1;var Le={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Re={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Me={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},$e={function:!0,object:!0},Ve={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},He={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Fe=$e[typeof exports]&&exports&&!exports.nodeType&&exports,Be=$e[typeof module]&&module&&!module.nodeType&&module,qe=$e[typeof self]&&self&&self.Object&&self,Ue=$e[typeof window]&&window&&window.Object&&window,ze=Be&&Be.exports===Fe&&Fe,We=Fe&&Be&&"object"==typeof global&&global&&global.Object&&global||Ue!==(this&&this.window)&&Ue||qe||this,Ge=b();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(We._=Ge,define("lodash",[],function(){return Ge})):Fe&&Be?ze?(Be.exports=Ge)._=Ge:Fe._=Ge:We._=Ge}.call(this),define("org/forgerock/commons/ui/common/main/EventManager",["jquery","underscore"],function(e,t){var n={},i={},r={};return n.sendEvent=function(n,o){return e.when.apply(e,t.map(i[n],function(t){var n=e.Deferred();return window.setTimeout(function(){e.when(t(o)).always(n.resolve)}),n})).then(function(){var e;t.has(r,n)&&(e=r[n],delete r[n],e.resolve())})},n.registerListener=function(e,n){t.has(i,e)?i[e].push(n):i[e]=[n]},n.unregisterListener=function(e,n){t.has(i,e)&&(void 0!==n?i[e]=t.omit(i[e],function(e){return e===n}):delete i[e])},n.whenComplete=function(n){return t.has(r,n)||(r[n]=e.Deferred()),r[n]},n}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("handlebars",[],t):"object"==typeof exports?exports.Handlebars=t():e.Handlebars=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(){var e=v();return e.compile=function(t,n){return c.compile(t,n,e)},e.precompile=function(t,n){return c.precompile(t,n,e)},e.AST=l.default,e.Compiler=c.Compiler,e.JavaScriptCompiler=h.default,e.Parser=u.parser,e.parse=u.parse,e.parseWithoutProcessing=u.parseWithoutProcessing,e}var r=n(1).default;t.__esModule=!0;var o=n(2),s=r(o),a=n(40),l=r(a),u=n(41),c=n(46),d=n(49),h=r(d),p=n(44),f=r(p),m=n(39),g=r(m),v=s.default.create,y=i();y.create=i,g.default(y),y.Visitor=f.default,y.default=y,t.default=y,e.exports=t.default},function(e,t){"use strict";t.default=function(e){return e&&e.__esModule?e:{default:e}},t.__esModule=!0},function(e,t,n){"use strict";function i(){var e=new a.HandlebarsEnvironment;return p.extend(e,a),e.SafeString=u.default,e.Exception=d.default,e.Utils=p,e.escapeExpression=p.escapeExpression,e.VM=m,e.template=function(t){return m.template(t,e)},e}var r=n(3).default,o=n(1).default;t.__esModule=!0;var s=n(4),a=r(s),l=n(33),u=o(l),c=n(6),d=o(c),h=n(5),p=r(h),f=n(34),m=r(f),g=n(39),v=o(g),y=i();y.create=i,v.default(y),y.default=y,t.default=y,e.exports=t.default},function(e,t){"use strict";t.default=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},t.__esModule=!0},function(e,t,n){"use strict";function i(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},l.registerDefaultHelpers(this),u.registerDefaultDecorators(this)}var r=n(1).default;t.__esModule=!0,t.HandlebarsEnvironment=i;var o=n(5),s=n(6),a=r(s),l=n(10),u=n(30),c=n(32),d=r(c);t.VERSION="4.5.3";t.COMPILER_REVISION=8;t.LAST_COMPATIBLE_COMPILER_REVISION=7;var h={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};t.REVISION_CHANGES=h;i.prototype={constructor:i,logger:d.default,log:d.default.log,registerHelper:function(e,t){if("[object Object]"===o.toString.call(e)){if(t)throw new a.default("Arg not supported with multiple helpers");o.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if("[object Object]"===o.toString.call(e))o.extend(this.partials,e);else{if(void 0===t)throw new a.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if("[object Object]"===o.toString.call(e)){if(t)throw new a.default("Arg not supported with multiple decorators");o.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var p=d.default.log;t.log=p,t.createFrame=o.createFrame,t.logger=d.default},function(e,t){"use strict";function n(e){return c[e]}function i(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function r(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}function o(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return h.test(e)?e.replace(d,n):e}function s(e){return!e&&0!==e||!(!m(e)||0!==e.length)}function a(e){var t=i({},e);return t._parent=e,t}function l(e,t){return e.path=t,e}function u(e,t){return(e?e+".":"")+t}t.__esModule=!0,t.extend=i,t.indexOf=r,t.escapeExpression=o,t.isEmpty=s,t.createFrame=a,t.blockParams=l,t.appendContextPath=u;var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},d=/[&<>"'`=]/g,h=/[&<>"'`=]/,p=Object.prototype.toString;t.toString=p;var f=function(e){return"function"==typeof e};f(/x/)&&(t.isFunction=f=function(e){return"function"==typeof e&&"[object Function]"===p.call(e)}),t.isFunction=f;var m=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===p.call(e)};t.isArray=m},function(e,t,n){"use strict";function i(e,t){var n=t&&t.loc,s=void 0,a=void 0,l=void 0,u=void 0;n&&(s=n.start.line,a=n.end.line,l=n.start.column,u=n.end.column,e+=" - "+s+":"+l);for(var c=Error.prototype.constructor.call(this,e),d=0;d<o.length;d++)this[o[d]]=c[o[d]];Error.captureStackTrace&&Error.captureStackTrace(this,i);try{n&&(this.lineNumber=s,this.endLineNumber=a,r?(Object.defineProperty(this,"column",{value:l,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:u,enumerable:!0})):(this.column=l,this.endColumn=u))}catch(e){}}var r=n(7).default;t.__esModule=!0;var o=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];i.prototype=new Error,t.default=i,e.exports=t.default},function(e,t,n){e.exports={default:n(8),__esModule:!0}},function(e,t,n){var i=n(9);e.exports=function(e,t,n){return i.setDesc(e,t,n)}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t,n){"use strict";function i(e){a.default(e),u.default(e),d.default(e),p.default(e),m.default(e),v.default(e),b.default(e)}function r(e,t,n){e.helpers[t]&&(e.hooks[t]=e.helpers[t],n||delete e.helpers[t])}var o=n(1).default;t.__esModule=!0,t.registerDefaultHelpers=i,t.moveHelperToHooks=r;var s=n(11),a=o(s),l=n(12),u=o(l),c=n(25),d=o(c),h=n(26),p=o(h),f=n(27),m=o(f),g=n(28),v=o(g),y=n(29),b=o(y)},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5);t.default=function(e){e.registerHelper("blockHelperMissing",function(t,n){var r=n.inverse,o=n.fn;if(!0===t)return o(this);if(!1===t||null==t)return r(this);if(i.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):r(this);if(n.data&&n.ids){var s=i.createFrame(n.data);s.contextPath=i.appendContextPath(n.data.contextPath,n.name),n={data:s}}return o(t,n)})},e.exports=t.default},function(e,t,n){(function(i){"use strict";var r=n(13).default,o=n(1).default;t.__esModule=!0;var s=n(5),a=n(6),l=o(a);t.default=function(e){e.registerHelper("each",function(e,t){function n(t,n,i){d&&(d.key=t,d.index=n,d.first=0===n,d.last=!!i,h&&(d.contextPath=h+t)),c+=o(e[t],{data:d,blockParams:s.blockParams([e[t],t],[h+t,null])})}if(!t)throw new l.default("Must pass iterator to #each");var o=t.fn,a=t.inverse,u=0,c="",d=void 0,h=void 0;if(t.data&&t.ids&&(h=s.appendContextPath(t.data.contextPath,t.ids[0])+"."),s.isFunction(e)&&(e=e.call(this)),t.data&&(d=s.createFrame(t.data)),e&&"object"==typeof e)if(s.isArray(e))for(var p=e.length;u<p;u++)u in e&&n(u,u,u===e.length-1);else if(i.Symbol&&e[i.Symbol.iterator]){for(var f=[],m=e[i.Symbol.iterator](),g=m.next();!g.done;g=m.next())f.push(g.value);e=f;for(var p=e.length;u<p;u++)n(u,u,u===e.length-1)}else!function(){var t=void 0;r(e).forEach(function(e){void 0!==t&&n(t,u-1),t=e,u++}),void 0!==t&&n(t,u-1,!0)}();return 0===u&&(c=a(this)),c})},e.exports=t.default}).call(t,function(){return this}())},function(e,t,n){e.exports={default:n(14),__esModule:!0}},function(e,t,n){n(15),e.exports=n(21).Object.keys},function(e,t,n){var i=n(16);n(18)("keys",function(e){return function(t){return e(i(t))}})},function(e,t,n){var i=n(17);e.exports=function(e){return Object(i(e))}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var i=n(19),r=n(21),o=n(24);e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],s={};s[e]=t(n),i(i.S+i.F*o(function(){n(1)}),"Object",s)}},function(e,t,n){var i=n(20),r=n(21),o=n(22),s=function(e,t,n){var a,l,u,c=e&s.F,d=e&s.G,h=e&s.S,p=e&s.P,f=e&s.B,m=e&s.W,g=d?r:r[t]||(r[t]={}),v=d?i:h?i[t]:(i[t]||{}).prototype;d&&(n=t);for(a in n)(l=!c&&v&&a in v)&&a in g||(u=l?v[a]:n[a],g[a]=d&&"function"!=typeof v[a]?n[a]:f&&l?o(u,i):m&&v[a]==u?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t.prototype=e.prototype,t}(u):p&&"function"==typeof u?o(Function.call,u):u,p&&((g.prototype||(g.prototype={}))[a]=u))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,e.exports=s},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},function(e,t,n){var i=n(23);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";var i=n(1).default;t.__esModule=!0;var r=n(6),o=i(r);t.default=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new o.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t.default},function(e,t,n){"use strict";var i=n(1).default;t.__esModule=!0;var r=n(5),o=n(6),s=i(o);t.default=function(e){e.registerHelper("if",function(e,t){if(2!=arguments.length)throw new s.default("#if requires exactly one argument");return r.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||r.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){if(2!=arguments.length)throw new s.default("#unless requires exactly one argument");return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("log",function(){for(var t=[void 0],n=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)t.push(arguments[i]);var r=1;null!=n.hash.level?r=n.hash.level:n.data&&null!=n.data.level&&(r=n.data.level),t[0]=r,e.log.apply(e,t)})},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0;var n=/^(constructor|__defineGetter__|__defineSetter__|__lookupGetter__|__proto__)$/;t.dangerousPropertyRegex=n,t.default=function(e){e.registerHelper("lookup",function(e,t){if(!e)return e;if(!n.test(String(t))||Object.prototype.propertyIsEnumerable.call(e,t))return e[t]})}},function(e,t,n){"use strict";var i=n(1).default;t.__esModule=!0;var r=n(5),o=n(6),s=i(o);t.default=function(e){e.registerHelper("with",function(e,t){if(2!=arguments.length)throw new s.default("#with requires exactly one argument");r.isFunction(e)&&(e=e.call(this));var n=t.fn;if(r.isEmpty(e))return t.inverse(this);var i=t.data;return t.data&&t.ids&&(i=r.createFrame(t.data),i.contextPath=r.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:i,blockParams:r.blockParams([e],[i&&i.contextPath])})})},e.exports=t.default},function(e,t,n){"use strict";function i(e){s.default(e)}var r=n(1).default;t.__esModule=!0,t.registerDefaultDecorators=i;var o=n(31),s=r(o)},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5);t.default=function(e){e.registerDecorator("inline",function(e,t,n,r){var o=e;return t.partials||(t.partials={},o=function(r,o){var s=n.partials;n.partials=i.extend({},s,t.partials);var a=e(r,o);return n.partials=s,a}),t.partials[r.args[0]]=r.fn,o})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5),r={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=i.indexOf(r.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=r.lookupLevel(e),"undefined"!=typeof console&&r.lookupLevel(r.level)<=e){var t=r.methodMap[e];console[t]||(t="log");for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];console[t].apply(console,i)}}};t.default=r,e.exports=t.default},function(e,t){"use strict";function n(e){this.string=e}t.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},t.default=n,e.exports=t.default},function(e,t,n){"use strict";function i(e){var t=e&&e[0]||1,n=y.COMPILER_REVISION;if(!(t>=y.LAST_COMPATIBLE_COMPILER_REVISION&&t<=y.COMPILER_REVISION)){if(t<y.LAST_COMPATIBLE_COMPILER_REVISION){var i=y.REVISION_CHANGES[n],r=y.REVISION_CHANGES[t];throw new v.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new v.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function r(e,t){function n(n,i,r){r.hash&&(i=m.extend({},i,r.hash),r.ids&&(r.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,i,r);var o=m.extend({},r,{hooks:this.hooks}),s=t.VM.invokePartial.call(this,n,i,o);if(null==s&&t.compile&&(r.partials[r.name]=t.compile(n,e.compilerOptions,t),s=r.partials[r.name](i,o)),null!=s){if(r.indent){for(var a=s.split("\n"),l=0,u=a.length;l<u&&(a[l]||l+1!==u);l++)a[l]=r.indent+a[l];s=a.join("\n")}return s}throw new v.default("The partial "+r.name+" could not be compiled when running in runtime-only mode")}function i(t){function n(t){return""+e.main(s,t,s.helpers,s.partials,o,l,a)}var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=r.data;i._setup(r),!r.partial&&e.useData&&(o=u(t,o));var a=void 0,l=e.useBlockParams?[]:void 0;return e.useDepths&&(a=r.depths?t!=r.depths[0]?[t].concat(r.depths):r.depths:[t]),(n=c(e.main,n,s,r.depths||[],o,l))(t,r)}if(!t)throw new v.default("No environment passed to template");if(!e||!e.main)throw new v.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var r=e.compiler&&7===e.compiler[0],s={strict:function(e,t,n){if(!(e&&t in e))throw new v.default('"'+t+'" not defined in '+e,{loc:n});return e[t]},lookup:function(e,t){for(var n=e.length,i=0;i<n;i++)if(e[i]&&null!=e[i][t])return e[i][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:m.escapeExpression,invokePartial:n,fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,i,r){var s=this.programs[e],a=this.fn(e);return t||r||i||n?s=o(this,e,a,t,n,i,r):s||(s=this.programs[e]=o(this,e,a)),s},data:function(e,t){for(;e&&t--;)e=e._parent;return e},nullContext:d({}),noop:t.VM.noop,compilerInfo:e.compiler};return i.isTop=!0,i._setup=function(n){if(n.partial)s.helpers=n.helpers,s.partials=n.partials,s.decorators=n.decorators,s.hooks=n.hooks;else{s.helpers=m.extend({},t.helpers,n.helpers),e.usePartial&&(s.partials=m.extend({},t.partials,n.partials)),(e.usePartial||e.useDecorators)&&(s.decorators=m.extend({},t.decorators,n.decorators)),s.hooks={};var i=n.allowCallsToHelperMissing||r;b.moveHelperToHooks(s,"helperMissing",i),b.moveHelperToHooks(s,"blockHelperMissing",i)}},i._child=function(t,n,i,r){if(e.useBlockParams&&!i)throw new v.default("must pass block params");if(e.useDepths&&!r)throw new v.default("must pass parent depths");return o(s,t,e[t],n,0,i,r)},i}function o(e,t,n,i,r,o,s){function a(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=s;return!s||t==s[0]||t===e.nullContext&&null===s[0]||(a=[t].concat(s)),n(e,t,e.helpers,e.partials,r.data||i,o&&[r.blockParams].concat(o),a)}return a=c(n,a,e,s,i,o),a.program=t,a.depth=s?s.length:0,a.blockParams=r||0,a}function s(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],e}function a(e,t,n){var i=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var r=void 0;if(n.fn&&n.fn!==l&&function(){n.data=y.createFrame(n.data);var e=n.fn;r=n.data["partial-block"]=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=y.createFrame(n.data),n.data["partial-block"]=i,e(t,n)},e.partials&&(n.partials=m.extend({},n.partials,e.partials))}(),void 0===e&&r&&(e=r),void 0===e)throw new v.default("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)}function l(){return""}function u(e,t){return t&&"root"in t||(t=t?y.createFrame(t):{},t.root=e),t}function c(e,t,n,i,r,o){if(e.decorator){var s={};t=e.decorator(t,s,n,i&&i[0],r,o,i),m.extend(t,s)}return t}var d=n(35).default,h=n(3).default,p=n(1).default;t.__esModule=!0,t.checkRevision=i,t.template=r,t.wrapProgram=o,t.resolvePartial=s,t.invokePartial=a,t.noop=l;var f=n(5),m=h(f),g=n(6),v=p(g),y=n(4),b=n(10)},function(e,t,n){e.exports={default:n(36),__esModule:!0}},function(e,t,n){n(37),e.exports=n(21).Object.seal},function(e,t,n){var i=n(38);n(18)("seal",function(e){return function(t){return e&&i(t)?e(t):t}})},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){(function(n){"use strict";t.__esModule=!0,t.default=function(e){var t=void 0!==n?n:window,i=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=i),e}},e.exports=t.default}).call(t,function(){return this}())},function(e,t){"use strict";t.__esModule=!0;var n={helpers:{helperExpression:function(e){return"SubExpression"===e.type||("MustacheStatement"===e.type||"BlockStatement"===e.type)&&!!(e.params&&e.params.length||e.hash)},scopedId:function(e){return/^\.|this\b/.test(e.original)},simpleId:function(e){return 1===e.parts.length&&!n.helpers.scopedId(e)&&!e.depth}}};t.default=n,e.exports=t.default},function(e,t,n){"use strict";function i(e,t){return"Program"===e.type?e:(l.default.yy=f,f.locInfo=function(e){return new f.SourceLocation(t&&t.srcName,e)},l.default.parse(e))}function r(e,t){var n=i(e,t);return new c.default(t).accept(n)}var o=n(1).default,s=n(3).default;t.__esModule=!0,t.parseWithoutProcessing=i,t.parse=r;var a=n(42),l=o(a),u=n(43),c=o(u),d=n(45),h=s(d),p=n(5);t.parser=l.default;var f={};p.extend(f,h)},function(e,t){"use strict";t.__esModule=!0;var n=function(){function e(){this.yy={}}var t={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(e,t,n,i,r,o,s){var a=o.length-1;switch(r){case 1:return o[a-1];case 2:this.$=i.prepareProgram(o[a]);break;case 3:case 4:case 5:case 6:case 7:case 8:this.$=o[a];break;case 9:this.$={type:"CommentStatement",value:i.stripComment(o[a]),strip:i.stripFlags(o[a],o[a]),loc:i.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:o[a],value:o[a],loc:i.locInfo(this._$)};break;case 11:this.$=i.prepareRawBlock(o[a-2],o[a-1],o[a],this._$);break;case 12:this.$={path:o[a-3],params:o[a-2],hash:o[a-1]};break;case 13:this.$=i.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!1,this._$);break;case 14:this.$=i.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!0,this._$);break;case 15:this.$={open:o[a-5],path:o[a-4],params:o[a-3],hash:o[a-2],blockParams:o[a-1],strip:i.stripFlags(o[a-5],o[a])};break;case 16:case 17:this.$={path:o[a-4],params:o[a-3],hash:o[a-2],blockParams:o[a-1],strip:i.stripFlags(o[a-5],o[a])};break;case 18:this.$={strip:i.stripFlags(o[a-1],o[a-1]),program:o[a]};break;case 19:var l=i.prepareBlock(o[a-2],o[a-1],o[a],o[a],!1,this._$),u=i.prepareProgram([l],o[a-1].loc);u.chained=!0,this.$={strip:o[a-2].strip,program:u,chain:!0};break;case 20:this.$=o[a];break;case 21:this.$={path:o[a-1],strip:i.stripFlags(o[a-2],o[a])};break;case 22:case 23:this.$=i.prepareMustache(o[a-3],o[a-2],o[a-1],o[a-4],i.stripFlags(o[a-4],o[a]),this._$);break;case 24:this.$={type:"PartialStatement",name:o[a-3],params:o[a-2],hash:o[a-1],indent:"",strip:i.stripFlags(o[a-4],o[a]),loc:i.locInfo(this._$)};break;case 25:this.$=i.preparePartialBlock(o[a-2],o[a-1],o[a],this._$);break;case 26:this.$={path:o[a-3],params:o[a-2],hash:o[a-1],strip:i.stripFlags(o[a-4],o[a])};break;case 27:case 28:this.$=o[a];break;case 29:this.$={type:"SubExpression",path:o[a-3],params:o[a-2],hash:o[a-1],loc:i.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:o[a],loc:i.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:i.id(o[a-2]),value:o[a],loc:i.locInfo(this._$)};break;case 32:this.$=i.id(o[a-1]);break;case 33:case 34:this.$=o[a];break;case 35:this.$={type:"StringLiteral",value:o[a],original:o[a],loc:i.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(o[a]),original:Number(o[a]),loc:i.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===o[a],original:"true"===o[a],loc:i.locInfo(this._$)}
;break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:i.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:i.locInfo(this._$)};break;case 40:case 41:this.$=o[a];break;case 42:this.$=i.preparePath(!0,o[a],this._$);break;case 43:this.$=i.preparePath(!1,o[a],this._$);break;case 44:o[a-2].push({part:i.id(o[a]),original:o[a],separator:o[a-1]}),this.$=o[a-2];break;case 45:this.$=[{part:i.id(o[a]),original:o[a]}];break;case 46:this.$=[];break;case 47:o[a-1].push(o[a]);break;case 48:this.$=[];break;case 49:o[a-1].push(o[a]);break;case 50:this.$=[];break;case 51:o[a-1].push(o[a]);break;case 58:this.$=[];break;case 59:o[a-1].push(o[a]);break;case 64:this.$=[];break;case 65:o[a-1].push(o[a]);break;case 70:this.$=[];break;case 71:o[a-1].push(o[a]);break;case 78:this.$=[];break;case 79:o[a-1].push(o[a]);break;case 82:this.$=[];break;case 83:o[a-1].push(o[a]);break;case 86:this.$=[];break;case 87:o[a-1].push(o[a]);break;case 90:this.$=[];break;case 91:o[a-1].push(o[a]);break;case 94:this.$=[];break;case 95:o[a-1].push(o[a]);break;case 98:this.$=[o[a]];break;case 99:o[a-1].push(o[a]);break;case 100:this.$=[o[a]];break;case 101:o[a-1].push(o[a])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(e,t){throw new Error(e)},parse:function(e){var t=this,n=[0],i=[null],r=[],o=this.table,s="",a=0,l=0,u=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var c=this.lexer.yylloc;r.push(c);var d=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var h,p,f,m,g,v,y,b,w,_={};;){if(f=n[n.length-1],this.defaultActions[f]?m=this.defaultActions[f]:(null!==h&&void 0!==h||(h=function(){var e;return e=t.lexer.lex()||1,"number"!=typeof e&&(e=t.symbols_[e]||e),e}()),m=o[f]&&o[f][h]),void 0===m||!m.length||!m[0]){var x="";if(!u){w=[];for(v in o[f])this.terminals_[v]&&v>2&&w.push("'"+this.terminals_[v]+"'");x=this.lexer.showPosition?"Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[h]||h)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==h?"end of input":"'"+(this.terminals_[h]||h)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[h]||h,line:this.lexer.yylineno,loc:c,expected:w})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+f+", token: "+h);switch(m[0]){case 1:n.push(h),i.push(this.lexer.yytext),r.push(this.lexer.yylloc),n.push(m[1]),h=null,p?(h=p,p=null):(l=this.lexer.yyleng,s=this.lexer.yytext,a=this.lexer.yylineno,c=this.lexer.yylloc,u>0&&u--);break;case 2:if(y=this.productions_[m[1]][1],_.$=i[i.length-y],_._$={first_line:r[r.length-(y||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(y||1)].first_column,last_column:r[r.length-1].last_column},d&&(_._$.range=[r[r.length-(y||1)].range[0],r[r.length-1].range[1]]),void 0!==(g=this.performAction.call(_,s,l,a,this.yy,m[1],i,r)))return g;y&&(n=n.slice(0,-1*y*2),i=i.slice(0,-1*y),r=r.slice(0,-1*y)),n.push(this.productions_[m[1]][0]),i.push(_.$),r.push(_._$),b=o[n[n.length-2]][n[n.length-1]],n.push(b);break;case 3:return!0}}return!0}},n=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,i,r;this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),s=0;s<o.length&&(!(n=this._input.match(this.rules[o[s]]))||t&&!(n[0].length>t[0].length)||(t=n,i=s,this.options.flex));s++);return t?(r=t[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,n,i){function r(e,n){return t.yytext=t.yytext.substring(e,t.yyleng-n+e)}switch(n){case 0:if("\\\\"===t.yytext.slice(-2)?(r(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(r(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(r(5,9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(t.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return t.yytext=r(1,2).replace(/\\"/g,'"'),80;case 32:return t.yytext=r(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return t.yytext=t.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],e.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},e}();return t.lexer=n,e.prototype=t,t.Parser=e,new e}();t.default=n,e.exports=t.default},function(e,t,n){"use strict";function i(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=e}function r(e,t,n){void 0===t&&(t=e.length);var i=e[t-1],r=e[t-2];return i?"ContentStatement"===i.type?(r||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original):void 0:n}function o(e,t,n){void 0===t&&(t=-1);var i=e[t+1],r=e[t+2];return i?"ContentStatement"===i.type?(r||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original):void 0:n}function s(e,t,n){var i=e[null==t?0:t+1];if(i&&"ContentStatement"===i.type&&(n||!i.rightStripped)){var r=i.value;i.value=i.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),i.rightStripped=i.value!==r}}function a(e,t,n){var i=e[null==t?e.length-1:t-1];if(i&&"ContentStatement"===i.type&&(n||!i.leftStripped)){var r=i.value;return i.value=i.value.replace(n?/\s+$/:/[ \t]+$/,""),i.leftStripped=i.value!==r,i.leftStripped}}var l=n(1).default;t.__esModule=!0;var u=n(44),c=l(u);i.prototype=new c.default,i.prototype.Program=function(e){var t=!this.options.ignoreStandalone,n=!this.isRootSeen;this.isRootSeen=!0;for(var i=e.body,l=0,u=i.length;l<u;l++){var c=i[l],d=this.accept(c);if(d){var h=r(i,l,n),p=o(i,l,n),f=d.openStandalone&&h,m=d.closeStandalone&&p,g=d.inlineStandalone&&h&&p;d.close&&s(i,l,!0),d.open&&a(i,l,!0),t&&g&&(s(i,l),a(i,l)&&"PartialStatement"===c.type&&(c.indent=/([ \t]+$)/.exec(i[l-1].original)[1])),t&&f&&(s((c.program||c.inverse).body),a(i,l)),t&&m&&(s(i,l),a((c.inverse||c.program).body))}}return e},i.prototype.BlockStatement=i.prototype.DecoratorBlock=i.prototype.PartialBlockStatement=function(e){this.accept(e.program),this.accept(e.inverse);var t=e.program||e.inverse,n=e.program&&e.inverse,i=n,l=n;if(n&&n.chained)for(i=n.body[0].program;l.chained;)l=l.body[l.body.length-1].program;var u={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:o(t.body),closeStandalone:r((i||t).body)};if(e.openStrip.close&&s(t.body,null,!0),n){var c=e.inverseStrip;c.open&&a(t.body,null,!0),c.close&&s(i.body,null,!0),e.closeStrip.open&&a(l.body,null,!0),!this.options.ignoreStandalone&&r(t.body)&&o(i.body)&&(a(t.body),s(i.body))}else e.closeStrip.open&&a(t.body,null,!0);return u},i.prototype.Decorator=i.prototype.MustacheStatement=function(e){return e.strip},i.prototype.PartialStatement=i.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close}},t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(){this.parents=[]}function r(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")}function o(e){r.call(this,e),this.acceptKey(e,"program"),this.acceptKey(e,"inverse")}function s(e){this.acceptRequired(e,"name"),this.acceptArray(e.params),this.acceptKey(e,"hash")}var a=n(1).default;t.__esModule=!0;var l=n(6),u=a(l);i.prototype={constructor:i,mutating:!1,acceptKey:function(e,t){var n=this.accept(e[t]);if(this.mutating){if(n&&!i.prototype[n.type])throw new u.default('Unexpected node type "'+n.type+'" found when accepting '+t+" on "+e.type);e[t]=n}},acceptRequired:function(e,t){if(this.acceptKey(e,t),!e[t])throw new u.default(e.type+" requires "+t)},acceptArray:function(e){for(var t=0,n=e.length;t<n;t++)this.acceptKey(e,t),e[t]||(e.splice(t,1),t--,n--)},accept:function(e){if(e){if(!this[e.type])throw new u.default("Unknown type: "+e.type,e);this.current&&this.parents.unshift(this.current),this.current=e;var t=this[e.type](e);return this.current=this.parents.shift(),!this.mutating||t?t:!1!==t?e:void 0}},Program:function(e){this.acceptArray(e.body)},MustacheStatement:r,Decorator:r,BlockStatement:o,DecoratorBlock:o,PartialStatement:s,PartialBlockStatement:function(e){s.call(this,e),this.acceptKey(e,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:r,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(e){this.acceptArray(e.pairs)},HashPair:function(e){this.acceptRequired(e,"value")}},t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e,t){if(t=t.path?t.path.original:t,e.path.original!==t){var n={loc:e.path.loc};throw new g.default(e.path.original+" doesn't match "+t,n)}}function r(e,t){this.source=e,this.start={line:t.first_line,column:t.first_column},this.end={line:t.last_line,column:t.last_column}}function o(e){return/^\[.*\]$/.test(e)?e.substring(1,e.length-1):e}function s(e,t){return{open:"~"===e.charAt(2),close:"~"===t.charAt(t.length-3)}}function a(e){return e.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function l(e,t,n){n=this.locInfo(n);for(var i=e?"@":"",r=[],o=0,s=0,a=t.length;s<a;s++){var l=t[s].part,u=t[s].original!==l;if(i+=(t[s].separator||"")+l,u||".."!==l&&"."!==l&&"this"!==l)r.push(l);else{if(r.length>0)throw new g.default("Invalid path: "+i,{loc:n});".."===l&&o++}}return{type:"PathExpression",data:e,depth:o,parts:r,original:i,loc:n}}function u(e,t,n,i,r,o){var s=i.charAt(3)||i.charAt(2),a="{"!==s&&"&"!==s;return{type:/\*/.test(i)?"Decorator":"MustacheStatement",path:e,params:t,hash:n,escaped:a,strip:r,loc:this.locInfo(o)}}function c(e,t,n,r){i(e,n),r=this.locInfo(r);var o={type:"Program",body:t,strip:{},loc:r};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:o,openStrip:{},inverseStrip:{},closeStrip:{},loc:r}}function d(e,t,n,r,o,s){r&&r.path&&i(e,r);var a=/\*/.test(e.open);t.blockParams=e.blockParams;var l=void 0,u=void 0;if(n){if(a)throw new g.default("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=r.strip),u=n.strip,l=n.program}return o&&(o=l,l=t,t=o),{type:a?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:l,openStrip:e.strip,inverseStrip:u,closeStrip:r&&r.strip,loc:this.locInfo(s)}}function h(e,t){if(!t&&e.length){var n=e[0].loc,i=e[e.length-1].loc;n&&i&&(t={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:i.end.line,column:i.end.column}})}return{type:"Program",body:e,strip:{},loc:t}}function p(e,t,n,r){return i(e,n),{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:n&&n.strip,loc:this.locInfo(r)}}var f=n(1).default;t.__esModule=!0,t.SourceLocation=r,t.id=o,t.stripFlags=s,t.stripComment=a,t.preparePath=l,t.prepareMustache=u,t.prepareRawBlock=c,t.prepareBlock=d,t.prepareProgram=h,t.preparePartialBlock=p;var m=n(6),g=f(m)},function(e,t,n){"use strict";function i(){}function r(e,t,n){if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new d.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);t=t||{},"data"in t||(t.data=!0),t.compat&&(t.useDepths=!0);var i=n.parse(e,t),r=(new n.Compiler).compile(i,t);return(new n.JavaScriptCompiler).compile(r,t)}function o(e,t,n){function i(){var i=n.parse(e,t),r=(new n.Compiler).compile(i,t),o=(new n.JavaScriptCompiler).compile(r,t,void 0,!0);return n.template(o)}function r(e,t){return o||(o=i()),o.call(this,e,t)}if(void 0===t&&(t={}),null==e||"string"!=typeof e&&"Program"!==e.type)throw new d.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);t=h.extend({},t),"data"in t||(t.data=!0),t.compat&&(t.useDepths=!0);var o=void 0;return r._setup=function(e){return o||(o=i()),o._setup(e)},r._child=function(e,t,n,r){return o||(o=i()),o._child(e,t,n,r)},r}function s(e,t){if(e===t)return!0;if(h.isArray(e)&&h.isArray(t)&&e.length===t.length){for(var n=0;n<e.length;n++)if(!s(e[n],t[n]))return!1;return!0}}function a(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:!1,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}var l=n(47).default,u=n(1).default;t.__esModule=!0,t.Compiler=i,t.precompile=r,t.compile=o;var c=n(6),d=u(c),h=n(5),p=n(40),f=u(p),m=[].slice;i.prototype={compiler:i,equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;n<t;n++){var i=this.opcodes[n],r=e.opcodes[n];if(i.opcode!==r.opcode||!s(i.args,r.args))return!1}t=this.children.length;for(var n=0;n<t;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,t){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds,t.blockParams=t.blockParams||[],t.knownHelpers=h.extend(l(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},t.knownHelpers),this.accept(e)},compileProgram:function(e){var t=new this.compiler,n=t.compile(e,this.options),i=this.guid++;return this.usePartial=this.usePartial||n.usePartial,this.children[i]=n,this.useDepths=this.useDepths||n.useDepths,i},accept:function(e){if(!this[e.type])throw new d.default("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var t=this[e.type](e);return this.sourceNode.shift(),t},Program:function(e){this.options.blockParams.unshift(e.blockParams);for(var t=e.body,n=t.length,i=0;i<n;i++)this.accept(t[i]);return this.options.blockParams.shift(),this.isSimple=1===n,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){a(e);var t=e.program,n=e.inverse;t=t&&this.compileProgram(t),n=n&&this.compileProgram(n);var i=this.classifySexpr(e);"helper"===i?this.helperSexpr(e,t,n):"simple"===i?(this.simpleSexpr(e),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,t,n),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(e){var t=e.program&&this.compileProgram(e.program),n=this.setupFullMustacheParams(e,t,void 0),i=e.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,i.original)},PartialStatement:function(e){this.usePartial=!0;var t=e.program;t&&(t=this.compileProgram(e.program));var n=e.params;if(n.length>1)throw new d.default("Unsupported number of partial arguments: "+n.length,e);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var i=e.name.original,r="SubExpression"===e.name.type;r&&this.accept(e.name),this.setupFullMustacheParams(e,t,void 0,!0);var o=e.indent||"";this.options.preventIndent&&o&&(this.opcode("appendContent",o),o=""),this.opcode("invokePartial",r,i,o),this.opcode("append")},PartialBlockStatement:function(e){this.PartialStatement(e)},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(e){this.DecoratorBlock(e)},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){a(e);var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)
},ambiguousSexpr:function(e,t,n){var i=e.path,r=i.parts[0],o=null!=t||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),i.strict=!0,this.accept(i),this.opcode("invokeAmbiguous",r,o)},simpleSexpr:function(e){var t=e.path;t.strict=!0,this.accept(t),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,n){var i=this.setupFullMustacheParams(e,t,n),r=e.path,o=r.parts[0];if(this.options.knownHelpers[o])this.opcode("invokeKnownHelper",i.length,o);else{if(this.options.knownHelpersOnly)throw new d.default("You specified knownHelpersOnly, but used the unknown helper "+o,e);r.strict=!0,r.falsy=!0,this.accept(r),this.opcode("invokeHelper",i.length,r.original,f.default.helpers.simpleId(r))}},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0],n=f.default.helpers.scopedId(e),i=!e.depth&&!n&&this.blockParamIndex(t);i?this.opcode("lookupBlockParam",i,e.parts):t?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,n):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(e){var t=e.pairs,n=0,i=t.length;for(this.opcode("pushHash");n<i;n++)this.pushParam(t[n].value);for(;n--;)this.opcode("assignToHash",t[n].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:m.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){e&&(this.useDepths=!0)},classifySexpr:function(e){var t=f.default.helpers.simpleId(e.path),n=t&&!!this.blockParamIndex(e.path.parts[0]),i=!n&&f.default.helpers.helperExpression(e),r=!n&&(i||t);if(r&&!i){var o=e.path.parts[0],s=this.options;s.knownHelpers[o]?i=!0:s.knownHelpersOnly&&(r=!1)}return i?"helper":r?"ambiguous":"simple"},pushParams:function(e){for(var t=0,n=e.length;t<n;t++)this.pushParam(e[t])},pushParam:function(e){var t=null!=e.value?e.value:e.original||"";if(this.stringParams)t.replace&&(t=t.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",t,e.type),"SubExpression"===e.type&&this.accept(e);else{if(this.trackIds){var n=void 0;if(!e.parts||f.default.helpers.scopedId(e)||e.depth||(n=this.blockParamIndex(e.parts[0])),n){var i=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,i)}else t=e.original||t,t.replace&&(t=t.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,t)}this.accept(e)}},setupFullMustacheParams:function(e,t,n,i){var r=e.params;return this.pushParams(r),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.accept(e.hash):this.opcode("emptyHash",i),r},blockParamIndex:function(e){for(var t=0,n=this.options.blockParams.length;t<n;t++){var i=this.options.blockParams[t],r=i&&h.indexOf(i,e);if(i&&r>=0)return[t,r]}}}},function(e,t,n){e.exports={default:n(48),__esModule:!0}},function(e,t,n){var i=n(9);e.exports=function(e,t){return i.create(e,t)}},function(e,t,n){"use strict";function i(e){this.value=e}function r(){}function o(e,t,n,i){var r=t.popStack(),o=0,s=n.length;for(e&&s--;o<s;o++)r=t.nameLookup(r,n[o],i);return e?[t.aliasable("container.strict"),"(",r,", ",t.quotedString(n[o]),", ",JSON.stringify(t.source.currentLocation)," )"]:r}var s=n(13).default,a=n(1).default;t.__esModule=!0;var l=n(4),u=n(6),c=a(u),d=n(5),h=n(50),p=a(h),f=n(28);r.prototype={nameLookup:function(e,t){function n(){return r.isValidJavaScriptVariableName(t)?[e,".",t]:[e,"[",JSON.stringify(t),"]"]}if(f.dangerousPropertyRegex.test(t)){return["(",[this.aliasable("container.propertyIsEnumerable"),".call(",e,",",JSON.stringify(t),")"],"?",n()," : undefined)"]}return n()},depthedLookup:function(e){return[this.aliasable("container.lookup"),'(depths, "',e,'")']},compilerInfo:function(){var e=l.COMPILER_REVISION;return[e,l.REVISION_CHANGES[e]]},appendToBuffer:function(e,t,n){return d.isArray(e)||(e=[e]),e=this.source.wrap(e,t),this.environment.isSimple?["return ",e,";"]:n?["buffer += ",e,";"]:(e.appendToBuffer=!0,e)},initializeBuffer:function(){return this.quotedString("")},compile:function(e,t,n,i){this.environment=e,this.options=t,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!i,this.name=this.environment.name,this.isChild=!!n,this.context=n||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(e,t),this.useDepths=this.useDepths||e.useDepths||e.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||e.useBlockParams;var r=e.opcodes,o=void 0,s=void 0,a=void 0,l=void 0;for(a=0,l=r.length;a<l;a++)o=r[a],this.source.currentLocation=o.loc,s=s||o.loc,this[o.opcode].apply(this,o.args);if(this.source.currentLocation=s,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new c.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),i?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var u=this.createFunctionContext(i);if(this.isChild)return u;var d={compiler:this.compilerInfo(),main:u};this.decorators&&(d.main_d=this.decorators,d.useDecorators=!0);var h=this.context,p=h.programs,f=h.decorators;for(a=0,l=p.length;a<l;a++)p[a]&&(d[a]=p[a],f[a]&&(d[a+"_d"]=f[a],d.useDecorators=!0));return this.environment.usePartial&&(d.usePartial=!0),this.options.data&&(d.useData=!0),this.useDepths&&(d.useDepths=!0),this.useBlockParams&&(d.useBlockParams=!0),this.options.compat&&(d.compat=!0),i?d.compilerOptions=this.options:(d.compiler=JSON.stringify(d.compiler),this.source.currentLocation={start:{line:1,column:0}},d=this.objectLiteral(d),t.srcName?(d=d.toStringWithSourceMap({file:t.destName}),d.map=d.map&&d.map.toString()):d=d.toString()),d},preamble:function(){this.lastContext=0,this.source=new p.default(this.options.srcName),this.decorators=new p.default(this.options.srcName)},createFunctionContext:function(e){var t=this,n="",i=this.stackVars.concat(this.registers.list);i.length>0&&(n+=", "+i.join(", "));var r=0;s(this.aliases).forEach(function(e){var i=t.aliases[e];i.children&&i.referenceCount>1&&(n+=", alias"+ ++r+"="+e,i.children[0]="alias"+r)});var o=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&o.push("blockParams"),this.useDepths&&o.push("depths");var a=this.mergeSource(n);return e?(o.push(a),Function.apply(this,o)):this.source.wrap(["function(",o.join(","),") {\n  ",a,"}"])},mergeSource:function(e){var t=this.environment.isSimple,n=!this.forceBuffer,i=void 0,r=void 0,o=void 0,s=void 0;return this.source.each(function(e){e.appendToBuffer?(o?e.prepend("  + "):o=e,s=e):(o&&(r?o.prepend("buffer += "):i=!0,s.add(";"),o=s=void 0),r=!0,t||(n=!1))}),n?o?(o.prepend("return "),s.add(";")):r||this.source.push('return "";'):(e+=", buffer = "+(i?"":this.initializeBuffer()),o?(o.prepend("return buffer + "),s.add(";")):this.source.push("return buffer;")),e&&this.source.prepend("var "+e.substring(2)+(i?"":";\n")),this.source.merge()},blockValue:function(e){var t=this.aliasable("container.hooks.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(e,0,n);var i=this.popStack();n.splice(1,0,i),this.push(this.source.functionCall(t,"call",n))},ambiguousBlockValue:function(){var e=this.aliasable("container.hooks.blockHelperMissing"),t=[this.contextName(0)];this.setupHelperArgs("",0,t,!0),this.flushInline();var n=this.topStack();t.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(e,"call",t),"}"])},appendContent:function(e){this.pendingContent?e=this.pendingContent+e:this.pendingLocation=this.source.currentLocation,this.pendingContent=e},append:function(){if(this.isInline())this.replaceStack(function(e){return[" != null ? ",e,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var e=this.popStack();this.pushSource(["if (",e," != null) { ",this.appendToBuffer(e,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(e){this.lastContext=e},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(e,t,n,i){var r=0;i||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(e[r++])),this.resolvePath("context",e,r,t,n)},lookupBlockParam:function(e,t){this.useBlockParams=!0,this.push(["blockParams[",e[0],"][",e[1],"]"]),this.resolvePath("context",t,1)},lookupData:function(e,t,n){e?this.pushStackLiteral("container.data(data, "+e+")"):this.pushStackLiteral("data"),this.resolvePath("data",t,0,!0,n)},resolvePath:function(e,t,n,i,r){var s=this;if(this.options.strict||this.options.assumeObjects)return void this.push(o(this.options.strict&&r,this,t,e));for(var a=t.length;n<a;n++)this.replaceStack(function(r){var o=s.nameLookup(r,t[n],e);return i?[" && ",o]:[" != null ? ",o," : ",r]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(e,t){this.pushContext(),this.pushString(t),"SubExpression"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(e){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(e?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(e.ids)),this.stringParams&&(this.push(this.objectLiteral(e.contexts)),this.push(this.objectLiteral(e.types))),this.push(this.objectLiteral(e.values))},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},registerDecorator:function(e,t){var n=this.nameLookup("decorators",t,"decorator"),i=this.setupHelperArgs(t,e);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",i])," || fn;"])},invokeHelper:function(e,t,n){var i=this.popStack(),r=this.setupHelper(e,t),o=[];n&&o.push(r.name),o.push(i),this.options.strict||o.push(this.aliasable("container.hooks.helperMissing"));var s=["(",this.itemsSeparatedBy(o,"||"),")"],a=this.source.functionCall(s,"call",r.callParams);this.push(a)},itemsSeparatedBy:function(e,t){var n=[];n.push(e[0]);for(var i=1;i<e.length;i++)n.push(t,e[i]);return n},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function(e,t){this.useRegister("helper");var n=this.popStack();this.emptyHash();var i=this.setupHelper(0,e,t),r=this.lastHelper=this.nameLookup("helpers",e,"helper"),o=["(","(helper = ",r," || ",n,")"];this.options.strict||(o[0]="(helper = ",o.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",o,i.paramsInit?["),(",i.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",i.callParams)," : helper))"])},invokePartial:function(e,t,n){var i=[],r=this.setupParams(t,1,i);e&&(t=this.popStack(),delete r.name),n&&(r.indent=JSON.stringify(n)),r.helpers="helpers",r.partials="partials",r.decorators="container.decorators",e?i.unshift(t):i.unshift(this.nameLookup("partials",t,"partial")),this.options.compat&&(r.depths="depths"),r=this.objectLiteral(r),i.push(r),this.push(this.source.functionCall("container.invokePartial","",i))},assignToHash:function(e){var t=this.popStack(),n=void 0,i=void 0,r=void 0;this.trackIds&&(r=this.popStack()),this.stringParams&&(i=this.popStack(),n=this.popStack());var o=this.hash;n&&(o.contexts[e]=n),i&&(o.types[e]=i),r&&(o.ids[e]=r),o.values[e]=t},pushId:function(e,t,n){"BlockParam"===e?this.pushStackLiteral("blockParams["+t[0]+"].path["+t[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===e?this.pushString(t):"SubExpression"===e?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:r,compileChildren:function(e,t){for(var n=e.children,i=void 0,r=void 0,o=0,s=n.length;o<s;o++){i=n[o],r=new this.compiler;var a=this.matchExistingProgram(i);if(null==a){this.context.programs.push("");var l=this.context.programs.length;i.index=l,i.name="program"+l,this.context.programs[l]=r.compile(i,t,this.context,!this.precompile),this.context.decorators[l]=r.decorators,this.context.environments[l]=i,this.useDepths=this.useDepths||r.useDepths,this.useBlockParams=this.useBlockParams||r.useBlockParams,i.useDepths=this.useDepths,i.useBlockParams=this.useBlockParams}else i.index=a.index,i.name="program"+a.index,this.useDepths=this.useDepths||a.useDepths,this.useBlockParams=this.useBlockParams||a.useBlockParams}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;t<n;t++){var i=this.context.environments[t];if(i&&i.equals(e))return i}},programExpression:function(e){var t=this.environment.children[e],n=[t.index,"data",t.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"container.program("+n.join(", ")+")"},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},push:function(e){return e instanceof i||(e=this.source.wrap(e)),this.inlineStack.push(e),e},pushStackLiteral:function(e){this.push(new i(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),e&&this.source.push(e)},replaceStack:function(e){var t=["("],n=void 0,r=void 0,o=void 0;if(!this.isInline())throw new c.default("replaceStack on non-inline");var s=this.popStack(!0);if(s instanceof i)n=[s.value],t=["(",n],o=!0;else{r=!0;var a=this.incrStack();t=["((",this.push(a)," = ",s,")"],n=this.topStack()}var l=e.call(this,n);o||this.popStack(),r&&this.stackSlot--,this.push(t.concat(l,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;this.inlineStack=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];if(r instanceof i)this.compileStack.push(r);else{var o=this.incrStack();this.pushSource([o," = ",r,";"]),this.compileStack.push(o)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();if(!e&&n instanceof i)return n.value;if(!t){if(!this.stackSlot)throw new c.default("Invalid stack pop");this.stackSlot--}return n},topStack:function(){var e=this.isInline()?this.inlineStack:this.compileStack,t=e[e.length-1];return t instanceof i?t.value:t},contextName:function(e){return this.useDepths&&e?"depths["+e+"]":"depth"+e},quotedString:function(e){return this.source.quotedString(e)},objectLiteral:function(e){return this.source.objectLiteral(e)},aliasable:function(e){var t=this.aliases[e];return t?(t.referenceCount++,t):(t=this.aliases[e]=this.source.wrap(e),t.aliasable=!0,t.referenceCount=1,t)},setupHelper:function(e,t,n){var i=[];return{params:i,paramsInit:this.setupHelperArgs(t,e,i,n),name:this.nameLookup("helpers",t,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(i)}},setupParams:function(e,t,n){var i={},r=[],o=[],s=[],a=!n,l=void 0;a&&(n=[]),i.name=this.quotedString(e),i.hash=this.popStack(),this.trackIds&&(i.hashIds=this.popStack()),this.stringParams&&(i.hashTypes=this.popStack(),i.hashContexts=this.popStack());var u=this.popStack(),c=this.popStack();(c||u)&&(i.fn=c||"container.noop",i.inverse=u||"container.noop");for(var d=t;d--;)l=this.popStack(),n[d]=l,this.trackIds&&(s[d]=this.popStack()),this.stringParams&&(o[d]=this.popStack(),r[d]=this.popStack());return a&&(i.args=this.source.generateArray(n)),this.trackIds&&(i.ids=this.source.generateArray(s)),this.stringParams&&(i.types=this.source.generateArray(o),i.contexts=this.source.generateArray(r)),this.options.data&&(i.data="data"),this.useBlockParams&&(i.blockParams="blockParams"),i},setupHelperArgs:function(e,t,n,i){var r=this.setupParams(e,t,n);return r.loc=JSON.stringify(this.source.currentLocation),r=this.objectLiteral(r),i?(this.useRegister("options"),n.push("options"),["options=",r]):n?(n.push(r),""):r}},function(){for(var e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),t=r.RESERVED_WORDS={},n=0,i=e.length;n<i;n++)t[e[n]]=!0}(),r.isValidJavaScriptVariableName=function(e){return!r.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)},t.default=r,e.exports=t.default},function(e,t,n){"use strict";function i(e,t,n){if(s.isArray(e)){for(var i=[],r=0,o=e.length;r<o;r++)i.push(t.wrap(e[r],n));return i}return"boolean"==typeof e||"number"==typeof e?e+"":e}function r(e){this.srcFile=e,this.source=[]}var o=n(13).default;t.__esModule=!0;var s=n(5),a=void 0;try{}catch(e){}a||(a=function(e,t,n,i){this.src="",i&&this.add(i)},a.prototype={add:function(e){s.isArray(e)&&(e=e.join("")),this.src+=e},prepend:function(e){s.isArray(e)&&(e=e.join("")),this.src=e+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),r.prototype={isEmpty:function(){return!this.source.length},prepend:function(e,t){this.source.unshift(this.wrap(e,t))},push:function(e,t){this.source.push(this.wrap(e,t))},merge:function(){var e=this.empty();return this.each(function(t){e.add(["  ",t,"\n"])}),e},each:function(e){for(var t=0,n=this.source.length;t<n;t++)e(this.source[t])},empty:function(){var e=this.currentLocation||{start:{}};return new a(e.start.line,e.start.column,this.srcFile)},wrap:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return e instanceof a?e:(e=i(e,this,t),new a(t.start.line,t.start.column,this.srcFile,e))},functionCall:function(e,t,n){return n=this.generateList(n),this.wrap([e,t?"."+t+"(":"(",n,")"])},quotedString:function(e){return'"'+(e+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(e){var t=this,n=[];o(e).forEach(function(r){var o=i(e[r],t);"undefined"!==o&&n.push([t.quotedString(r),":",o])});var r=this.generateList(n);return r.prepend("{"),r.add("}"),r},generateList:function(e){for(var t=this.empty(),n=0,r=e.length;n<r;n++)n&&t.add(","),t.add(i(e[n],this));return t},generateArray:function(e){var t=this.generateList(e);return t.prepend("["),t.add("]"),t}},t.default=r,e.exports=t.default}])}),function(){var e;!function(){var t=!1,n=/xyz/.test(function(){window.postMessage("xyz")})?/\b_super\b/:/.*/;e=function(){},e.extend=function(e){function i(){!t&&this.init&&this.init.apply(this,arguments)}var r=this.prototype;t=!0;var o=new this;t=!1;for(var s in e)o[s]="function"==typeof e[s]&&"function"==typeof r[s]&&n.test(e[s])?function(e,t){return function(){var n=this._super;this._super=r[e];var i=t.apply(this,arguments);return this._super=n,i}}(s,e[s]):e[s];return i.prototype=o,i.prototype.constructor=i,i.extend=arguments.callee,i}}(),function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}(),function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var n=(new Date).getTime(),i=Math.max(0,16-(n-e)),r=window.setTimeout(function(){t(n+i)},i);return e=n+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),function(){Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)})}();var t=function(e){if(e.constructor&&!e.hasOwnProperty("constructor")&&!e.constructor.prototype.hasOwnProperty("isPrototypeOf"))return!1;var t;for(t in e);return void 0===t||e.hasOwnProperty(t)},n=function(e){var i,r,o;for(r=1;r<arguments.length;r++){i=arguments[r];for(o in i)i[o]&&t(i[o])?(e[o]=e[o]||{},n(e[o],i[o])):e[o]=i[o]}return e},i=function(e,t){if(e){var n;if(void 0!==e.length){for(n=0;n<e.length;n++)if(!1===t(n,e[n]))return}else for(n in e)if(e.hasOwnProperty(n)&&!1===t(n,e[n]))return}},r=function(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)},o=function(e,t){t=n({},o.defaults.options,t||{}),this.element=e,this.options=t,this.init()};o.prototype={init:function(){var e=this;this.ready=!1;var t=o.defaults.themes[this.options.theme||o.defaults.theme];if(!t)throw"Unknown theme "+(this.options.theme||o.defaults.theme);this.schema=this.options.schema,this.theme=new t,this.template=this.options.template,this.refs=this.options.refs||{},this.uuid=0,this.__data={};var n=o.defaults.iconlibs[this.options.iconlib||o.defaults.iconlib];n&&(this.iconlib=new n),this.root_container=this.theme.getContainer(),this.element.appendChild(this.root_container),this.translate=this.options.translate||o.defaults.translate,this._loadExternalRefs(this.schema,function(){e._getDefinitions(e.schema),e.validator=new o.Validator(e);var t=e.getEditorClass(e.schema);e.root=e.createEditor(t,{jsoneditor:e,schema:e.schema,required:!0,container:e.root_container}),e.root.preBuild(),e.root.build(),e.root.postBuild(),e.options.startval&&e.root.setValue(e.options.startval),e.validation_results=e.validator.validate(e.root.getValue()),e.root.showValidationErrors(e.validation_results),e.ready=!0,window.requestAnimationFrame(function(){e.validation_results=e.validator.validate(e.root.getValue()),e.root.showValidationErrors(e.validation_results),e.trigger("ready"),e.trigger("change")})})},getValue:function(){if(!this.ready)throw"JSON Editor not ready yet.  Listen for 'ready' event before getting the value";return this.root.getValue()},setValue:function(e){if(!this.ready)throw"JSON Editor not ready yet.  Listen for 'ready' event before setting the value";return this.root.setValue(e),this},validate:function(e){if(!this.ready)throw"JSON Editor not ready yet.  Listen for 'ready' event before validating";return 1===arguments.length?this.validator.validate(e):this.validation_results},destroy:function(){this.destroyed||this.ready&&(this.schema=null,this.options=null,this.root.destroy(),this.root=null,this.root_container=null,this.validator=null,this.validation_results=null,this.theme=null,this.iconlib=null,this.template=null,this.__data=null,this.ready=!1,this.element.innerHTML="",this.destroyed=!0)},on:function(e,t){this.callbacks=this.callbacks||{},this.callbacks[e]=this.callbacks[e]||[],this.callbacks[e].push(t)},off:function(e,t){if(e&&t){this.callbacks=this.callbacks||{},this.callbacks[e]=this.callbacks[e]||[];for(var n=[],i=0;i<this.callbacks[e].length;i++)this.callbacks[e][i]!==t&&n.push(this.callbacks[e][i]);this.callbacks[e]=n}else e?(this.callbacks=this.callbacks||{},this.callbacks[e]=[]):this.callbacks={}},trigger:function(e){if(this.callbacks&&this.callbacks[e]&&this.callbacks[e].length)for(var t=0;t<this.callbacks[e].length;t++)this.callbacks[e][t]()},getEditorClass:function(e){var t;if(e=this.expandSchema(e),i(o.defaults.resolvers,function(n,i){var r=i(e);return r&&o.defaults.editors[r]?(t=r,!1):void 0}),!t)throw"Unknown editor for schema "+JSON.stringify(e);if(!o.defaults.editors[t])throw"Unknown editor "+t;return o.defaults.editors[t]},createEditor:function(e,t){return t=n({},e.options||{},t),new e(t)},onChange:function(){if(this.ready&&!this.firing_change){this.firing_change=!0;var e=this;window.requestAnimationFrame(function(){e.firing_change=!1,e.validation_results=e.validator.validate(e.root.getValue()),"never"!==e.options.show_errors&&e.root.showValidationErrors(e.validation_results),e.trigger("change")})}},compileTemplate:function(e,t){t=t||o.defaults.template;var n;if("string"==typeof t){if(!o.defaults.templates[t])throw"Unknown template engine "+t;if(!(n=o.defaults.templates[t]()))throw"Template engine "+t+" missing required library."}else n=t;if(!n)throw"No template engine set";if(!n.compile)throw"Invalid template engine set";return n.compile(e)},_data:function(e,t,n){if(3!==arguments.length)return e.hasAttribute("data-jsoneditor-"+t)?this.__data[e.getAttribute("data-jsoneditor-"+t)]:null;var i;e.hasAttribute("data-jsoneditor-"+t)?i=e.getAttribute("data-jsoneditor-"+t):(i=this.uuid++,e.setAttribute("data-jsoneditor-"+t,i)),this.__data[i]=n},registerEditor:function(e){return this.editors=this.editors||{},this.editors[e.path]=e,this},unregisterEditor:function(e){return this.editors=this.editors||{},this.editors[e.path]=null,this},getEditor:function(e){return this.editors?this.editors[e]:void 0},watch:function(e,t){return this.watchlist=this.watchlist||{},this.watchlist[e]=this.watchlist[e]||[],this.watchlist[e].push(t),this},unwatch:function(e,t){if(!this.watchlist||!this.watchlist[e])return this;if(!t)return this.watchlist[e]=null,this;for(var n=[],i=0;i<this.watchlist[e].length;i++)this.watchlist[e][i]!==t&&n.push(this.watchlist[e][i]);return this.watchlist[e]=n.length?n:null,this},notifyWatchers:function(e){if(!this.watchlist||!this.watchlist[e])return this;for(var t=0;t<this.watchlist[e].length;t++)this.watchlist[e][t]()},isEnabled:function(){return!this.root||this.root.isEnabled()},enable:function(){this.root.enable()},disable:function(){this.root.disable()},_getDefinitions:function(e,t){if(t=t||"#/definitions/",e.definitions)for(var n in e.definitions)e.definitions.hasOwnProperty(n)&&(this.refs[t+n]=e.definitions[n],e.definitions[n].definitions&&this._getDefinitions(e.definitions[n],t+n+"/definitions/"))},_getExternalRefs:function(e){var t={},n=function(e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=!0)};e.$ref&&"#"!==e.$ref.substr(0,1)&&!this.refs[e.$ref]&&(t[e.$ref]=!0);for(var i in e)if(e.hasOwnProperty(i))if(e[i]&&"object"==typeof e[i]&&Array.isArray(e[i]))for(var r=0;r<e[i].length;r++)"object"==typeof e[i][r]&&n(this._getExternalRefs(e[i][r]));else e[i]&&"object"==typeof e[i]&&n(this._getExternalRefs(e[i]));return t},_loadExternalRefs:function(e,t){var n=this,r=this._getExternalRefs(e),o=0,s=0,a=!1;i(r,function(e){if(!n.refs[e]){if(!n.options.ajax)throw"Must set ajax option to true to load external ref "+e;n.refs[e]="loading",s++;var i=new XMLHttpRequest;i.open("GET",e,!0),i.onreadystatechange=function(){if(4==i.readyState){if(200!==i.status)throw window.console.log(i),"Failed to fetch ref via ajax- "+e;var r;try{r=JSON.parse(i.responseText)}catch(t){throw window.console.log(t),"Failed to parse external ref "+e}if(!r||"object"!=typeof r)throw"External ref does not contain a valid schema - "+e;n.refs[e]=r,n._loadExternalRefs(r,function(){++o>=s&&!a&&(a=!0,t())})}},i.send()}}),s||t()},expandRefs:function(e){for(e=n({},e);e.$ref;){var t=e.$ref;delete e.$ref,e=this.extendSchemas(e,this.refs[t])}return e},expandSchema:function(e){var t,r=this,o=n({},e);if("object"==typeof e.type&&(Array.isArray(e.type)?i(e.type,function(t,n){"object"==typeof n&&(e.type[t]=r.expandSchema(n))}):e.type=r.expandSchema(e.type)),"object"==typeof e.disallow&&(Array.isArray(e.disallow)?i(e.disallow,function(t,n){"object"==typeof n&&(e.disallow[t]=r.expandSchema(n))}):e.disallow=r.expandSchema(e.disallow)),e.anyOf&&i(e.anyOf,function(t,n){e.anyOf[t]=r.expandSchema(n)}),e.dependencies&&i(e.dependencies,function(t,n){"object"!=typeof n||Array.isArray(n)||(e.dependencies[t]=r.expandSchema(n))}),e.not&&(e.not=this.expandSchema(e.not)),e.allOf){for(t=0;t<e.allOf.length;t++)o=this.extendSchemas(o,this.expandSchema(e.allOf[t]));delete o.allOf}if(e.extends){if(Array.isArray(e.extends))for(t=0;t<e.extends.length;t++)o=this.extendSchemas(o,this.expandSchema(e.extends[t]));else o=this.extendSchemas(o,this.expandSchema(e.extends));delete o.extends}if(e.oneOf){var s=n({},o);for(delete s.oneOf,t=0;t<e.oneOf.length;t++)o.oneOf[t]=this.extendSchemas(this.expandSchema(e.oneOf[t]),s)}return this.expandRefs(o)},extendSchemas:function(e,t){e=n({},e),t=n({},t);var r=this,o={};return i(e,function(e,n){void 0!==t[e]?"required"===e&&"object"==typeof n&&Array.isArray(n)?o.required=n.concat(t[e]).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]):"type"===e?("object"!=typeof n&&(n=[n]),"object"!=typeof t.type&&(t.type=[t.type]),o.type=n.filter(function(e){return-1!==t.type.indexOf(e)}),1===o.type.length&&"string"==typeof o.type[0]&&(o.type=o.type[0])):o[e]="object"==typeof n&&Array.isArray(n)?n.filter(function(n){return-1!==t[e].indexOf(n)}):"object"==typeof n&&null!==n?r.extendSchemas(n,t[e]):n:o[e]=n}),i(t,function(t,n){void 0===e[t]&&(o[t]=n)}),o}},o.defaults={themes:{},templates:{},iconlibs:{},editors:{},languages:{},resolvers:[],custom_validators:[]},o.Validator=e.extend({init:function(e,t){this.jsoneditor=e,this.schema=t||this.jsoneditor.schema,this.options={},this.translate=this.jsoneditor.translate||o.defaults.translate},validate:function(e){return this._validateSchema(this.schema,e)},_validateSchema:function(e,t,r){var s,a,l,u=[],c=JSON.stringify(t);if(r=r||"root",e=n({},this.jsoneditor.expandRefs(e)),e.required&&!0===e.required){if(void 0===t)return u.push({path:r,property:"required",message:this.translate("error_notset")}),u}else if(void 0===t){if(!this.jsoneditor.options.required_by_default)return u;u.push({path:r,property:"required",message:this.translate("error_notset")})}if(e.enum){for(s=!1,a=0;a<e.enum.length;a++)c===JSON.stringify(e.enum[a])&&(s=!0);s||u.push({path:r,property:"enum",message:this.translate("error_enum")})}if(e.extends)for(a=0;a<e.extends.length;a++)u=u.concat(this._validateSchema(e.extends[a],t,r));if(e.allOf)for(a=0;a<e.allOf.length;a++)u=u.concat(this._validateSchema(e.allOf[a],t,r));if(e.anyOf){for(s=!1,a=0;a<e.anyOf.length;a++)if(!this._validateSchema(e.anyOf[a],t,r).length){s=!0;break}s||u.push({path:r,property:"anyOf",message:this.translate("error_anyOf")})}if(e.oneOf){s=0;var d=[];for(a=0;a<e.oneOf.length;a++){var h=this._validateSchema(e.oneOf[a],t,r);for(h.length||s++,l=0;l<h.length;l++)h[l].path=r+".oneOf["+a+"]"+h[l].path.substr(r.length);d=d.concat(h)}1!==s&&(u.push({path:r,property:"oneOf",message:this.translate("error_oneOf",[s])}),u=u.concat(d))}
if(e.not&&(this._validateSchema(e.not,t,r).length||u.push({path:r,property:"not",message:this.translate("error_not")})),e.type)if(Array.isArray(e.type)){for(s=!1,a=0;a<e.type.length;a++)if(this._checkType(e.type[a],t)){s=!0;break}s||u.push({path:r,property:"type",message:this.translate("error_type_union")})}else this._checkType(e.type,t)||u.push({path:r,property:"type",message:this.translate("error_type",[e.type])});if(e.disallow)if(Array.isArray(e.disallow)){for(s=!0,a=0;a<e.disallow.length;a++)if(this._checkType(e.disallow[a],t)){s=!1;break}s||u.push({path:r,property:"disallow",message:this.translate("error_disallow_union")})}else this._checkType(e.disallow,t)&&u.push({path:r,property:"disallow",message:this.translate("error_disallow",[e.disallow])});if("number"==typeof t)(e.multipleOf||e.divisibleBy)&&(s=t/(e.multipleOf||e.divisibleBy))!==Math.floor(s)&&u.push({path:r,property:e.multipleOf?"multipleOf":"divisibleBy",message:this.translate("error_multipleOf",[e.multipleOf||e.divisibleBy])}),e.maximum&&(e.exclusiveMaximum&&t>=e.maximum?u.push({path:r,property:"maximum",message:this.translate("error_maximum_excl",[e.maximum])}):!e.exclusiveMaximum&&t>e.maximum&&u.push({path:r,property:"maximum",message:this.translate("error_maximum_incl",[e.maximum])})),e.minimum&&(e.exclusiveMinimum&&t<=e.minimum?u.push({path:r,property:"minimum",message:this.translate("error_minimum_excl",[e.minimum])}):!e.exclusiveMinimum&&t<e.minimum&&u.push({path:r,property:"minimum",message:this.translate("error_minimum_incl",[e.minimum])}));else if("string"==typeof t)e.maxLength&&(t+"").length>e.maxLength&&u.push({path:r,property:"maxLength",message:this.translate("error_maxLength",[e.maxLength])}),e.minLength&&(t+"").length<e.minLength&&u.push({path:r,property:"minLength",message:this.translate(1===e.minLength?"error_notempty":"error_minLength",[e.minLength])}),e.pattern&&(new RegExp(e.pattern).test(t)||u.push({path:r,property:"pattern",message:this.translate("error_pattern")}));else if("object"==typeof t&&null!==t&&Array.isArray(t)){if(e.items)if(Array.isArray(e.items))for(a=0;a<t.length;a++)if(e.items[a])u=u.concat(this._validateSchema(e.items[a],t[a],r+"."+a));else{if(!0===e.additionalItems)break;if(!e.additionalItems){if(!1===e.additionalItems){u.push({path:r,property:"additionalItems",message:this.translate("error_additionalItems")});break}break}u=u.concat(this._validateSchema(e.additionalItems,t[a],r+"."+a))}else for(a=0;a<t.length;a++)u=u.concat(this._validateSchema(e.items,t[a],r+"."+a));if(e.maxItems&&t.length>e.maxItems&&u.push({path:r,property:"maxItems",message:this.translate("error_maxItems",[e.maxItems])}),e.minItems&&t.length<e.minItems&&u.push({path:r,property:"minItems",message:this.translate("error_minItems",[e.minItems])}),e.uniqueItems){var p={};for(a=0;a<t.length;a++){if(s=JSON.stringify(t[a]),p[s]){u.push({path:r,property:"uniqueItems",message:this.translate("error_uniqueItems")});break}p[s]=!0}}}else if("object"==typeof t&&null!==t){if(e.maxProperties){s=0;for(a in t)t.hasOwnProperty(a)&&s++;s>e.maxProperties&&u.push({path:r,property:"maxProperties",message:this.translate("error_maxProperties",[e.maxProperties])})}if(e.minProperties){s=0;for(a in t)t.hasOwnProperty(a)&&s++;s<e.minProperties&&u.push({path:r,property:"minProperties",message:this.translate("error_minProperties",[e.minProperties])})}if(e.required&&Array.isArray(e.required))for(a=0;a<e.required.length;a++)void 0===t[e.required[a]]&&u.push({path:r,property:"required",message:this.translate("error_required",[e.required[a]])});var f={};if(e.properties)for(a in e.properties)e.properties.hasOwnProperty(a)&&(f[a]=!0,u=u.concat(this._validateSchema(e.properties[a],t[a],r+"."+a)));if(e.patternProperties)for(a in e.patternProperties)if(e.patternProperties.hasOwnProperty(a)){var m=new RegExp(a);for(l in t)t.hasOwnProperty(l)&&m.test(l)&&(f[l]=!0,u=u.concat(this._validateSchema(e.patternProperties[a],t[l],r+"."+l)))}if(void 0!==e.additionalProperties||!this.jsoneditor.options.no_additional_properties||e.oneOf||e.anyOf||(e.additionalProperties=!1),void 0!==e.additionalProperties)for(a in t)if(t.hasOwnProperty(a)&&!f[a]){if(!e.additionalProperties){u.push({path:r,property:"additionalProperties",message:this.translate("error_additional_properties",[a])});break}if(!0===e.additionalProperties)break;u=u.concat(this._validateSchema(e.additionalProperties,t[a],r+"."+a))}if(e.dependencies)for(a in e.dependencies)if(e.dependencies.hasOwnProperty(a)&&void 0!==t[a])if(Array.isArray(e.dependencies[a]))for(l=0;l<e.dependencies[a].length;l++)void 0===t[e.dependencies[a][l]]&&u.push({path:r,property:"dependencies",message:this.translate("error_dependency",[e.dependencies[a][l]])});else u=u.concat(this._validateSchema(e.dependencies[a],t,r))}return i(o.defaults.custom_validators,function(n,i){u=u.concat(i(e,t,r))}),u},_checkType:function(e,t){return"string"==typeof e?"string"===e?"string"==typeof t:"number"===e?"number"==typeof t:"integer"===e?"number"==typeof t&&t===Math.floor(t):"boolean"===e?"boolean"==typeof t:"array"===e?Array.isArray(t):"object"===e?null!==t&&!Array.isArray(t)&&"object"==typeof t:"null"!==e||null===t:!this._validateSchema(e,t).length}}),o.AbstractEditor=e.extend({onChildEditorChange:function(){this.watch_listener&&(this.watch_listener(),this.notify(),this.change())},notify:function(){this.jsoneditor.notifyWatchers(this.path)},change:function(){this.parent?this.parent.onChildEditorChange(this):this.jsoneditor.onChange()},register:function(){this.jsoneditor.registerEditor(this)},unregister:function(){this.jsoneditor&&this.jsoneditor.unregisterEditor(this)},getNumColumns:function(){return 12},init:function(e){this.jsoneditor=e.jsoneditor,this.theme=this.jsoneditor.theme,this.template_engine=this.jsoneditor.template,this.iconlib=this.jsoneditor.iconlib,this.original_schema=e.schema,this.schema=this.jsoneditor.expandSchema(this.original_schema),this.options=n({},this.options||{},e.schema.options||{},e),e.path||this.schema.id||(this.schema.id="root"),this.path=e.path||"root",this.formname=e.formname||this.path.replace(/\.([^.]+)/g,"[$1]"),this.jsoneditor.options.form_name_root&&(this.formname=this.formname.replace(/^root\[/,this.jsoneditor.options.form_name_root+"[")),this.key=this.path.split(".").pop(),this.parent=e.parent,this.link_watchers=[],e.container&&this.setContainer(e.container)},setContainer:function(e){this.container=e,this.schema.id&&this.container.setAttribute("data-schemaid",this.schema.id),this.schema.type&&"string"==typeof this.schema.type&&this.container.setAttribute("data-schematype",this.schema.type),this.container.setAttribute("data-schemapath",this.path)},preBuild:function(){},build:function(){},postBuild:function(){this.register(),this.setupWatchListeners(),this.addLinks(),this.setValue(this.getDefault(),!0),this.updateHeaderText(),this.jsoneditor.notifyWatchers(this.path),this.watch_listener()},setupWatchListeners:function(){var e=this;if(this.watched={},this.schema.vars&&(this.schema.watch=this.schema.vars),this.watched_values={},this.watch_listener=function(){e.refreshWatchedFieldValues()&&e.onWatchedFieldChange()},this.register(),this.schema.watch){var t,n,i,r,o;for(var s in this.schema.watch)if(this.schema.watch.hasOwnProperty(s)){if(t=this.schema.watch[s],Array.isArray(t)?n=[t[0]].concat(t[1].split(".")):(n=t.split("."),e.theme.closest(e.container,'[data-schemaid="'+n[0]+'"]')||n.unshift("#")),i=n.shift(),"#"===i&&(i=e.jsoneditor.schema.id||"root"),!(r=e.theme.closest(e.container,'[data-schemaid="'+i+'"]')))throw"Could not find ancestor node with id "+i;o=r.getAttribute("data-schemapath")+"."+n.join("."),e.jsoneditor.watch(o,e.watch_listener),e.watched[s]=o}}this.schema.headerTemplate&&(this.header_template=this.jsoneditor.compileTemplate(this.schema.headerTemplate,this.template_engine))},addLinks:function(){if(!this.no_link_holder&&(this.link_holder=this.theme.getLinksHolder(),this.container.appendChild(this.link_holder),this.schema.links))for(var e=0;e<this.schema.links.length;e++)this.addLink(this.getLink(this.schema.links[e]))},getButton:function(e,t,n){var i="json-editor-btn-"+t;!(t=this.iconlib?this.iconlib.getIcon(t):null)&&n&&(e=n,n=null);var r=this.theme.getButton(e,t,n);return r.className+=" "+i+" ",r},setButtonText:function(e,t,n,i){return n=this.iconlib?this.iconlib.getIcon(n):null,!n&&i&&(t=i,i=null),this.theme.setButtonText(e,t,n,i)},addLink:function(e){this.link_holder&&this.link_holder.appendChild(e)},getLink:function(e){var t,n,i=e.mediaType||"application/javascript",r=i.split("/")[0],o=this.jsoneditor.compileTemplate(e.href,this.template_engine);if("image"===r){t=this.theme.getBlockLinkHolder(),n=document.createElement("a"),n.setAttribute("target","_blank");var s=document.createElement("img");this.theme.createImageLink(t,n,s),this.link_watchers.push(function(t){var i=o(t);n.setAttribute("href",i),n.setAttribute("title",e.rel||i),s.setAttribute("src",i)})}else if(["audio","video"].indexOf(r)>=0){t=this.theme.getBlockLinkHolder(),n=this.theme.getBlockLink(),n.setAttribute("target","_blank");var a=document.createElement(r);a.setAttribute("controls","controls"),this.theme.createMediaLink(t,n,a),this.link_watchers.push(function(t){var i=o(t);n.setAttribute("href",i),n.textContent=e.rel||i,a.setAttribute("src",i)})}else t=this.theme.getBlockLink(),t.setAttribute("target","_blank"),t.textContent=e.rel,this.link_watchers.push(function(n){var i=o(n);t.setAttribute("href",i),t.textContent=e.rel||i});return t},refreshWatchedFieldValues:function(){if(this.watched_values){var e={},t=!1,n=this;if(this.watched){var i,r;for(var o in this.watched)this.watched.hasOwnProperty(o)&&(r=n.jsoneditor.getEditor(this.watched[o]),i=r?r.getValue():null,n.watched_values[o]!==i&&(t=!0),e[o]=i)}return e.self=this.getValue(),this.watched_values.self!==e.self&&(t=!0),this.watched_values=e,t}},getWatchedFieldValues:function(){return this.watched_values},updateHeaderText:function(){this.header&&(this.header.textContent=this.getHeaderText())},getHeaderText:function(e){return this.header_text?this.header_text:e?this.schema.title:this.getTitle()},onWatchedFieldChange:function(){var e;if(this.header_template){e=n(this.getWatchedFieldValues(),{key:this.key,i:this.key,i0:1*this.key,i1:1*this.key+1,title:this.getTitle()});var t=this.header_template(e);t!==this.header_text&&(this.header_text=t,this.updateHeaderText(),this.notify())}if(this.link_watchers.length){e=this.getWatchedFieldValues();for(var i=0;i<this.link_watchers.length;i++)this.link_watchers[i](e)}},setValue:function(e){this.value=e},getValue:function(){return this.value},refreshValue:function(){},getChildEditors:function(){return!1},destroy:function(){var e=this;this.unregister(this),i(this.watched,function(t,n){e.jsoneditor.unwatch(n,e.watch_listener)}),this.watched=null,this.watched_values=null,this.watch_listener=null,this.header_text=null,this.header_template=null,this.value=null,this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container),this.container=null,this.jsoneditor=null,this.schema=null,this.path=null,this.key=null,this.parent=null},getDefault:function(){if(this.schema.default)return this.schema.default;if(this.schema.enum)return this.schema.enum[0];var e=this.schema.type||this.schema.oneOf;if(e&&Array.isArray(e)&&(e=e[0]),e&&"object"==typeof e&&(e=e.type),e&&Array.isArray(e)&&(e=e[0]),"string"==typeof e){if("number"===e)return 0;if("boolean"===e)return!1;if("integer"===e)return 0;if("string"===e)return"";if("object"===e)return{};if("array"===e)return[]}return null},getTitle:function(){return this.schema.title||this.key},enable:function(){this.disabled=!1},disable:function(){this.disabled=!0},isEnabled:function(){return!this.disabled},getDisplayText:function(e){var t=[],n={};i(e,function(e,t){t.title&&(n[t.title]=n[t.title]||0,n[t.title]++),t.description&&(n[t.description]=n[t.description]||0,n[t.description]++),t.format&&(n[t.format]=n[t.format]||0,n[t.format]++),t.type&&(n[t.type]=n[t.type]||0,n[t.type]++)}),i(e,function(e,i){var r;r="string"==typeof i?i:i.title&&n[i.title]<=1?i.title:i.format&&n[i.format]<=1?i.format:i.type&&n[i.type]<=1?i.type:i.description&&n[i.description]<=1?i.descripton:i.title?i.title:i.format?i.format:i.type?i.type:i.description?i.description:JSON.stringify(i).length<50?JSON.stringify(i):"type",t.push(r)});var r={};return i(t,function(e,i){r[i]=r[i]||0,r[i]++,n[i]>1&&(t[e]=i+" "+r[i])}),t},getOption:function(e){try{throw"getOption is deprecated"}catch(e){window.console.error(e)}return this.options[e]},showValidationErrors:function(){}}),o.defaults.editors.null=o.AbstractEditor.extend({getValue:function(){return null},setValue:function(){this.jsoneditor.notifyWatchers(this.path)},getNumColumns:function(){return 2}}),o.defaults.editors.string=o.AbstractEditor.extend({register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},setValue:function(e,t,n){var i=this;if((!this.template||n)&&(null===e?e="":"object"==typeof e?e=JSON.stringify(e):"string"!=typeof e&&(e=""+e),e!==this.serialized)){var r=this.sanitize(e);if(this.input.value!==r){this.input.value=r,this.sceditor_instance?this.sceditor_instance.val(r):this.epiceditor?this.epiceditor.importFile(null,r):this.ace_editor&&this.ace_editor.setValue(r);var o=n||this.getValue()!==e;this.refreshValue(),t?this.is_dirty=!1:"change"===this.jsoneditor.options.show_errors&&(this.is_dirty=!0),o&&(i.parent?i.parent.onChildEditorChange(i):i.jsoneditor.onChange()),this.watch_listener(),this.jsoneditor.notifyWatchers(this.path)}}},getNumColumns:function(){var e,t=Math.ceil(Math.max(this.getTitle().length,this.schema.maxLength||0,this.schema.minLength||0)/5);return e="textarea"===this.input_type?6:["text","email"].indexOf(this.input_type)>=0?4:2,Math.min(12,Math.max(t,e))},build:function(){var e=this;if(this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.format=this.schema.format,!this.format&&this.schema.media&&this.schema.media.type&&(this.format=this.schema.media.type.replace(/(^(application|text)\/(x-)?(script\.)?)|(-source$)/g,"")),!this.format&&this.options.default_format&&(this.format=this.options.default_format),this.options.format&&(this.format=this.options.format),this.format)if("textarea"===this.format)this.input_type="textarea",this.input=this.theme.getTextareaInput();else if("range"===this.format){this.input_type="range";var t=this.schema.minimum||0,n=this.schema.maximum||Math.max(100,t+1),i=1;this.schema.multipleOf&&(t%this.schema.multipleOf&&(t=Math.ceil(t/this.schema.multipleOf)*this.schema.multipleOf),n%this.schema.multipleOf&&(n=Math.floor(n/this.schema.multipleOf)*this.schema.multipleOf),i=this.schema.multipleOf),this.input=this.theme.getRangeInput(t,n,i)}else["actionscript","batchfile","bbcode","c","c++","cpp","coffee","csharp","css","dart","django","ejs","erlang","golang","handlebars","haskell","haxe","html","ini","jade","java","javascript","json","less","lisp","lua","makefile","markdown","matlab","mysql","objectivec","pascal","perl","pgsql","php","python","r","ruby","sass","scala","scss","smarty","sql","stylus","svg","twig","vbscript","xml","yaml"].indexOf(this.format)>=0?(this.input_type=this.format,this.source_code=!0,this.input=this.theme.getTextareaInput()):(this.input_type=this.format,this.input=this.theme.getFormInputField(this.input_type));else this.input_type="text",this.input=this.theme.getFormInputField(this.input_type);void 0!==this.schema.maxLength&&this.input.setAttribute("maxlength",this.schema.maxLength),void 0!==this.schema.pattern?this.input.setAttribute("pattern",this.schema.pattern):void 0!==this.schema.minLength&&this.input.setAttribute("pattern",".{"+this.schema.minLength+",}"),this.options.compact&&this.container.setAttribute("class",this.container.getAttribute("class")+" compact"),(this.schema.readOnly||this.schema.readonly||this.schema.template)&&(this.always_disabled=!0,this.input.disabled=!0),this.input.addEventListener("change",function(t){if(t.preventDefault(),t.stopPropagation(),e.schema.template)return void(this.value=e.value);var n=this.value,i=e.sanitize(n);n!==i&&(this.value=i),e.is_dirty=!0,e.refreshValue(),e.watch_listener(),e.jsoneditor.notifyWatchers(e.path),e.parent?e.parent.onChildEditorChange(e):e.jsoneditor.onChange()}),this.format&&this.input.setAttribute("data-schemaformat",this.format),this.control=this.theme.getFormControl(this.label,this.input,this.description),this.container.appendChild(this.control),window.requestAnimationFrame(function(){e.input.parentNode&&e.afterInputReady()}),this.schema.template?(this.template=this.jsoneditor.compileTemplate(this.schema.template,this.template_engine),this.refreshValue()):this.refreshValue()},enable:function(){this.always_disabled||(this.input.disabled=!1),this._super()},disable:function(){this.input.disabled=!0,this._super()},afterInputReady:function(){var e,t=this;if(this.source_code)if(this.options.wysiwyg&&["html","bbcode"].indexOf(this.input_type)>=0&&window.jQuery&&window.jQuery.fn&&window.jQuery.fn.sceditor)e=n({},{plugins:"html"===t.input_type?"xhtml":"bbcode",emoticonsEnabled:!1,width:"100%",height:300},o.plugins.sceditor,t.options.sceditor_options||{}),window.jQuery(t.input).sceditor(e),t.sceditor_instance=window.jQuery(t.input).sceditor("instance"),t.sceditor_instance.blur(function(){var e=window.jQuery("<div>"+t.sceditor_instance.val()+"</div>");window.jQuery("#sceditor-start-marker,#sceditor-end-marker,.sceditor-nlf",e).remove(),t.input.value=e.html(),t.value=t.input.value,t.is_dirty=!0,t.parent?t.parent.onChildEditorChange(t):t.jsoneditor.onChange(),t.jsoneditor.notifyWatchers(t.path)});else if("markdown"===this.input_type&&window.EpicEditor)this.epiceditor_container=document.createElement("div"),this.input.parentNode.insertBefore(this.epiceditor_container,this.input),this.input.style.display="none",e=n({},o.plugins.epiceditor,{container:this.epiceditor_container,clientSideStorage:!1}),this.epiceditor=new window.EpicEditor(e).load(),this.epiceditor.importFile(null,this.getValue()),this.epiceditor.on("update",function(){var e=t.epiceditor.exportFile();t.input.value=e,t.value=e,t.is_dirty=!0,t.parent?t.parent.onChildEditorChange(t):t.jsoneditor.onChange(),t.jsoneditor.notifyWatchers(t.path)});else if(window.ace){var i=this.input_type;("cpp"===i||"c++"===i||"c"===i)&&(i="c_cpp"),this.ace_container=document.createElement("div"),this.ace_container.style.width="100%",this.ace_container.style.position="relative",this.ace_container.style.height="400px",this.input.parentNode.insertBefore(this.ace_container,this.input),this.input.style.display="none",this.ace_editor=window.ace.edit(this.ace_container),this.ace_editor.setValue(this.getValue()),o.plugins.ace.theme&&this.ace_editor.setTheme("ace/theme/"+o.plugins.ace.theme),i=window.ace.require("ace/mode/"+i),i&&this.ace_editor.getSession().setMode(new i.Mode),this.ace_editor.on("change",function(){var e=t.ace_editor.getValue();t.input.value=e,t.refreshValue(),t.is_dirty=!0,t.parent?t.parent.onChildEditorChange(t):t.jsoneditor.onChange(),t.jsoneditor.notifyWatchers(t.path)})}t.theme.afterInputReady(t.input)},refreshValue:function(){this.value=this.input.value,"string"!=typeof this.value&&(this.value=""),this.serialized=this.value},destroy:function(){this.sceditor_instance?this.sceditor_instance.destroy():this.epiceditor?this.epiceditor.unload():this.ace_editor&&this.ace_editor.destroy(),this.template=null,this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this._super()},sanitize:function(e){return e},onWatchedFieldChange:function(){var e;this.template&&(e=this.getWatchedFieldValues(),this.setValue(this.template(e),!1,!0)),this._super()},showValidationErrors:function(e){var t=this;if("always"===this.jsoneditor.options.show_errors);else if(!this.is_dirty)return;var n=[];i(e,function(e,i){i.path===t.path&&n.push(i.message)}),n.length?this.theme.addInputError(this.input,n.join(". ")+"."):this.theme.removeInputError(this.input)}}),o.defaults.editors.number=o.defaults.editors.string.extend({sanitize:function(e){return(e+"").replace(/[^0-9\.\-eE]/g,"")},getNumColumns:function(){return 2},getValue:function(){return 1*this.value}}),o.defaults.editors.integer=o.defaults.editors.number.extend({sanitize:function(e){return e+="",e.replace(/[^0-9\-]/g,"")},getNumColumns:function(){return 2}}),o.defaults.editors.object=o.AbstractEditor.extend({getDefault:function(){return n({},this.schema.default||{})},getChildEditors:function(){return this.editors},register:function(){if(this._super(),this.editors)for(var e in this.editors)this.editors.hasOwnProperty(e)&&this.editors[e].register()},unregister:function(){if(this._super(),this.editors)for(var e in this.editors)this.editors.hasOwnProperty(e)&&this.editors[e].unregister()},getNumColumns:function(){return Math.max(Math.min(12,this.maxwidth),3)},enable:function(){if(this.editjson_button&&(this.editjson_button.disabled=!1),this.addproperty_button&&(this.addproperty_button.disabled=!1),this._super(),this.editors)for(var e in this.editors)this.editors.hasOwnProperty(e)&&this.editors[e].enable()},disable:function(){if(this.editjson_button&&(this.editjson_button.disabled=!0),this.addproperty_button&&(this.addproperty_button.disabled=!0),this.hideEditJSON(),this._super(),this.editors)for(var e in this.editors)this.editors.hasOwnProperty(e)&&this.editors[e].disable()},layoutEditors:function(){var e,t,n=this;if(this.row_container){this.property_order=Object.keys(this.editors),this.property_order=this.property_order.sort(function(e,t){var i=n.editors[e].schema.propertyOrder,r=n.editors[t].schema.propertyOrder;return"number"!=typeof i&&(i=1e3),"number"!=typeof r&&(r=1e3),i-r});var r;if("grid"===this.format){var o=[];for(i(this.property_order,function(e,t){var i=n.editors[t];if(!i.property_removed){for(var r=!1,s=i.options.hidden?0:i.getNumColumns(),a=i.options.hidden?0:i.container.offsetHeight,l=0;l<o.length;l++)o[l].width+s<=12&&(!a||.5*o[l].minh<a&&2*o[l].maxh>a)&&(r=l);!1===r&&(o.push({width:0,minh:999999,maxh:0,editors:[]}),r=o.length-1),o[r].editors.push({key:t,width:s,height:a}),o[r].width+=s,o[r].minh=Math.min(o[r].minh,a),o[r].maxh=Math.max(o[r].maxh,a)}}),e=0;e<o.length;e++)if(o[e].width<12){var s=!1,a=0;for(t=0;t<o[e].editors.length;t++)!1===s?s=t:o[e].editors[t].width>o[e].editors[s].width&&(s=t),o[e].editors[t].width*=12/o[e].width,o[e].editors[t].width=Math.floor(o[e].editors[t].width),a+=o[e].editors[t].width;12>a&&(o[e].editors[s].width+=12-a),o[e].width=12}if(this.layout===JSON.stringify(o))return!1;for(this.layout=JSON.stringify(o),r=document.createElement("div"),e=0;e<o.length;e++){var l=this.theme.getGridRow();for(r.appendChild(l),t=0;t<o[e].editors.length;t++){var u=o[e].editors[t].key,c=this.editors[u];c.options.hidden?c.container.style.display="none":this.theme.setGridColumnSize(c.container,o[e].editors[t].width),c.container.className+=" container-"+u,l.appendChild(c.container)}}}else r=document.createElement("div"),i(this.property_order,function(e,t){var i=n.editors[t];if(!i.property_removed){var o=n.theme.getGridRow();r.appendChild(o),i.options.hidden?i.container.style.display="none":n.theme.setGridColumnSize(i.container,12),i.container.className+=" container-"+t,o.appendChild(i.container)}});this.row_container.innerHTML="",this.row_container.appendChild(r)}},getPropertySchema:function(e){var t=this.schema.properties[e]||{};if(t=n({},t),this.schema.patternProperties)for(var i in this.schema.patternProperties)if(this.schema.patternProperties.hasOwnProperty(i)){var r=new RegExp(i);r.test(e)&&(t.allOf=t.allOf||[],t.allOf.push(this.schema.patternProperties[i]))}return t},preBuild:function(){this._super(),this.editors={},this.cached_editors={};var e=this;if(this.format=this.options.layout||this.options.object_layout||this.schema.format||this.jsoneditor.options.object_layout||"normal",this.schema.properties=this.schema.properties||{},this.minwidth=0,this.maxwidth=0,this.options.table_row)i(this.schema.properties,function(t,n){var i=e.jsoneditor.getEditorClass(n);e.editors[t]=e.jsoneditor.createEditor(i,{jsoneditor:e.jsoneditor,schema:n,path:e.path+"."+t,parent:e,compact:!0,required:!0}),e.editors[t].preBuild();var r=e.editors[t].options.hidden?0:e.editors[t].getNumColumns();e.minwidth+=r,e.maxwidth+=r}),this.no_link_holder=!0;else{if(this.options.table)throw"Not supported yet";this.defaultProperties=this.schema.defaultProperties||Object.keys(this.schema.properties),e.maxwidth+=1,i(this.defaultProperties,function(t,n){e.addObjectProperty(n,!0,!0),e.editors[n]&&(e.minwidth=Math.max(e.minwidth,e.editors[n].getNumColumns()),e.maxwidth+=e.editors[n].getNumColumns())})}this.property_order=Object.keys(this.editors),this.property_order=this.property_order.sort(function(t,n){var i=e.editors[t].schema.propertyOrder,r=e.editors[n].schema.propertyOrder;return"number"!=typeof i&&(i=1e3),"number"!=typeof r&&(r=1e3),i-r})},build:function(){var e=this;if(this.options.table_row)this.editor_holder=this.container,i(this.editors,function(t,n){var i=e.theme.getTableCell();e.editor_holder.appendChild(i),n.setContainer(i),n.build(),n.postBuild(),e.editors[t].options.hidden&&(i.style.display="none")});else{if(this.options.table)throw"Not supported yet";this.header=document.createElement("span"),this.header.textContent=this.getTitle(),this.title=this.theme.getHeader(this.header),this.container.appendChild(this.title),this.container.style.position="relative",this.editjson_holder=this.theme.getModal(),this.editjson_textarea=this.theme.getTextareaInput(),this.editjson_textarea.style.height="170px",this.editjson_textarea.style.width="300px",this.editjson_textarea.style.display="block",this.editjson_save=this.getButton("Save","save","Save"),this.editjson_save.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.saveJSON()}),this.editjson_cancel=this.getButton("Cancel","cancel","Cancel"),this.editjson_cancel.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.hideEditJSON()}),this.editjson_holder.appendChild(this.editjson_textarea),this.editjson_holder.appendChild(this.editjson_save),this.editjson_holder.appendChild(this.editjson_cancel),this.addproperty_holder=this.theme.getModal(),this.addproperty_list=document.createElement("div"),this.addproperty_list.style.width="295px",this.addproperty_list.style.maxHeight="160px",this.addproperty_list.style.padding="5px 0",this.addproperty_list.style.overflowY="auto",this.addproperty_list.style.overflowX="hidden",this.addproperty_list.style.paddingLeft="5px",this.addproperty_add=this.getButton("add","add","add"),this.addproperty_input=this.theme.getFormInputField("text"),this.addproperty_input.setAttribute("placeholder","Property name..."),this.addproperty_input.style.width="220px",this.addproperty_input.style.marginBottom="0",this.addproperty_input.style.display="inline-block",this.addproperty_add.addEventListener("click",function(t){if(t.preventDefault(),t.stopPropagation(),e.addproperty_input.value){if(e.editors[e.addproperty_input.value])return void window.alert("there is already a property with that name");e.addObjectProperty(e.addproperty_input.value),e.editors[e.addproperty_input.value]&&e.editors[e.addproperty_input.value].disable()}}),this.addproperty_holder.appendChild(this.addproperty_list),this.addproperty_holder.appendChild(this.addproperty_input),this.addproperty_holder.appendChild(this.addproperty_add);var t=document.createElement("div");t.style.clear="both",this.addproperty_holder.appendChild(t),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description),this.container.appendChild(this.description)),this.error_holder=document.createElement("div"),this.container.appendChild(this.error_holder),this.editor_holder=this.theme.getIndentedPanel(),this.editor_holder.style.paddingBottom="0",this.container.appendChild(this.editor_holder),this.row_container=this.theme.getGridContainer(),this.editor_holder.appendChild(this.row_container),i(this.editors,function(t,n){var i=e.theme.getGridColumn();e.row_container.appendChild(i),n.setContainer(i),n.build(),n.postBuild()}),this.title_controls=this.theme.getHeaderButtonHolder(),this.editjson_controls=this.theme.getHeaderButtonHolder(),this.addproperty_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.title.appendChild(this.editjson_controls),this.title.appendChild(this.addproperty_controls),this.collapsed=!1,this.toggle_button=this.getButton("","collapse","Collapse"),this.title_controls.appendChild(this.toggle_button),this.toggle_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.collapsed?(e.editor_holder.style.display="",e.collapsed=!1,e.setButtonText(e.toggle_button,"","collapse","Collapse")):(e.editor_holder.style.display="none",e.collapsed=!0,e.setButtonText(e.toggle_button,"","expand","Expand"))}),this.options.collapsed&&r(this.toggle_button,"click"),this.schema.options&&void 0!==this.schema.options.disable_collapse?this.schema.options.disable_collapse&&(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.toggle_button.style.display="none"),this.editjson_button=this.getButton("JSON","edit","Edit JSON"),this.editjson_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.toggleEditJSON()}),this.editjson_controls.appendChild(this.editjson_button),this.editjson_controls.appendChild(this.editjson_holder),this.schema.options&&void 0!==this.schema.options.disable_edit_json?this.schema.options.disable_edit_json&&(this.editjson_button.style.display="none"):this.jsoneditor.options.disable_edit_json&&(this.editjson_button.style.display="none"),this.addproperty_button=this.getButton("Properties","edit","Object Properties"),this.addproperty_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.toggleAddProperty()}),this.addproperty_controls.appendChild(this.addproperty_button),this.addproperty_controls.appendChild(this.addproperty_holder),this.refreshAddProperties()}this.options.table_row?(this.editor_holder=this.container,i(this.property_order,function(t,n){e.editor_holder.appendChild(e.editors[n].container)})):(this.layoutEditors(),this.layoutEditors())},showEditJSON:function(){this.editjson_holder&&(this.hideAddProperty(),this.editjson_holder.style.left=this.editjson_button.offsetLeft+"px",this.editjson_holder.style.top=this.editjson_button.offsetTop+this.editjson_button.offsetHeight+"px",this.editjson_textarea.value=JSON.stringify(this.getValue(),null,2),this.disable(),this.editjson_holder.style.display="",this.editjson_button.disabled=!1,this.editing_json=!0)},hideEditJSON:function(){this.editjson_holder&&this.editing_json&&(this.editjson_holder.style.display="none",this.enable(),this.editing_json=!1)},saveJSON:function(){if(this.editjson_holder)try{var e=JSON.parse(this.editjson_textarea.value);this.setValue(e),this.hideEditJSON()}catch(e){throw window.alert("invalid JSON"),e}},toggleEditJSON:function(){this.editing_json?this.hideEditJSON():this.showEditJSON()},addPropertyCheckbox:function(e){var t,n,i,r=this;return t=r.theme.getCheckbox(),t.style.width="auto",n=r.theme.getCheckboxLabel(e),i=r.theme.getFormControl(n,t),i.style.paddingBottom=i.style.marginBottom=i.style.paddingTop=i.style.marginTop=0,i.style.height="auto",r.addproperty_list.appendChild(i),t.checked=e in this.editors,t.addEventListener("change",function(){t.checked?r.addObjectProperty(e):r.removeObjectProperty(e)}),r.addproperty_checkboxes[e]=t,t},showAddProperty:function(){
this.addproperty_holder&&(this.hideEditJSON(),this.addproperty_holder.style.left=this.addproperty_button.offsetLeft+"px",this.addproperty_holder.style.top=this.addproperty_button.offsetTop+this.addproperty_button.offsetHeight+"px",this.disable(),this.adding_property=!0,this.addproperty_button.disabled=!1,this.addproperty_holder.style.display="",this.refreshAddProperties())},hideAddProperty:function(){this.addproperty_holder&&this.adding_property&&(this.addproperty_holder.style.display="none",this.enable(),this.adding_property=!1)},toggleAddProperty:function(){this.adding_property?this.hideAddProperty():this.showAddProperty()},removeObjectProperty:function(e){this.editors[e]&&(this.editors[e].unregister(),delete this.editors[e],this.refreshValue(),this.notify(),this.change(),this.layoutEditors())},addObjectProperty:function(e,t,n){var i=this;if(!this.editors[e]){if(this.cached_editors[e]){if(this.editors[e]=this.cached_editors[e],t)return;this.editors[e].register(),this.jsoneditor.notifyWatchers(this.editors[e].path)}else{if(!(this.canHaveAdditionalProperties()||this.schema.properties&&this.schema.properties[e]))return;var r=i.getPropertySchema(e),o=i.jsoneditor.getEditorClass(r);if(i.editors[e]=i.jsoneditor.createEditor(o,{jsoneditor:i.jsoneditor,schema:r,path:i.path+"."+e,parent:i}),i.editors[e].preBuild(),!t){var s=i.theme.getChildEditorHolder();i.editor_holder.appendChild(s),i.editors[e].setContainer(s),i.editors[e].build(),i.editors[e].postBuild()}i.cached_editors[e]=i.editors[e]}t||n||(i.refreshValue(),i.notify(),i.change(),i.layoutEditors())}},onChildEditorChange:function(e){this.refreshValue(),this._super(e)},canHaveAdditionalProperties:function(){return!1!==this.schema.additionalProperties&&!this.jsoneditor.options.no_additional_properties},destroy:function(){i(this.cached_editors,function(e,t){t.destroy()}),this.editor_holder&&(this.editor_holder.innerHTML=""),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.error_holder&&this.error_holder.parentNode&&this.error_holder.parentNode.removeChild(this.error_holder),this.editors=null,this.cached_editors=null,this.editor_holder&&this.editor_holder.parentNode&&this.editor_holder.parentNode.removeChild(this.editor_holder),this.editor_holder=null,this._super()},refreshValue:function(){this.value={};for(var e in this.editors)this.editors.hasOwnProperty(e)&&(this.value[e]=this.editors[e].getValue());this.adding_property&&this.refreshAddProperties()},refreshAddProperties:function(){if(this.options.disable_properties||this.jsoneditor.options.disable_properties)return void(this.addproperty_controls.style.display="none");var e,t=!1,n=0,i=!1;for(e in this.editors)this.editors.hasOwnProperty(e)&&n++;t=this.canHaveAdditionalProperties()&&!(void 0!==this.schema.maxProperties&&n>=this.schema.maxProperties),this.addproperty_checkboxes&&(this.addproperty_list.innerHTML=""),this.addproperty_checkboxes={};for(e in this.cached_editors)this.cached_editors.hasOwnProperty(e)&&(this.addPropertyCheckbox(e),this.isRequired(this.cached_editors[e])&&e in this.editors&&(this.addproperty_checkboxes[e].disabled=!0),void 0!==this.schema.minProperties&&n<=this.schema.minProperties?(this.addproperty_checkboxes[e].disabled=this.addproperty_checkboxes[e].checked,this.addproperty_checkboxes[e].checked||(i=!0)):e in this.editors?(i=!0,!0):t||this.schema.properties.hasOwnProperty(e)?(this.addproperty_checkboxes[e].disabled=!1,i=!0):this.addproperty_checkboxes[e].disabled=!0);this.canHaveAdditionalProperties()&&(i=!0);for(e in this.schema.properties)this.schema.properties.hasOwnProperty(e)&&(this.cached_editors[e]||(i=!0,this.addPropertyCheckbox(e),this.addproperty_checkboxes[e].disabled=!t));i?this.canHaveAdditionalProperties()?this.addproperty_add.disabled=!t:(this.addproperty_add.style.display="none",this.addproperty_input.style.display="none"):(this.hideAddProperty(),this.addproperty_controls.style.display="none")},isRequired:function(e){return"boolean"==typeof e.schema.required?e.schema.required:Array.isArray(this.schema.required)?this.schema.required.indexOf(e.key)>-1:!!this.jsoneditor.options.required_by_default},setValue:function(e,t){var n=this;e=e||{},("object"!=typeof e||Array.isArray(e))&&(e={}),i(this.cached_editors,function(i,r){void 0!==e[i]?(n.addObjectProperty(i),r.setValue(e[i],t)):t||n.isRequired(r)?r.setValue(r.getDefault(),t):n.removeObjectProperty(i)}),i(e,function(e,i){n.cached_editors[e]||(n.addObjectProperty(e),n.editors[e]&&n.editors[e].setValue(i,t))}),this.refreshValue(),this.notify(),this.layoutEditors()},showValidationErrors:function(e){var t=this,n=[],r=[];i(e,function(e,i){i.path===t.path?n.push(i):r.push(i)}),this.error_holder&&(n.length?(this.error_holder.innerHTML="",this.error_holder.style.display="",i(n,function(e,n){t.error_holder.appendChild(t.theme.getErrorMessage(n.message))})):this.error_holder.style.display="none"),this.options.table_row&&(n.length?this.theme.addTableRowError(this.container):this.theme.removeTableRowError(this.container)),i(this.editors,function(e,t){t.showValidationErrors(r)})}}),o.defaults.editors.array=o.AbstractEditor.extend({getDefault:function(){return this.schema.default||[]},register:function(){if(this._super(),this.rows)for(var e=0;e<this.rows.length;e++)this.rows[e].register()},unregister:function(){if(this._super(),this.rows)for(var e=0;e<this.rows.length;e++)this.rows[e].unregister()},getNumColumns:function(){var e=this.getItemInfo(0);return this.tabs_holder?Math.max(Math.min(12,e.width+2),4):e.width},enable:function(){if(this.add_row_button&&(this.add_row_button.disabled=!1),this.remove_all_rows_button&&(this.remove_all_rows_button.disabled=!1),this.delete_last_row_button&&(this.delete_last_row_button.disabled=!1),this.rows)for(var e=0;e<this.rows.length;e++)this.rows[e].enable(),this.rows[e].moveup_button&&(this.rows[e].moveup_button.disabled=!1),this.rows[e].movedown_button&&(this.rows[e].movedown_button.disabled=!1),this.rows[e].delete_button&&(this.rows[e].delete_button.disabled=!1);this._super()},disable:function(){if(this.add_row_button&&(this.add_row_button.disabled=!0),this.remove_all_rows_button&&(this.remove_all_rows_button.disabled=!0),this.delete_last_row_button&&(this.delete_last_row_button.disabled=!0),this.rows)for(var e=0;e<this.rows.length;e++)this.rows[e].disable(),this.rows[e].moveup_button&&(this.rows[e].moveup_button.disabled=!0),this.rows[e].movedown_button&&(this.rows[e].movedown_button.disabled=!0),this.rows[e].delete_button&&(this.rows[e].delete_button.disabled=!0);this._super()},preBuild:function(){this._super(),this.rows=[],this.row_cache=[],this.hide_delete_buttons=this.options.disable_array_delete||this.jsoneditor.options.disable_array_delete,this.hide_move_buttons=this.options.disable_array_reorder||this.jsoneditor.options.disable_array_reorder,this.hide_add_button=this.options.disable_array_add||this.jsoneditor.options.disable_array_add},build:function(){this.options.compact?(this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.controls=this.theme.getButtonHolder(),this.panel.appendChild(this.controls),this.row_holder=document.createElement("div"),this.panel.appendChild(this.row_holder)):(this.header=document.createElement("span"),this.header.textContent=this.getTitle(),this.title=this.theme.getHeader(this.header),this.container.appendChild(this.title),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description),this.container.appendChild(this.description)),this.error_holder=document.createElement("div"),this.container.appendChild(this.error_holder),"tabs"===this.schema.format?(this.controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.controls),this.tabs_holder=this.theme.getTabHolder(),this.container.appendChild(this.tabs_holder),this.row_holder=this.theme.getTabContentHolder(this.tabs_holder),this.active_tab=null):(this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.row_holder=document.createElement("div"),this.panel.appendChild(this.row_holder),this.controls=this.theme.getButtonHolder(),this.panel.appendChild(this.controls))),this.addControls()},onChildEditorChange:function(e){this.refreshValue(),this.refreshTabs(!0),this._super(e)},getItemTitle:function(){if(!this.item_title)if(this.schema.items&&!Array.isArray(this.schema.items)){var e=this.jsoneditor.expandRefs(this.schema.items);this.item_title=e.title||"item"}else this.item_title="item";return this.item_title},getItemSchema:function(e){return Array.isArray(this.schema.items)?e>=this.schema.items.length?!0===this.schema.additionalItems?{}:this.schema.additionalItems?n({},this.schema.additionalItems):void 0:n({},this.schema.items[e]):this.schema.items?n({},this.schema.items):{}},getItemInfo:function(e){var t=this.getItemSchema(e);this.item_info=this.item_info||{};var n=JSON.stringify(t);return void 0!==this.item_info[n]?this.item_info[n]:(t=this.jsoneditor.expandRefs(t),this.item_info[n]={title:t.title||"item",default:t.default,width:12,child_editors:t.properties||t.items},this.item_info[n])},getElementEditor:function(e){var t=this.getItemInfo(e),n=this.getItemSchema(e);n=this.jsoneditor.expandRefs(n),n.title=t.title+" "+(e+1);var i,r=this.jsoneditor.getEditorClass(n);i=this.tabs_holder?this.theme.getTabContent():t.child_editors?this.theme.getChildEditorHolder():this.theme.getIndentedPanel(),this.row_holder.appendChild(i);var o=this.jsoneditor.createEditor(r,{jsoneditor:this.jsoneditor,schema:n,container:i,path:this.path+"."+e,parent:this,required:!0});return o.preBuild(),o.build(),o.postBuild(),o.title_controls||(o.array_controls=this.theme.getButtonHolder(),i.appendChild(o.array_controls)),o},destroy:function(){this.empty(!0),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.row_holder&&this.row_holder.parentNode&&this.row_holder.parentNode.removeChild(this.row_holder),this.controls&&this.controls.parentNode&&this.controls.parentNode.removeChild(this.controls),this.panel&&this.panel.parentNode&&this.panel.parentNode.removeChild(this.panel),this.rows=this.row_cache=this.title=this.description=this.row_holder=this.panel=this.controls=null,this._super()},empty:function(e){if(this.rows){var t=this;i(this.rows,function(n,i){e&&(i.tab&&i.tab.parentNode&&i.tab.parentNode.removeChild(i.tab),t.destroyRow(i,!0),t.row_cache[n]=null),t.rows[n]=null}),t.rows=[],e&&(t.row_cache=[])}},destroyRow:function(e,t){var n=e.container;t?(e.destroy(),n.parentNode&&n.parentNode.removeChild(n),e.tab&&e.tab.parentNode&&e.tab.parentNode.removeChild(e.tab)):(e.tab&&(e.tab.style.display="none"),n.style.display="none",e.unregister())},getMax:function(){return Array.isArray(this.schema.items)&&!1===this.schema.additionalItems?Math.min(this.schema.items.length,this.schema.maxItems||1/0):this.schema.maxItems||1/0},refreshTabs:function(e){var t=this;i(this.rows,function(n,i){i.tab&&(e?i.tab_text.textContent=i.getHeaderText():i.tab===t.active_tab?(t.theme.markTabActive(i.tab),i.container.style.display=""):(t.theme.markTabInactive(i.tab),i.container.style.display="none"))})},setValue:function(e,t){if(e=e||[],Array.isArray(e)||(e=[e]),JSON.stringify(e)!==this.serialized){if(this.schema.minItems)for(;e.length<this.schema.minItems;)e.push(this.getItemInfo(e.length).default);this.getMax()&&e.length>this.getMax()&&(e=e.slice(0,this.getMax()));var n=this;i(e,function(e,t){n.rows[e]?n.rows[e].setValue(t):n.row_cache[e]?(n.rows[e]=n.row_cache[e],n.rows[e].setValue(t),n.rows[e].container.style.display="",n.rows[e].tab&&(n.rows[e].tab.style.display=""),n.rows[e].register()):n.addRow(t)});for(var r=e.length;r<n.rows.length;r++)n.destroyRow(n.rows[r]),n.rows[r]=null;n.rows=n.rows.slice(0,e.length);var o=null;i(n.rows,function(e,t){return t.tab===n.active_tab?(o=t.tab,!1):void 0}),!o&&n.rows.length&&(o=n.rows[0].tab),n.active_tab=o,n.refreshValue(t),n.refreshTabs(),n.jsoneditor.notifyWatchers(n.path)}},refreshValue:function(e){var t=this,n=this.value?this.value.length:0;if(this.value=[],i(this.rows,function(e,n){t.value[e]=n.getValue()}),n!==this.value.length||e){var r=this.schema.minItems&&this.schema.minItems>=this.rows.length;i(this.rows,function(e,n){n.movedown_buttons&&(n.movedown_button.style.display=e===t.rows.length-1?"none":""),n.delete_button&&(n.delete_button.style.display=r?"none":""),t.value[e]=n.getValue()});var o=!1;this.value.length?1===this.value.length?(this.remove_all_rows_button.style.display="none",r||this.hide_delete_buttons?this.delete_last_row_button.style.display="none":(this.delete_last_row_button.style.display="",o=!0)):r||this.hide_delete_buttons?(this.delete_last_row_button.style.display="none",this.remove_all_rows_button.style.display="none"):(this.delete_last_row_button.style.display="",this.remove_all_rows_button.style.display="",o=!0):(this.delete_last_row_button.style.display="none",this.remove_all_rows_button.style.display="none"),this.getMax()&&this.getMax()<=this.rows.length||this.hide_add_button?this.add_row_button.style.display="none":(this.add_row_button.style.display="",o=!0),this.controls.style.display=!this.collapsed&&o?"inline-block":"none"}},addRow:function(e){var t=this,n=this.rows.length;t.rows[n]=this.getElementEditor(n),t.row_cache[n]=t.rows[n],t.tabs_holder&&(t.rows[n].tab_text=document.createElement("span"),t.rows[n].tab_text.textContent=t.rows[n].getHeaderText(),t.rows[n].tab=t.theme.getTab(t.rows[n].tab_text),t.rows[n].tab.addEventListener("click",function(e){t.active_tab=t.rows[n].tab,t.refreshTabs(),e.preventDefault(),e.stopPropagation()}),t.theme.addTab(t.tabs_holder,t.rows[n].tab));var r=t.rows[n].title_controls||t.rows[n].array_controls;t.hide_delete_buttons||(t.rows[n].delete_button=this.getButton(t.getItemTitle(),"delete","Delete "+t.getItemTitle()),t.rows[n].delete_button.className+=" delete",t.rows[n].delete_button.setAttribute("data-i",n),t.rows[n].delete_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var n=1*this.getAttribute("data-i"),r=t.getValue(),o=[],s=null;i(r,function(e,i){return e===n?void(t.rows[e].tab===t.active_tab&&(t.rows[e+1]?s=t.rows[e].tab:e&&(s=t.rows[e-1].tab))):void o.push(i)}),t.setValue(o),s&&(t.active_tab=s,t.refreshTabs()),t.parent?t.parent.onChildEditorChange(t):t.jsoneditor.onChange()}),r&&r.appendChild(t.rows[n].delete_button)),n&&!t.hide_move_buttons&&(t.rows[n].moveup_button=this.getButton("","moveup","Move up"),t.rows[n].moveup_button.className+=" moveup",t.rows[n].moveup_button.setAttribute("data-i",n),t.rows[n].moveup_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var n=1*this.getAttribute("data-i");if(!(0>=n)){var i=t.getValue(),r=i[n-1];i[n-1]=i[n],i[n]=r,t.setValue(i),t.active_tab=t.rows[n-1].tab,t.refreshTabs(),t.parent?t.parent.onChildEditorChange(t):t.jsoneditor.onChange()}}),r&&r.appendChild(t.rows[n].moveup_button)),t.hide_move_buttons||(t.rows[n].movedown_button=this.getButton("","movedown","Move down"),t.rows[n].movedown_button.className+=" movedown",t.rows[n].movedown_button.setAttribute("data-i",n),t.rows[n].movedown_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var n=1*this.getAttribute("data-i"),i=t.getValue();if(!(n>=i.length-1)){var r=i[n+1];i[n+1]=i[n],i[n]=r,t.setValue(i),t.active_tab=t.rows[n+1].tab,t.refreshTabs(),t.parent?t.parent.onChildEditorChange(t):t.jsoneditor.onChange()}}),r&&r.appendChild(t.rows[n].movedown_button)),e&&t.rows[n].setValue(e),t.refreshTabs()},addControls:function(){var e=this;this.collapsed=!1,this.toggle_button=this.getButton("","collapse","Collapse"),this.title_controls.appendChild(this.toggle_button);var t=e.row_holder.style.display,n=e.controls.style.display;this.toggle_button.addEventListener("click",function(i){i.preventDefault(),i.stopPropagation(),e.collapsed?(e.collapsed=!1,e.panel&&(e.panel.style.display=""),e.row_holder.style.display=t,e.tabs_holder&&(e.tabs_holder.style.display=""),e.controls.style.display=n,e.setButtonText(this,"","collapse","Collapse")):(e.collapsed=!0,e.row_holder.style.display="none",e.tabs_holder&&(e.tabs_holder.style.display="none"),e.controls.style.display="none",e.panel&&(e.panel.style.display="none"),e.setButtonText(this,"","expand","Expand"))}),this.options.collapsed&&r(this.toggle_button,"click"),this.schema.options&&void 0!==this.schema.options.disable_collapse?this.schema.options.disable_collapse&&(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.toggle_button.style.display="none"),this.add_row_button=this.getButton(this.getItemTitle(),"add","Add "+this.getItemTitle()),this.add_row_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();var n=e.rows.length;e.row_cache[n]?(e.rows[n]=e.row_cache[n],e.rows[n].container.style.display="",e.rows[n].tab&&(e.rows[n].tab.style.display=""),e.rows[n].register()):e.addRow(),e.active_tab=e.rows[n].tab,e.refreshTabs(),e.refreshValue(),e.parent?e.parent.onChildEditorChange(e):e.jsoneditor.onChange(),e.jsoneditor.notifyWatchers(e.path)}),e.controls.appendChild(this.add_row_button),this.delete_last_row_button=this.getButton("Last "+this.getItemTitle(),"delete","Delete Last "+this.getItemTitle()),this.delete_last_row_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();var n=e.getValue(),i=null;e.rows.length>1&&e.rows[e.rows.length-1].tab===e.active_tab&&(i=e.rows[e.rows.length-2].tab),n.pop(),e.setValue(n),i&&(e.active_tab=i,e.refreshTabs()),e.parent?e.parent.onChildEditorChange(e):e.jsoneditor.onChange()}),e.controls.appendChild(this.delete_last_row_button),this.remove_all_rows_button=this.getButton("All","delete","Delete All"),this.remove_all_rows_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.setValue([]),e.parent?e.parent.onChildEditorChange(e):e.jsoneditor.onChange()}),e.controls.appendChild(this.remove_all_rows_button),e.tabs&&(this.add_row_button.style.width="100%",this.add_row_button.style.textAlign="left",this.add_row_button.style.marginBottom="3px",this.delete_last_row_button.style.width="100%",this.delete_last_row_button.style.textAlign="left",this.delete_last_row_button.style.marginBottom="3px",this.remove_all_rows_button.style.width="100%",this.remove_all_rows_button.style.textAlign="left",this.remove_all_rows_button.style.marginBottom="3px")},showValidationErrors:function(e){var t=this,n=[],r=[];i(e,function(e,i){i.path===t.path?n.push(i):r.push(i)}),this.error_holder&&(n.length?(this.error_holder.innerHTML="",this.error_holder.style.display="",i(n,function(e,n){t.error_holder.appendChild(t.theme.getErrorMessage(n.message))})):this.error_holder.style.display="none"),i(this.rows,function(e,t){t.showValidationErrors(r)})}}),o.defaults.editors.table=o.defaults.editors.array.extend({register:function(){if(this._super(),this.rows)for(var e=0;e<this.rows.length;e++)this.rows[e].register()},unregister:function(){if(this._super(),this.rows)for(var e=0;e<this.rows.length;e++)this.rows[e].unregister()},getNumColumns:function(){return Math.max(Math.min(12,this.width),3)},preBuild:function(){var e=this.jsoneditor.expandRefs(this.schema.items||{});this.item_title=e.title||"row",this.item_default=e.default||null,this.item_has_child_editors=e.properties||e.items,this.width=12,this._super()},build:function(){var e=this;this.table=this.theme.getTable(),this.container.appendChild(this.table),this.thead=this.theme.getTableHead(),this.table.appendChild(this.thead),this.header_row=this.theme.getTableRow(),this.thead.appendChild(this.header_row),this.row_holder=this.theme.getTableBody(),this.table.appendChild(this.row_holder);var t=this.getElementEditor(0,!0);this.item_default=t.getDefault(),this.width=t.getNumColumns()+2,this.options.compact?(this.panel=document.createElement("div"),this.container.appendChild(this.panel)):(this.title=this.theme.getHeader(this.getTitle()),this.container.appendChild(this.title),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description),this.container.appendChild(this.description)),this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.error_holder=document.createElement("div"),this.panel.appendChild(this.error_holder)),this.panel.appendChild(this.table),this.controls=this.theme.getButtonHolder(),this.panel.appendChild(this.controls),this.item_has_child_editors?i(t.getChildEditors(),function(t,n){var i=e.theme.getTableHeaderCell(n.getTitle());n.options.hidden&&(i.style.display="none"),e.header_row.appendChild(i)}):e.header_row.appendChild(e.theme.getTableHeaderCell(this.item_title)),t.destroy(),this.row_holder.innerHTML="",this.controls_header_cell=e.theme.getTableHeaderCell(" "),e.header_row.appendChild(this.controls_header_cell),this.addControls()},onChildEditorChange:function(){this.refreshValue(),this._super()},getItemDefault:function(){return n({},{default:this.item_default}).default},getItemTitle:function(){return this.item_title},getElementEditor:function(e,t){var i=n({},this.schema.items),r=this.jsoneditor.getEditorClass(i,this.jsoneditor),o=this.row_holder.appendChild(this.theme.getTableRow()),s=o;this.item_has_child_editors||(s=this.theme.getTableCell(),o.appendChild(s));var a=this.jsoneditor.createEditor(r,{jsoneditor:this.jsoneditor,schema:i,container:s,path:this.path+"."+e,parent:this,compact:!0,table_row:!0});return a.preBuild(),t||(a.build(),a.postBuild(),a.controls_cell=o.appendChild(this.theme.getTableCell()),a.row=o,a.table_controls=this.theme.getButtonHolder(),a.controls_cell.appendChild(a.table_controls),a.table_controls.style.margin=0,a.table_controls.style.padding=0),a},destroy:function(){this.innerHTML="",this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.row_holder&&this.row_holder.parentNode&&this.row_holder.parentNode.removeChild(this.row_holder),this.table&&this.table.parentNode&&this.table.parentNode.removeChild(this.table),this.panel&&this.panel.parentNode&&this.panel.parentNode.removeChild(this.panel),this.rows=this.title=this.description=this.row_holder=this.table=this.panel=null,this._super()},empty:function(){if(this.rows){var e=this;i(this.rows,function(t,n){e.item_has_child_editors||n.row.parentNode.removeChild(n.row),n.destroy(),e.rows[t]=null}),e.rows=[]}},setValue:function(e,t){if(e=e||[],this.schema.minItems)for(;e.length<this.schema.minItems;)e.push(this.getItemDefault());if(this.schema.maxItems&&e.length>this.schema.maxItems&&(e=e.slice(0,this.schema.maxItems)),JSON.stringify(e)!==this.serialized){var n=!1,r=this;i(e,function(e,t){r.rows[e]?r.rows[e].setValue(t):(r.addRow(t),n=!0)});for(var o=e.length;o<r.rows.length;o++){var s=r.rows[o].container;r.item_has_child_editors||r.rows[o].row.parentNode.removeChild(r.rows[o].row),r.rows[o].destroy(),s.parentNode&&s.parentNode.removeChild(s),r.rows[o]=null,n=!0}r.rows=r.rows.slice(0,e.length),r.refreshValue(),(n||t)&&r.refreshRowButtons(),r.jsoneditor.notifyWatchers(r.path)}},refreshRowButtons:function(){var e=this,t=this.schema.minItems&&this.schema.minItems>=this.rows.length,n=!1;i(this.rows,function(i,r){r.movedown_button&&(i===e.rows.length-1?r.movedown_button.style.display="none":(n=!0,r.movedown_button.style.display="")),r.delete_button&&(t?r.delete_button.style.display="none":(n=!0,r.delete_button.style.display="")),r.moveup_button&&(n=!0)}),i(this.rows,function(e,t){t.controls_cell.style.display=n?"":"none"}),this.controls_header_cell.style.display=n?"":"none";var r=!1;this.value.length?1===this.value.length||this.hide_delete_buttons?(this.table.style.display="",this.remove_all_rows_button.style.display="none",t||this.hide_delete_buttons?this.delete_last_row_button.style.display="none":(this.delete_last_row_button.style.display="",r=!0)):(this.table.style.display="",t||this.hide_delete_buttons?(this.delete_last_row_button.style.display="none",this.remove_all_rows_button.style.display="none"):(this.delete_last_row_button.style.display="",this.remove_all_rows_button.style.display="",r=!0)):(this.delete_last_row_button.style.display="none",this.remove_all_rows_button.style.display="none",this.table.style.display="none"),this.schema.maxItems&&this.schema.maxItems<=this.rows.length||this.hide_add_button?this.add_row_button.style.display="none":(this.add_row_button.style.display="",r=!0),this.controls.style.display=r?"":"none"},refreshValue:function(){var e=this;this.value=[],i(this.rows,function(t,n){e.value[t]=n.getValue()}),this.serialized=JSON.stringify(this.value)},addRow:function(e){var t=this,n=this.rows.length;t.rows[n]=this.getElementEditor(n);var r=t.rows[n].table_controls;this.hide_delete_buttons||(t.rows[n].delete_button=this.getButton("","delete","Delete"),t.rows[n].delete_button.className+=" delete",t.rows[n].delete_button.setAttribute("data-i",n),t.rows[n].delete_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var n=1*this.getAttribute("data-i"),r=t.getValue(),o=[];i(r,function(e,t){e!==n&&o.push(t)}),t.setValue(o),t.parent?t.parent.onChildEditorChange(t):t.jsoneditor.onChange()}),r.appendChild(t.rows[n].delete_button)),n&&!this.hide_move_buttons&&(t.rows[n].moveup_button=this.getButton("","moveup","Move up"),t.rows[n].moveup_button.className+=" moveup",t.rows[n].moveup_button.setAttribute("data-i",n),t.rows[n].moveup_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var n=1*this.getAttribute("data-i");if(!(0>=n)){var i=t.getValue(),r=i[n-1];i[n-1]=i[n],i[n]=r,t.setValue(i),t.parent?t.parent.onChildEditorChange(t):t.jsoneditor.onChange()}}),r.appendChild(t.rows[n].moveup_button)),this.hide_move_buttons||(t.rows[n].movedown_button=this.getButton("","movedown","Move down"),t.rows[n].movedown_button.className+=" movedown",t.rows[n].movedown_button.setAttribute("data-i",n),t.rows[n].movedown_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var n=1*this.getAttribute("data-i"),i=t.getValue();if(!(n>=i.length-1)){var r=i[n+1];i[n+1]=i[n],i[n]=r,t.setValue(i),t.parent?t.parent.onChildEditorChange(t):t.jsoneditor.onChange()}}),r.appendChild(t.rows[n].movedown_button)),e&&t.rows[n].setValue(e),t.jsoneditor.notifyWatchers(t.path)},addControls:function(){var e=this;this.collapsed=!1,this.toggle_button=this.getButton("","collapse","Collapse"),this.title_controls&&(this.title_controls.appendChild(this.toggle_button),this.toggle_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.collapsed?(e.collapsed=!1,e.panel.style.display="",e.setButtonText(this,"","collapse","Collapse")):(e.collapsed=!0,e.panel.style.display="none",e.setButtonText(this,"","expand","Expand"))}),this.options.collapsed&&r(this.toggle_button,"click"),this.schema.options&&void 0!==this.schema.options.disable_collapse?this.schema.options.disable_collapse&&(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.toggle_button.style.display="none")),this.add_row_button=this.getButton(this.getItemTitle(),"add","Add "+this.getItemTitle()),this.add_row_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.addRow(),e.refreshValue(),e.refreshRowButtons(),e.parent?e.parent.onChildEditorChange(e):e.jsoneditor.onChange()}),e.controls.appendChild(this.add_row_button),this.delete_last_row_button=this.getButton("Last "+this.getItemTitle(),"delete","Delete Last "+this.getItemTitle()),this.delete_last_row_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();var n=e.getValue();n.pop(),e.setValue(n),e.parent?e.parent.onChildEditorChange(e):e.jsoneditor.onChange()}),e.controls.appendChild(this.delete_last_row_button),this.remove_all_rows_button=this.getButton("All","delete","Delete All"),this.remove_all_rows_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.setValue([]),e.parent?e.parent.onChildEditorChange(e):e.jsoneditor.onChange()}),e.controls.appendChild(this.remove_all_rows_button)}}),o.defaults.editors.multiple=o.AbstractEditor.extend({register:function(){if(this.editors){for(var e=0;e<this.editors.length;e++)this.editors[e]&&this.editors[e].unregister();this.editors[this.type]&&this.editors[this.type].register()}this._super()},unregister:function(){if(this._super(),this.editors)for(var e=0;e<this.editors.length;e++)this.editors[e]&&this.editors[e].unregister()},getNumColumns:function(){return this.editors[this.type]?Math.max(this.editors[this.type].getNumColumns(),4):4},enable:function(){if(this.editors)for(var e=0;e<this.editors.length;e++)this.editors[e]&&this.editors[e].enable();this.switcher.disabled=!1,this._super()},disable:function(){if(this.editors)for(var e=0;e<this.editors.length;e++)this.editors[e]&&this.editors[e].disable();this.switcher.disabled=!0,this._super()},switchEditor:function(e){var t=this;this.editors[e]||this.buildChildEditor(e),t.type=e,t.register();var n=t.getValue();i(t.editors,function(e,i){i&&(t.type===e?(i.setValue(n,!0),i.container.style.display=""):i.container.style.display="none")}),t.refreshValue(),t.watch_listener&&t.watch_listener(),t.notify(),t.change()},buildChildEditor:function(e){var t=this,i=this.types[e],r=t.theme.getChildEditorHolder();t.editor_holder.appendChild(r);var o;"string"==typeof i?(o=n({},t.schema),o.type=i):(o=n({},t.schema,i),o=t.jsoneditor.expandRefs(o),i.required&&Array.isArray(i.required)&&t.schema.required&&Array.isArray(t.schema.required)&&(o.required=t.schema.required.concat(i.required)));var s=t.jsoneditor.getEditorClass(o);t.editors[e]=t.jsoneditor.createEditor(s,{jsoneditor:t.jsoneditor,schema:o,container:r,path:t.path,parent:t,required:!0}),t.editors[e].preBuild(),t.editors[e].build(),t.editors[e].postBuild(),t.editors[e].header&&(t.editors[e].header.style.display="none"),t.editors[e].option=t.switcher_options[e],r.addEventListener("change_header_text",function(){t.refreshHeaderText()}),e!==t.type&&(r.style.display="none")},preBuild:function(){if(this.types=[],this.type=0,this.editors=[],this.validators=[],this.schema.oneOf)this.oneOf=!0,this.types=this.schema.oneOf,i(this.types,function(){}),delete this.schema.oneOf;else{if(this.schema.type&&"any"!==this.schema.type)this.types=Array.isArray(this.schema.type)?this.schema.type:[this.schema.type];else if(this.types=["string","number","integer","boolean","object","array","null"],this.schema.disallow){var e=this.schema.disallow;"object"==typeof e&&Array.isArray(e)||(e=[e]);var t=[];i(this.types,function(n,i){-1===e.indexOf(i)&&t.push(i)}),this.types=t}delete this.schema.type}this.display_text=this.getDisplayText(this.types)},build:function(){var e=this,t=this.container;this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.container.appendChild(this.header),this.switcher=this.theme.getSwitcher(this.display_text),t.appendChild(this.switcher),this.switcher.addEventListener("change",function(t){t.preventDefault(),t.stopPropagation(),e.switchEditor(e.display_text.indexOf(this.value))}),this.switcher.style.marginBottom=0,this.switcher.style.width="auto",this.switcher.style.display="inline-block",this.switcher.style.marginLeft="5px",this.editor_holder=document.createElement("div"),t.appendChild(this.editor_holder),this.switcher_options=this.theme.getSwitcherOptions(this.switcher),i(this.types,function(t,i){e.editors[t]=!1;var r;"string"==typeof i?(r=n({},e.schema),r.type=i):(r=n({},e.schema,i),i.required&&Array.isArray(i.required)&&e.schema.required&&Array.isArray(e.schema.required)&&(r.required=e.schema.required.concat(i.required))),
e.validators[t]=new o.Validator(e.jsoneditor,r)}),this.switchEditor(0),this.refreshValue(),this.refreshHeaderText()},onChildEditorChange:function(){this.editors[this.type]&&(this.refreshHeaderText(),this.refreshValue()),this._super()},refreshHeaderText:function(){var e=this.getDisplayText(this.types);i(this.switcher_options,function(t,n){n.textContent=e[t]})},refreshValue:function(){this.value=this.editors[this.type].getValue()},setValue:function(e,t){var n=this;i(this.validators,function(t,i){return i.validate(e).length?void 0:(n.type=t,n.switcher.value=n.display_text[t],!1)}),this.switchEditor(this.type),this.editors[this.type].setValue(e,t),this.refreshValue(),this.watch_listener(),this.notify()},destroy:function(){i(this.editors,function(e,t){t&&t.destroy()}),this.editor_holder&&this.editor_holder.parentNode&&this.editor_holder.parentNode.removeChild(this.editor_holder),this.switcher&&this.switcher.parentNode&&this.switcher.parentNode.removeChild(this.switcher),this._super()},showValidationErrors:function(e){var t=this;this.oneOf?i(this.editors,function(r,o){if(o){var s=t.path+".oneOf["+r+"]",a=[];i(e,function(e,i){if(i.path.substr(0,s.length)===s){var r=n({},i);r.path=t.path+r.path.substr(s.length),a.push(r)}}),o.showValidationErrors(a)}}):i(this.editors,function(t,n){n&&n.showValidationErrors(e)})}}),o.defaults.editors.enum=o.AbstractEditor.extend({getNumColumns:function(){return 4},build:function(){this.container,this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.container.appendChild(this.title),this.options.enum_titles=this.options.enum_titles||[],this.enum=this.schema.enum,this.selected=0,this.select_options=[],this.html_values=[];for(var e=this,t=0;t<this.enum.length;t++)this.select_options[t]=this.options.enum_titles[t]||"Value "+(t+1),this.html_values[t]=this.getHTML(this.enum[t]);this.switcher=this.theme.getSwitcher(this.select_options),this.container.appendChild(this.switcher),this.switcher.style.width="auto",this.switcher.style.display="inline-block",this.switcher.style.marginLeft="5px",this.switcher.style.marginBottom=0,this.display_area=this.theme.getIndentedPanel(),this.display_area.style.paddingTop=0,this.display_area.style.paddingBottom=0,this.container.appendChild(this.display_area),this.options.hide_display&&(this.display_area.style.display="none"),this.switcher.addEventListener("change",function(){e.selected=e.select_options.indexOf(this.value),e.value=e.enum[e.selected],e.refreshValue(),e.parent?e.parent.onChildEditorChange(e):e.jsoneditor.onChange()}),this.value=this.enum[0],this.refreshValue(),1===this.enum.length&&(this.switcher.style.display="none")},refreshValue:function(){var e=this;e.selected=-1;var t=JSON.stringify(this.value);return i(this.enum,function(n,i){return t===JSON.stringify(i)?(e.selected=n,!1):void 0}),e.selected<0?void e.setValue(e.enum[0]):(this.switcher.value=this.select_options[this.selected],void(this.display_area.innerHTML=this.html_values[this.selected]))},enable:function(){this.always_disabled||(this.switcher.disabled=!1),this._super()},disable:function(){this.switcher.disabled=!0,this._super()},getHTML:function(e){var t=this;if(null===e)return"<em>null</em>";if("object"==typeof e){var n="";return i(e,function(i,r){var o=t.getHTML(r);Array.isArray(e)||(o="<div><em>"+i+"</em>: "+o+"</div>"),n+="<li>"+o+"</li>"}),n=Array.isArray(e)?"<ol>"+n+"</ol>":"<ul style='margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0;'>"+n+"</ul>"}return"boolean"==typeof e?e?"true":"false":"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},setValue:function(e){this.value!==e&&(this.value=e,this.refreshValue(),this.jsoneditor.notifyWatchers(this.path))},destroy:function(){this.display_area&&this.display_area.parentNode&&this.display_area.parentNode.removeChild(this.display_area),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.switcher&&this.switcher.parentNode&&this.switcher.parentNode.removeChild(this.switcher),this._super()}}),o.defaults.editors.select=o.AbstractEditor.extend({setValue:function(e){e=this.typecast(e||"");var t=e;this.enum_values.indexOf(t)<0&&(t=this.enum_values[0]),this.value!==t&&(this.input.value=this.enum_options[this.enum_values.indexOf(t)],this.select2&&this.select2.select2("val",this.input.value),this.value=t,this.jsoneditor.notifyWatchers(this.path))},register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},getNumColumns:function(){if(!this.enum_options)return 3;for(var e=this.getTitle().length,t=0;t<this.enum_options.length;t++)e=Math.max(e,this.enum_options[t].length+4);return Math.min(12,Math.max(e/7,2))},typecast:function(e){return"boolean"===this.schema.type?!!e:"number"===this.schema.type?1*e:"integer"===this.schema.type?Math.floor(1*e):""+e},getValue:function(){return this.value},preBuild:function(){var e=this;if(this.input_type="select",this.enum_options=[],this.enum_values=[],this.enum_display=[],this.schema.enum){var t=this.schema.options&&this.schema.options.enum_titles||[];i(this.schema.enum,function(n,i){e.enum_options[n]=""+i,e.enum_display[n]=""+(t[n]||i),e.enum_values[n]=e.typecast(i)})}else if("boolean"===this.schema.type)e.enum_display=["true","false"],e.enum_options=["1",""],e.enum_values=[!0,!1];else{if(!this.schema.enumSource)throw"'select' editor requires the enum property to be set.";if(this.enumSource=[],this.enum_display=[],this.enum_options=[],this.enum_values=[],Array.isArray(this.schema.enumSource))for(s=0;s<this.schema.enumSource.length;s++)this.enumSource[s]="string"==typeof this.schema.enumSource[s]?{source:this.schema.enumSource[s]}:Array.isArray(this.schema.enumSource[s])?this.schema.enumSource[s]:n({},this.schema.enumSource[s]);else this.enumSource=this.schema.enumValue?[{source:this.schema.enumSource,value:this.schema.enumValue}]:[{source:this.schema.enumSource}];for(s=0;s<this.enumSource.length;s++)this.enumSource[s].value&&(this.enumSource[s].value=this.jsoneditor.compileTemplate(this.enumSource[s].value,this.template_engine)),this.enumSource[s].title&&(this.enumSource[s].title=this.jsoneditor.compileTemplate(this.enumSource[s].title,this.template_engine)),this.enumSource[s].filter&&(this.enumSource[s].filter=this.jsoneditor.compileTemplate(this.enumSource[s].filter,this.template_engine))}},build:function(){var e=this;this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.compact&&this.container.setAttribute("class",this.container.getAttribute("class")+" compact"),this.input=this.theme.getSelectInput(this.enum_options),this.theme.setSelectOptions(this.input,this.enum_options,this.enum_display),(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0),this.input.addEventListener("change",function(t){t.preventDefault(),t.stopPropagation(),e.onInputChange()}),this.control=this.theme.getFormControl(this.label,this.input,this.description),this.container.appendChild(this.control),this.value=this.enum_values[0]},onInputChange:function(){var e=this.input.value;-1===this.enum_options.indexOf(e)&&this.enum_options[0],this.value=this.enum_values[this.enum_options.indexOf(e)],this.watch_listener(),this.notify(),this.parent?this.parent.onChildEditorChange(this):this.jsoneditor.onChange()},setupSelect2:function(){if(window.jQuery&&window.jQuery.fn&&window.jQuery.fn.select2&&(this.enum_options.length>2||this.enum_options.length&&this.enumSource)){var e=n({},o.plugins.select2);this.schema.options&&this.schema.options.select2_options&&(e=n(e,this.schema.options.select2_options)),this.select2=window.jQuery(this.input).select2(e);var t=this;this.select2.on("select2-blur",function(){t.input.value=t.select2.select2("val"),t.onInputChange()})}else this.select2=null},postBuild:function(){this._super(),this.theme.afterInputReady(this.input),this.setupSelect2()},onWatchedFieldChange:function(){var e,t;if(this.enumSource){e=this.getWatchedFieldValues();for(var n=[],i=[],r=0;r<this.enumSource.length;r++)if(Array.isArray(this.enumSource[r]))n=n.concat(this.enumSource[r]),i=i.concat(this.enumSource[r]);else if(e[this.enumSource[r].source]){var o=e[this.enumSource[r].source];if(this.enumSource[r].slice&&(o=Array.prototype.slice.apply(o,this.enumSource[r].slice)),this.enumSource[r].filter){var s=[];for(t=0;t<o.length;t++)this.enumSource[r].filter({i:t,item:o[t]})&&s.push(o[t]);o=s}var a=[],l=[];for(t=0;t<o.length;t++){var u=o[t];l[t]=this.enumSource[r].value?this.enumSource[r].value({i:t,item:u}):o[t],a[t]=this.enumSource[r].title?this.enumSource[r].title({i:t,item:u}):l[t]}n=n.concat(l),i=i.concat(a)}var c=this.value;this.theme.setSelectOptions(this.input,n,i),this.enum_options=n,this.enum_display=i,this.enum_values=n,this.select2&&this.select2.select2("destroy"),-1!==n.indexOf(c)?(this.input.value=c,this.value=c):(this.input.value=n[0],this.value=n[0]||"",this.parent?this.parent.onChildEditorChange(this):this.jsoneditor.onChange(),this.jsoneditor.notifyWatchers(this.path)),this.setupSelect2()}},enable:function(){this.always_disabled||(this.input.disabled=!1,this.select2&&this.select2.select2("enable",!0)),this._super()},disable:function(){this.input.disabled=!0,this.select2&&this.select2.select2("enable",!1),this._super()},destroy:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.select2&&(this.select2.select2("destroy"),this.select2=null),this._super()}}),o.defaults.editors.multiselect=o.AbstractEditor.extend({preBuild:function(){this._super(),this.select_options={},this.select_values={};var e=this.jsoneditor.expandRefs(this.schema.items||{}),t=e.enum||[];for(this.option_keys=[],s=0;s<t.length;s++)this.sanitize(t[s])===t[s]&&(this.option_keys.push(t[s]+""),this.select_values[t[s]+""]=t[s])},build:function(){var e,t=this;if(this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),!this.schema.format&&this.option_keys.length<8||"checkbox"===this.schema.format){for(this.input_type="checkboxes",this.inputs={},this.controls={},e=0;e<this.option_keys.length;e++){this.inputs[this.option_keys[e]]=this.theme.getCheckbox(),this.select_options[this.option_keys[e]]=this.inputs[this.option_keys[e]];var n=this.theme.getCheckboxLabel(this.option_keys[e]);this.controls[this.option_keys[e]]=this.theme.getFormControl(n,this.inputs[this.option_keys[e]])}this.control=this.theme.getMultiCheckboxHolder(this.controls,this.label,this.description)}else{for(this.input_type="select",this.input=this.theme.getSelectInput(this.option_keys),this.input.multiple=!0,this.input.size=Math.min(10,this.option_keys.length),e=0;e<this.option_keys.length;e++)this.select_options[this.option_keys[e]]=this.input.children[e];(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0),this.control=this.theme.getFormControl(this.label,this.input,this.description)}this.container.appendChild(this.control),this.control.addEventListener("change",function(n){n.preventDefault(),n.stopPropagation();var i=[];for(e=0;e<t.option_keys.length;e++)(t.select_options[t.option_keys[e]].selected||t.select_options[t.option_keys[e]].checked)&&i.push(t.select_values[t.option_keys[e]]);t.updateValue(i),t.parent?t.parent.onChildEditorChange(t):t.jsoneditor.onChange(),t.jsoneditor.notifyWatchers(t.path)})},setValue:function(e){var t;for(e=e||[],"object"!=typeof e?e=[e]:Array.isArray(e)||(e=[]),t=0;t<e.length;t++)"string"!=typeof e[t]&&(e[t]+="");for(t in this.select_options)this.select_options.hasOwnProperty(t)&&(this.select_options[t]["select"===this.input_type?"selected":"checked"]=-1!==e.indexOf(t));this.updateValue(e)&&(this.parent?this.onChildEditorChange(this):this.jsoneditor.onChange()),this.jsoneditor.notifyWatchers(this.path)},register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},getNumColumns:function(){var e=this.getTitle().length;for(var t in this.select_values)this.select_values.hasOwnProperty(t)&&(e=Math.max(e,(this.select_values[t]+"").length+4));return Math.min(12,Math.max(e/7,2))},updateValue:function(e){for(var t=!1,n=[],i=0;i<e.length;i++)if(this.select_options[e[i]+""]){var r=this.sanitize(this.select_values[e[i]]);n.push(r),r!==e[i]&&(t=!0)}else t=!0;return this.value=n,t},sanitize:function(e){return"number"===this.schema.items.type?1*e:"integer"===this.schema.items.type?Math.floor(1*e):""+e},enable:function(){if(!this.always_disabled)if(this.input)this.input.disabled=!1;else if(this.inputs)for(var e in this.inputs)this.inputs.hasOwnProperty(e)&&(this.inputs[e].disabled=!1);this._super()},disable:function(){if(this.input)this.input.disabled=!0;else if(this.inputs)for(var e in this.inputs)this.inputs.hasOwnProperty(e)&&(this.inputs[e].disabled=!0);this._super()}}),o.defaults.editors.base64=o.AbstractEditor.extend({getNumColumns:function(){return 4},build:function(){var e=this;if(this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.input=this.theme.getFormInputField("hidden"),this.container.appendChild(this.input),!this.schema.readOnly&&!this.schema.readonly){if(!window.FileReader)throw"FileReader required for base64 editor";this.uploader=this.theme.getFormInputField("file"),this.uploader.addEventListener("change",function(t){if(t.preventDefault(),t.stopPropagation(),this.files&&this.files.length){var n=new FileReader;n.onload=function(t){e.value=t.target.result,e.refreshPreview(),e.watch_listener(),e.jsoneditor.notifyWatchers(e.path),e.parent?e.parent.onChildEditorChange(e):e.jsoneditor.onChange(),n=null},n.readAsDataURL(this.files[0])}})}this.preview=this.theme.getFormInputDescription(this.schema.description),this.container.appendChild(this.preview),this.control=this.theme.getFormControl(this.label,this.uploader||this.input,this.preview),this.container.appendChild(this.control)},refreshPreview:function(){if(this.last_preview!==this.value&&(this.last_preview=this.value,this.preview.innerHTML="",this.value)){var e=this.value.match(/^data:([^;,]+)[;,]/);if(e&&(e=e[1]),e){if(this.preview.innerHTML="<strong>Type:</strong> "+e+", <strong>Size:</strong> "+Math.floor((this.value.length-this.value.split(",")[0].length-1)/1.33333)+" bytes","image"===e.substr(0,5)){this.preview.innerHTML+="<br>";var t=document.createElement("img");t.style.maxWidth="100%",t.style.maxHeight="100px",t.src=this.value,this.preview.appendChild(t)}}else this.preview.innerHTML="<em>Invalid data URI</em>"}},enable:function(){this.uploader&&(this.uploader.disabled=!1),this._super()},disable:function(){this.uploader&&(this.uploader.disabled=!0),this._super()},setValue:function(e){this.value!==e&&(this.value=e,this.input.value=this.value,this.refreshPreview(),this.watch_listener(),this.jsoneditor.notifyWatchers(this.path))},destroy:function(){this.preview&&this.preview.parentNode&&this.preview.parentNode.removeChild(this.preview),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.uploader&&this.uploader.parentNode&&this.uploader.parentNode.removeChild(this.uploader),this._super()}}),o.defaults.editors.upload=o.AbstractEditor.extend({getNumColumns:function(){return 4},build:function(){var e=this;if(this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.input=this.theme.getFormInputField("hidden"),this.container.appendChild(this.input),!this.schema.readOnly&&!this.schema.readonly){if(!this.jsoneditor.options.upload)throw"Upload handler required for upload editor";this.uploader=this.theme.getFormInputField("file"),this.uploader.addEventListener("change",function(t){if(t.preventDefault(),t.stopPropagation(),this.files&&this.files.length){var n=new FileReader;n.onload=function(t){e.preview_value=t.target.result,e.refreshPreview(),n=null},n.readAsDataURL(this.files[0])}})}var t=this.schema.description;t||(t=""),this.preview=this.theme.getFormInputDescription(t),this.container.appendChild(this.preview),this.control=this.theme.getFormControl(this.label,this.uploader||this.input,this.preview),this.container.appendChild(this.control)},refreshPreview:function(){if(this.last_preview!==this.preview_value&&(this.last_preview=this.preview_value,this.preview.innerHTML="",this.preview_value)){var e=this,t=this.preview_value.match(/^data:([^;,]+)[;,]/);t&&(t=t[1]),t||(t="unknown");var n=this.uploader.files[0];if(this.preview.innerHTML="<strong>Type:</strong> "+t+", <strong>Size:</strong> "+n.size+" bytes","image"===t.substr(0,5)){this.preview.innerHTML+="<br>";var i=document.createElement("img");i.style.maxWidth="100%",i.style.maxHeight="100px",i.src=this.preview_value,this.preview.appendChild(i)}this.preview.innerHTML+="<br>";var r=this.getButton("Upload","upload","Upload");this.preview.appendChild(r),r.addEventListener("click",function(t){t.preventDefault(),r.setAttribute("disabled","disabled"),e.theme.removeInputError(e.uploader),e.theme.getProgressBar&&(e.progressBar=e.theme.getProgressBar(),e.preview.appendChild(e.progressBar)),e.jsoneditor.options.upload(e.path,n,{success:function(t){e.setValue(t),e.parent?e.parent.onChildEditorChange(e):e.jsoneditor.onChange(),e.progressBar&&e.preview.removeChild(e.progressBar),r.removeAttribute("disabled")},failure:function(t){e.theme.addInputError(e.uploader,t),e.progressBar&&e.preview.removeChild(e.progressBar),r.removeAttribute("disabled")},updateProgress:function(t){e.progressBar&&(t?e.theme.updateProgressBar(e.progressBar,t):e.theme.updateProgressBarUnknown(e.progressBar))}})})}},enable:function(){this.uploader&&(this.uploader.disabled=!1),this._super()},disable:function(){this.uploader&&(this.uploader.disabled=!0),this._super()},setValue:function(e){this.value!==e&&(this.value=e,this.input.value=this.value,this.watch_listener(),this.jsoneditor.notifyWatchers(this.path))},destroy:function(){this.preview&&this.preview.parentNode&&this.preview.parentNode.removeChild(this.preview),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.uploader&&this.uploader.parentNode&&this.uploader.parentNode.removeChild(this.uploader),this._super()}}),o.AbstractTheme=e.extend({getContainer:function(){return document.createElement("div")},getFloatRightLinkHolder:function(){var e=document.createElement("div");return e.style=e.style||{},e.style.cssFloat="right",e.style.marginLeft="10px",e},getModal:function(){var e=document.createElement("div");return e.style.backgroundColor="white",e.style.border="1px solid black",e.style.boxShadow="3px 3px black",e.style.position="absolute",e.style.zIndex="10",e.style.display="none",e},getGridContainer:function(){return document.createElement("div")},getGridRow:function(){var e=document.createElement("div");return e.className="row",e},getGridColumn:function(){return document.createElement("div")},setGridColumnSize:function(){},getLink:function(e){var t=document.createElement("a");return t.setAttribute("href","#"),t.appendChild(document.createTextNode(e)),t},disableHeader:function(e){e.style.color="#ccc"},disableLabel:function(e){e.style.color="#ccc"},enableHeader:function(e){e.style.color=""},enableLabel:function(e){e.style.color=""},getFormInputLabel:function(e){var t=document.createElement("label");return t.appendChild(document.createTextNode(e)),t},getCheckboxLabel:function(e){var t=this.getFormInputLabel(e);return t.style.fontWeight="normal",t},getHeader:function(e){var t=document.createElement("h3");return"string"==typeof e?t.textContent=e:t.appendChild(e),t},getCheckbox:function(){var e=this.getFormInputField("checkbox");return e.style.display="inline-block",e.style.width="auto",e},getMultiCheckboxHolder:function(e,t,n){var i=document.createElement("div");t&&(t.style.display="block",i.appendChild(t));for(var r in e)e.hasOwnProperty(r)&&(e[r].style.display="inline-block",e[r].style.marginRight="20px",i.appendChild(e[r]));return n&&i.appendChild(n),i},getSelectInput:function(e){var t=document.createElement("select");return e&&this.setSelectOptions(t,e),t},getSwitcher:function(e){var t=this.getSelectInput(e);return t.style.backgroundColor="transparent",t.style.height="auto",t.style.fontStyle="italic",t.style.fontWeight="normal",t.style.padding="0 0 0 3px",t},getSwitcherOptions:function(e){return e.getElementsByTagName("option")},setSwitcherOptions:function(e,t,n){this.setSelectOptions(e,t,n)},setSelectOptions:function(e,t,n){n=n||[],e.innerHTML="";for(var i=0;i<t.length;i++){var r=document.createElement("option");r.setAttribute("value",t[i]),r.textContent=n[i]||t[i],e.appendChild(r)}},getTextareaInput:function(){var e=document.createElement("textarea");return e.style=e.style||{},e.style.width="100%",e.style.height="300px",e.style.boxSizing="border-box",e},getRangeInput:function(e,t,n){var i=this.getFormInputField("range");return i.setAttribute("min",e),i.setAttribute("max",t),i.setAttribute("step",n),i},getFormInputField:function(e){var t=document.createElement("input");return t.setAttribute("type",e),t},afterInputReady:function(){},getFormControl:function(e,t,n){var i=document.createElement("div");return i.className="form-control",e&&i.appendChild(e),"checkbox"===t.type?e.insertBefore(t,e.firstChild):i.appendChild(t),n&&i.appendChild(n),i},getIndentedPanel:function(){var e=document.createElement("div");return e.style=e.style||{},e.style.paddingLeft="10px",e.style.marginLeft="10px",e.style.borderLeft="1px solid #ccc",e},getChildEditorHolder:function(){return document.createElement("div")},getDescription:function(e){var t=document.createElement("p");return t.appendChild(document.createTextNode(e)),t},getCheckboxDescription:function(e){return this.getDescription(e)},getFormInputDescription:function(e){return this.getDescription(e)},getHeaderButtonHolder:function(){return this.getButtonHolder()},getButtonHolder:function(){return document.createElement("div")},getButton:function(e,t,n){var i=document.createElement("button");return this.setButtonText(i,e,t,n),i},setButtonText:function(e,t,n,i){e.innerHTML="",n&&(e.appendChild(n),e.innerHTML+=" "),e.appendChild(document.createTextNode(t)),i&&e.setAttribute("title",i)},getTable:function(){return document.createElement("table")},getTableRow:function(){return document.createElement("tr")},getTableHead:function(){return document.createElement("thead")},getTableBody:function(){return document.createElement("tbody")},getTableHeaderCell:function(e){var t=document.createElement("th");return t.textContent=e,t},getTableCell:function(){return document.createElement("td")},getErrorMessage:function(e){var t=document.createElement("p");return t.style=t.style||{},t.style.color="red",t.appendChild(document.createTextNode(e)),t},addInputError:function(){},removeInputError:function(){},addTableRowError:function(){},removeTableRowError:function(){},getTabHolder:function(){var e=document.createElement("div");return e.innerHTML="<div style='float: left; width: 130px;' class='tabs'></div><div class='content' style='margin-left: 130px;'></div><div style='clear:both;'></div>",e},applyStyles:function(e,t){e.style=e.style||{};for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])},closest:function(e,t){for(var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;e&&e!==document;)try{if(n.bind(e)(t))return e;e=e.parentNode}catch(e){return!1}return!1},getTab:function(e){var t=document.createElement("div");return t.appendChild(e),t.style=t.style||{},this.applyStyles(t,{border:"1px solid #ccc",borderWidth:"1px 0 1px 1px",textAlign:"center",lineHeight:"30px",borderRadius:"5px",borderBottomRightRadius:0,borderTopRightRadius:0,fontWeight:"bold",cursor:"pointer"}),t},getTabContentHolder:function(e){return e.children[1]},getTabContent:function(){return this.getIndentedPanel()},markTabActive:function(e){this.applyStyles(e,{opacity:1,background:"white"})},markTabInactive:function(e){this.applyStyles(e,{opacity:.5,background:""})},addTab:function(e,t){e.children[0].appendChild(t)},getBlockLink:function(){var e=document.createElement("a");return e.style.display="block",e},getBlockLinkHolder:function(){return document.createElement("div")},getLinksHolder:function(){return document.createElement("div")},createMediaLink:function(e,t,n){e.appendChild(t),n.style.width="100%",e.appendChild(n)},createImageLink:function(e,t,n){e.appendChild(t),t.appendChild(n)}}),o.defaults.themes.bootstrap2=o.AbstractTheme.extend({getRangeInput:function(e,t,n){return this._super(e,t,n)},getGridContainer:function(){var e=document.createElement("div");return e.className="container-fluid",e},getGridRow:function(){var e=document.createElement("div");return e.className="row-fluid",e},getFormInputLabel:function(e){var t=this._super(e);return t.style.display="inline-block",t.style.fontWeight="bold",t},setGridColumnSize:function(e,t){e.className="span"+t},getSelectInput:function(e){var t=this._super(e);return t.style.width="auto",t.style.maxWidth="98%",t},getFormInputField:function(e){var t=this._super(e);return t.style.width="98%",t},afterInputReady:function(e){e.controlgroup||(e.controlgroup=this.closest(e,".control-group"),e.controls=this.closest(e,".controls"),this.closest(e,".compact")&&(e.controlgroup.className=e.controlgroup.className.replace(/control-group/g,"").replace(/[ ]{2,}/g," "),e.controls.className=e.controlgroup.className.replace(/controls/g,"").replace(/[ ]{2,}/g," "),e.style.marginBottom=0))},getIndentedPanel:function(){var e=document.createElement("div");return e.className="well well-small",e},getFormInputDescription:function(e){var t=document.createElement("p");return t.className="help-inline",t.textContent=e,t},getFormControl:function(e,t,n){var i=document.createElement("div");i.className="control-group";var r=document.createElement("div");return r.className="controls",e&&"checkbox"===t.getAttribute("type")?(i.appendChild(r),e.className+=" checkbox",e.appendChild(t),r.appendChild(e),r.style.height="30px"):(e&&(e.className+=" control-label",i.appendChild(e)),r.appendChild(t),i.appendChild(r)),n&&r.appendChild(n),i},getHeaderButtonHolder:function(){var e=this.getButtonHolder();return e.style.marginLeft="10px",e},getButtonHolder:function(){var e=document.createElement("div");return e.className="btn-group",e},getButton:function(e,t,n){var i=this._super(e,t,n);return i.className+=" btn btn-default",i},getTable:function(){var e=document.createElement("table");return e.className="table table-bordered",e.style.width="auto",e.style.maxWidth="none",e},addInputError:function(e,t){e.controlgroup&&e.controls&&(e.controlgroup.className+=" error",e.errmsg?e.errmsg.style.display="":(e.errmsg=document.createElement("p"),e.errmsg.className="help-block errormsg",e.controls.appendChild(e.errmsg)),e.errmsg.textContent=t)},removeInputError:function(e){e.errmsg&&(e.errmsg.style.display="none",e.controlgroup.className=e.controlgroup.className.replace(/\s?error/g,""))},getTabHolder:function(){var e=document.createElement("div");return e.className="tabbable tabs-left",e.innerHTML="<ul class='nav nav-tabs span2' style='margin-right: 0;'></ul><div class='tab-content span10' style='overflow:visible;'></div>",e},getTab:function(e){var t=document.createElement("li"),n=document.createElement("a");return n.setAttribute("href","#"),n.appendChild(e),t.appendChild(n),t},getTabContentHolder:function(e){return e.children[1]},getTabContent:function(){var e=document.createElement("div");return e.className="tab-pane active",e},markTabActive:function(e){e.className+=" active"},markTabInactive:function(e){e.className=e.className.replace(/\s?active/g,"")},addTab:function(e,t){e.children[0].appendChild(t)},getProgressBar:function(){var e=document.createElement("div");e.className="progress";var t=document.createElement("div");return t.className="bar",t.style.width="0%",e.appendChild(t),e},updateProgressBar:function(e,t){e&&(e.firstChild.style.width=t+"%")},updateProgressBarUnknown:function(e){e&&(e.className="progress progress-striped active",e.firstChild.style.width="100%")}}),o.defaults.themes.bootstrap3=o.AbstractTheme.extend({getSelectInput:function(e){var t=this._super(e);return t.className+="form-control",t},setGridColumnSize:function(e,t){e.className="col-md-"+t},afterInputReady:function(e){e.controlgroup||(e.controlgroup=this.closest(e,".form-group"),this.closest(e,".compact")&&(e.controlgroup.style.marginBottom=0))},getTextareaInput:function(){var e=document.createElement("textarea");return e.className="form-control",e},getRangeInput:function(e,t,n){return this._super(e,t,n)},getFormInputField:function(e){var t=this._super(e);return"checkbox"!==e&&(t.className+="form-control"),t},getFormControl:function(e,t,n){var i=document.createElement("div");return e&&"checkbox"===t.type?(i.className+=" checkbox",e.appendChild(t),e.style.fontSize="14px",i.style.marginTop="0",i.appendChild(e),t.style.position="relative",t.style.cssFloat="left"):(i.className+=" form-group",e&&(e.className+=" control-label",i.appendChild(e)),i.appendChild(t)),n&&i.appendChild(n),i},getIndentedPanel:function(){var e=document.createElement("div");return e.className="well well-sm",e},getFormInputDescription:function(e){var t=document.createElement("p");return t.className="help-block",t.textContent=e,t},getHeaderButtonHolder:function(){var e=this.getButtonHolder();return e.style.marginLeft="10px",e},getButtonHolder:function(){var e=document.createElement("div");return e.className="btn-group",e},getButton:function(e,t,n){var i=this._super(e,t,n);return i.className+="btn btn-default",i},getTable:function(){var e=document.createElement("table");return e.className="table table-bordered",e.style.width="auto",e.style.maxWidth="none",e},addInputError:function(e,t){e.controlgroup&&(e.controlgroup.className+=" has-error",e.errmsg?e.errmsg.style.display="":(e.errmsg=document.createElement("p"),e.errmsg.className="help-block errormsg",e.controlgroup.appendChild(e.errmsg)),e.errmsg.textContent=t)},removeInputError:function(e){e.errmsg&&(e.errmsg.style.display="none",e.controlgroup.className=e.controlgroup.className.replace(/\s?has-error/g,""))},getTabHolder:function(){var e=document.createElement("div");return e.innerHTML="<div class='tabs list-group col-md-2'></div><div class='col-md-10'></div>",e.className="rows",e},getTab:function(e){var t=document.createElement("a");return t.className="list-group-item",t.setAttribute("href","#"),t.appendChild(e),t},markTabActive:function(e){e.className+=" active"},markTabInactive:function(e){e.className=e.className.replace(/\s?active/g,"")},getProgressBar:function(){var e=document.createElement("div");e.className="progress";var t=document.createElement("div");return t.className="progress-bar",t.setAttribute("role","progressbar"),t.setAttribute("aria-valuenow",0),t.setAttribute("aria-valuemin",0),t.setAttribute("aria-valuenax",100),t.innerHTML="0%",e.appendChild(t),e},updateProgressBar:function(e,t){if(e){var n=e.firstChild,i=t+"%";n.setAttribute("aria-valuenow",t),n.style.width=i,n.innerHTML=i}},updateProgressBarUnknown:function(e){if(e){var t=e.firstChild;e.className="progress progress-striped active",t.removeAttribute("aria-valuenow"),t.style.width="100%",t.innerHTML=""}}}),o.defaults.themes.foundation=o.AbstractTheme.extend({getChildEditorHolder:function(){var e=document.createElement("div");return e.style.marginBottom="15px",e},
getSelectInput:function(e){var t=this._super(e);return t.style.minWidth="none",t.style.padding="5px",t.style.marginTop="3px",t},getSwitcher:function(e){var t=this._super(e);return t.style.paddingRight="8px",t},afterInputReady:function(e){this.closest(e,".compact")&&(e.style.marginBottom=0),e.group=this.closest(e,".form-control")},getFormInputLabel:function(e){var t=this._super(e);return t.style.display="inline-block",t},getFormInputField:function(e){var t=this._super(e);return t.style.width="100%",t.style.marginBottom="checkbox"===e?"0":"12px",t},getFormInputDescription:function(e){var t=document.createElement("p");return t.textContent=e,t.style.marginTop="-10px",t.style.fontStyle="italic",t},getIndentedPanel:function(){var e=document.createElement("div");return e.className="panel",e},getHeaderButtonHolder:function(){var e=this.getButtonHolder();return e.style.display="inline-block",e.style.marginLeft="10px",e.style.verticalAlign="middle",e},getButtonHolder:function(){var e=document.createElement("div");return e.className="button-group",e},getButton:function(e,t,n){var i=this._super(e,t,n);return i.className+=" small button",i},addInputError:function(e,t){e.group&&(e.group.className+=" error",e.errmsg?e.errmsg.style.display="":(e.insertAdjacentHTML("afterend",'<small class="errormsg"></small>'),e.errmsg=e.parentNode.getElementsByClassName("errormsg")[0]),e.errmsg.textContent=t)},removeInputError:function(e){e.errmsg&&(e.group.className=e.group.className.replace(/ error/g,""),e.errmsg.style.display="none")},getProgressBar:function(){var e=document.createElement("div");e.className="progress";var t=document.createElement("span");return t.className="meter",t.style.width="0%",e.appendChild(t),e},updateProgressBar:function(e,t){e&&(e.firstChild.style.width=t+"%")},updateProgressBarUnknown:function(e){e&&(e.firstChild.style.width="100%")}}),o.defaults.themes.foundation3=o.defaults.themes.foundation.extend({getHeaderButtonHolder:function(){var e=this._super();return e.style.fontSize=".6em",e},getFormInputLabel:function(e){var t=this._super(e);return t.style.fontWeight="bold",t},getTabHolder:function(){var e=document.createElement("div");return e.className="row",e.innerHTML="<dl class='tabs vertical two columns'></dl><div class='tabs-content ten columns'></div>",e},setGridColumnSize:function(e,t){var n=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve"];e.className="columns "+n[t]},getTab:function(e){var t=document.createElement("dd"),n=document.createElement("a");return n.setAttribute("href","#"),n.appendChild(e),t.appendChild(n),t},getTabContentHolder:function(e){return e.children[1]},getTabContent:function(){var e=document.createElement("div");return e.className="content active",e.style.paddingLeft="5px",e},markTabActive:function(e){e.className+=" active"},markTabInactive:function(e){e.className=e.className.replace(/\s*active/g,"")},addTab:function(e,t){e.children[0].appendChild(t)}}),o.defaults.themes.foundation4=o.defaults.themes.foundation.extend({getHeaderButtonHolder:function(){var e=this._super();return e.style.fontSize=".6em",e},setGridColumnSize:function(e,t){e.className="columns large-"+t},getFormInputDescription:function(e){var t=this._super(e);return t.style.fontSize=".8rem",t},getFormInputLabel:function(e){var t=this._super(e);return t.style.fontWeight="bold",t}}),o.defaults.themes.foundation5=o.defaults.themes.foundation.extend({getFormInputDescription:function(e){var t=this._super(e);return t.style.fontSize=".8rem",t},setGridColumnSize:function(e,t){e.className="columns medium-"+t},getButton:function(e,t,n){var i=this._super(e,t,n);return i.className=i.className.replace(/\s*small/g,"")+" tiny",i},getTabHolder:function(){var e=document.createElement("div");return e.innerHTML="<dl class='tabs vertical'></dl><div class='tabs-content'></div>",e},getTab:function(e){var t=document.createElement("dd"),n=document.createElement("a");return n.setAttribute("href","#"),n.appendChild(e),t.appendChild(n),t},getTabContentHolder:function(e){return e.children[1]},getTabContent:function(){var e=document.createElement("div");return e.className="content active",e.style.paddingLeft="5px",e},markTabActive:function(e){e.className+=" active"},markTabInactive:function(e){e.className=e.className.replace(/\s*active/g,"")},addTab:function(e,t){e.children[0].appendChild(t)}}),o.defaults.themes.html=o.AbstractTheme.extend({getFormInputLabel:function(e){var t=this._super(e);return t.style.display="block",t.style.marginBottom="3px",t.style.fontWeight="bold",t},getFormInputDescription:function(e){var t=this._super(e);return t.style.fontSize=".8em",t.style.margin=0,t.style.display="inline-block",t.style.fontStyle="italic",t},getIndentedPanel:function(){var e=this._super();return e.style.border="1px solid #ddd",e.style.padding="5px",e.style.margin="5px",e.style.borderRadius="3px",e},getChildEditorHolder:function(){var e=this._super();return e.style.marginBottom="8px",e},getHeaderButtonHolder:function(){var e=this.getButtonHolder();return e.style.display="inline-block",e.style.marginLeft="10px",e.style.fontSize=".8em",e.style.verticalAlign="middle",e},getTable:function(){var e=this._super();return e.style.borderBottom="1px solid #ccc",e.style.marginBottom="5px",e},addInputError:function(e,t){if(e.style.borderColor="red",e.errmsg)e.errmsg.style.display="block";else{var n=this.closest(e,".form-control");e.errmsg=document.createElement("div"),e.errmsg.setAttribute("class","errmsg"),e.errmsg.style=e.errmsg.style||{},e.errmsg.style.color="red",n.appendChild(e.errmsg)}e.errmsg.innerHTML="",e.errmsg.appendChild(document.createTextNode(t))},removeInputError:function(e){e.style.borderColor="",e.errmsg&&(e.errmsg.style.display="none")},getProgressBar:function(){var e=document.createElement("progress");return e.setAttribute("max",100),e.setAttribute("value",0),e},updateProgressBar:function(e,t){e&&e.setAttribute("value",t)},updateProgressBarUnknown:function(e){e&&e.removeAttribute("value")}}),o.defaults.themes.jqueryui=o.AbstractTheme.extend({getTable:function(){var e=this._super();return e.setAttribute("cellpadding",5),e.setAttribute("cellspacing",0),e},getTableHeaderCell:function(e){var t=this._super(e);return t.className="ui-state-active",t.style.fontWeight="bold",t},getTableCell:function(){var e=this._super();return e.className="ui-widget-content",e},getHeaderButtonHolder:function(){var e=this.getButtonHolder();return e.style.marginLeft="10px",e.style.fontSize=".6em",e.style.display="inline-block",e},getFormInputDescription:function(e){var t=this.getDescription(e);return t.style.marginLeft="10px",t.style.display="inline-block",t},getFormControl:function(e,t,n){var i=this._super(e,t,n);return"checkbox"===t.type?(i.style.lineHeight="25px",i.style.padding="3px 0"):i.style.padding="4px 0 8px 0",i},getDescription:function(e){var t=document.createElement("span");return t.style.fontSize=".8em",t.style.fontStyle="italic",t.textContent=e,t},getButtonHolder:function(){var e=document.createElement("div");return e.className="ui-buttonset",e.style.fontSize=".7em",e},getFormInputLabel:function(e){var t=document.createElement("label");return t.style.fontWeight="bold",t.style.display="block",t.textContent=e,t},getButton:function(e,t,n){var i=document.createElement("button");i.className="ui-button ui-widget ui-state-default ui-corner-all",t&&!e?(i.className+=" ui-button-icon-only",t.className+=" ui-button-icon-primary ui-icon-primary",i.appendChild(t)):t?(i.className+=" ui-button-text-icon-primary",t.className+=" ui-button-icon-primary ui-icon-primary",i.appendChild(t)):i.className+=" ui-button-text-only";var r=document.createElement("span");return r.className="ui-button-text",r.textContent=e||n||".",i.appendChild(r),i.setAttribute("title",n),i},setButtonText:function(e,t,n,i){e.innerHTML="",e.className="ui-button ui-widget ui-state-default ui-corner-all",n&&!t?(e.className+=" ui-button-icon-only",n.className+=" ui-button-icon-primary ui-icon-primary",e.appendChild(n)):n?(e.className+=" ui-button-text-icon-primary",n.className+=" ui-button-icon-primary ui-icon-primary",e.appendChild(n)):e.className+=" ui-button-text-only";var r=document.createElement("span");r.className="ui-button-text",r.textContent=t||i||".",e.appendChild(r),e.setAttribute("title",i)},getIndentedPanel:function(){var e=document.createElement("div");return e.className="ui-widget-content ui-corner-all",e.style.padding="1em 1.4em",e.style.marginBottom="20px",e},afterInputReady:function(e){e.controls||(e.controls=this.closest(e,".form-control"))},addInputError:function(e,t){e.controls&&(e.errmsg?e.errmsg.style.display="":(e.errmsg=document.createElement("div"),e.errmsg.className="ui-state-error",e.controls.appendChild(e.errmsg)),e.errmsg.textContent=t)},removeInputError:function(e){e.errmsg&&(e.errmsg.style.display="none")},markTabActive:function(e){e.className=e.className.replace(/\s*ui-widget-header/g,"")+" ui-state-active"},markTabInactive:function(e){e.className=e.className.replace(/\s*ui-state-active/g,"")+" ui-widget-header"}}),o.AbstractIconLib=e.extend({mapping:{collapse:"",expand:"",delete:"",edit:"",add:"",cancel:"",save:"",moveup:"",movedown:""},icon_prefix:"",getIconClass:function(e){return this.mapping[e]?this.icon_prefix+this.mapping[e]:null},getIcon:function(e){var t=this.getIconClass(e);if(!t)return null;var n=document.createElement("i");return n.className=t,n}}),o.defaults.iconlibs.bootstrap2=o.AbstractIconLib.extend({mapping:{collapse:"chevron-down",expand:"chevron-up",delete:"trash",edit:"pencil",add:"plus",cancel:"ban-circle",save:"ok",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"icon-"}),o.defaults.iconlibs.bootstrap3=o.AbstractIconLib.extend({mapping:{collapse:"chevron-down",expand:"chevron-right",delete:"remove",edit:"pencil",add:"plus",cancel:"floppy-remove",save:"floppy-saved",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"glyphicon glyphicon-"}),o.defaults.iconlibs.fontawesome3=o.AbstractIconLib.extend({mapping:{collapse:"chevron-down",expand:"chevron-right",delete:"remove",edit:"pencil",add:"plus",cancel:"ban-circle",save:"save",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"icon-"}),o.defaults.iconlibs.fontawesome4=o.AbstractIconLib.extend({mapping:{collapse:"caret-square-o-down",expand:"caret-square-o-right",delete:"times",edit:"pencil",add:"plus",cancel:"ban",save:"save",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"fa fa-"}),o.defaults.iconlibs.foundation2=o.AbstractIconLib.extend({mapping:{collapse:"minus",expand:"plus",delete:"remove",edit:"edit",add:"add-doc",cancel:"error",save:"checkmark",moveup:"up-arrow",movedown:"down-arrow"},icon_prefix:"foundicon-"}),o.defaults.iconlibs.foundation3=o.AbstractIconLib.extend({mapping:{collapse:"minus",expand:"plus",delete:"x",edit:"pencil",add:"page-add",cancel:"x-circle",save:"save",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"fi-"}),o.defaults.iconlibs.jqueryui=o.AbstractIconLib.extend({mapping:{collapse:"triangle-1-s",expand:"triangle-1-e",delete:"trash",edit:"pencil",add:"plusthick",cancel:"closethick",save:"disk",moveup:"arrowthick-1-n",movedown:"arrowthick-1-s"},icon_prefix:"ui-icon ui-icon-"}),o.defaults.templates.default=function(){var e=function(t){var r={};return i(t,function(t,o){if("object"==typeof o&&null!==o){var s={};i(o,function(e,n){s[t+"."+e]=n}),n(r,e(s))}else r[t]=o}),r};return{compile:function(t){return function(n){var r=e(n),o=t+"";return i(r,function(e,t){o=o.replace(new RegExp("{{\\s*"+e+"\\s*}}","g"),t)}),o}}}},o.defaults.templates.ejs=function(){return!!window.EJS&&{compile:function(e){var t=new window.EJS({text:e});return function(e){return t.render(e)}}}},o.defaults.templates.handlebars=function(){return window.Handlebars},o.defaults.templates.hogan=function(){return!!window.Hogan&&{compile:function(e){var t=window.Hogan.compile(e);return function(e){return t.render(e)}}}},o.defaults.templates.markup=function(){return!(!window.Mark||!window.Mark.up)&&{compile:function(e){return function(t){return window.Mark.up(e,t)}}}},o.defaults.templates.mustache=function(){return!!window.Mustache&&{compile:function(e){return function(t){return window.Mustache.render(e,t)}}}},o.defaults.templates.swig=function(){return window.swig},o.defaults.templates.underscore=function(){return!!window._&&{compile:function(e){return function(t){return window._.template(e,t)}}}},o.defaults.theme="html",o.defaults.template="default",o.defaults.options={},o.defaults.translate=function(e,t){var n=o.defaults.languages[o.defaults.language];if(!n)throw"Unknown language "+o.defaults.language;var i=n[e]||o.defaults.languages[o.defaults.default_language][e];if(void 0===i)throw"Unknown translate string "+e;if(t)for(var r=0;r<t.length;r++)i=i.replace(new RegExp("\\{\\{"+r+"}}","g"),t[r]);return i},o.defaults.default_language="en",o.defaults.language=o.defaults.default_language,o.defaults.languages.en={error_notset:"Property must be set",error_notempty:"Value required",error_enum:"Value must be one of the enumerated values",error_anyOf:"Value must validate against at least one of the provided schemas",error_oneOf:"Value must validate against exactly one of the provided schemas. It currently validates against {{0}} of the schemas.",error_not:"Value must not validate against the provided schema",error_type_union:"Value must be one of the provided types",error_type:"Value must be of type {{0}}",error_disallow_union:"Value must not be one of the provided disallowed types",error_disallow:"Value must not be of type {{0}}",error_multipleOf:"Value must be a multiple of {{0}}",error_maximum_excl:"Value must be less than {{0}}",error_maximum_incl:"Value must at most {{0}}",error_minimum_excl:"Value must be greater than {{0}}",error_minimum_incl:"Value must be at least {{0}}",error_maxLength:"Value must be at most {{0}} characters long",error_minLength:"Value must be at least {{0}} characters long",error_pattern:"Value must match the provided pattern",error_additionalItems:"No additional items allowed in this array",error_maxItems:"Value must have at most {{0}} items",error_minItems:"Value must have at least {{0}} items",error_uniqueItems:"Array must have unique items",error_maxProperties:"Object must have at most {{0}} properties",error_minProperties:"Object must have at least {{0}} properties",error_required:"Object is missing the required property '{{0}}'",error_additional_properties:"No additional properties allowed, but property {{0}} is set",error_dependency:"Must have property {{0}}"},o.plugins={ace:{theme:""},epiceditor:{},sceditor:{},select2:{}};for(var s in o.defaults.editors)o.defaults.editors.hasOwnProperty(s)&&(o.defaults.editors[s].options=o.defaults.editors.options||{});o.defaults.resolvers.unshift(function(e){return"string"!=typeof e.type?"multiple":void 0}),o.defaults.resolvers.unshift(function(e){return"string"==typeof e.type?e.type:void 0}),o.defaults.resolvers.unshift(function(e){return"boolean"===e.type?"select":void 0}),o.defaults.resolvers.unshift(function(e){return"any"===e.type?"multiple":void 0}),o.defaults.resolvers.unshift(function(e){return"string"===e.type&&e.media&&"base64"===e.media.binaryEncoding?"base64":void 0}),o.defaults.resolvers.unshift(function(e){return"string"===e.type&&"url"===e.format&&e.options&&!0===e.options.upload&&window.FileReader?"upload":void 0}),o.defaults.resolvers.unshift(function(e){return"array"==e.type&&"table"==e.format?"table":void 0}),o.defaults.resolvers.unshift(function(e){return e.enumSource?"select":void 0}),o.defaults.resolvers.unshift(function(e){if(e.enum){if("array"===e.type||"object"===e.type)return"enum";if("number"===e.type||"integer"===e.type||"string"===e.type)return"select"}}),o.defaults.resolvers.unshift(function(e){return"array"===e.type&&e.items&&!Array.isArray(e.items)&&e.uniqueItems&&e.items.enum&&["string","number","integer"].indexOf(e.items.type)>=0?"multiselect":void 0}),o.defaults.resolvers.unshift(function(e){return e.oneOf?"multiple":void 0}),function(){if(window.jQuery||window.Zepto){var e=window.jQuery||window.Zepto;e.jsoneditor=o.defaults,e.fn.jsoneditor=function(e){var t=this,n=this.data("jsoneditor");if("value"===e){if(!n)throw"Must initialize jsoneditor before getting/setting the value";if(!(arguments.length>1))return n.getValue();n.setValue(arguments[1])}else{if("validate"===e){if(!n)throw"Must initialize jsoneditor before validating";return arguments.length>1?n.validate(arguments[1]):n.validate()}"destroy"===e?n&&(n.destroy(),this.data("jsoneditor",null)):(n&&n.destroy(),n=new o(this.get(0),e),this.data("jsoneditor",n),n.on("change",function(){t.trigger("change")}),n.on("ready",function(){t.trigger("ready")}))}return this}}}(),window.JSONEditor=o}(),define("jsonEditor",["handlebars"],function(e){return function(){var t;return t=function(e){return window.Handlebars=e,this.JSONEditor},t.apply(e,arguments)||e.JSONEditor}}(this)),jQuery.trumbowyg={langs:{en:{viewHTML:"View HTML",undo:"Undo",redo:"Redo",formatting:"Formatting",p:"Paragraph",blockquote:"Quote",code:"Code",header:"Header",bold:"Bold",italic:"Italic",strikethrough:"Stroke",underline:"Underline",strong:"Strong",em:"Emphasis",del:"Deleted",superscript:"Superscript",subscript:"Subscript",unorderedList:"Unordered list",orderedList:"Ordered list",insertImage:"Insert Image",link:"Link",createLink:"Insert link",unlink:"Remove link",justifyLeft:"Align Left",justifyCenter:"Align Center",justifyRight:"Align Right",justifyFull:"Align Justify",horizontalRule:"Insert horizontal rule",removeformat:"Remove format",fullscreen:"Fullscreen",close:"Close",submit:"Confirm",reset:"Cancel",required:"Required",description:"Description",title:"Title",text:"Text",target:"Target"}},plugins:{},svgPath:null},function(e,t,n,i){"use strict";i.fn.trumbowyg=function(e,t){var n="trumbowyg";if(e===Object(e)||!e)return this.each(function(){i(this).data(n)||i(this).data(n,new r(this,e))});if(1===this.length)try{var o=i(this).data(n);switch(e){case"execCmd":return o.execCmd(t.cmd,t.param,t.forceCss);case"openModal":return o.openModal(t.title,t.content);case"closeModal":return o.closeModal();case"openModalInsert":return o.openModalInsert(t.title,t.fields,t.callback);case"saveRange":return o.saveRange();case"getRange":return o.range;case"getRangeText":return o.getRangeText();case"restoreRange":return o.restoreRange();case"enable":return o.toggleDisable(!1);case"disable":return o.toggleDisable(!0);case"destroy":return o.destroy();case"empty":return o.empty();case"html":return o.html(t)}}catch(e){}return!1};var r=function(e,r){var o=this,s="trumbowyg-icons";o.doc=e.ownerDocument||n,o.$ta=i(e),o.$c=i(e),r=r||{},null!=r.lang||null!=i.trumbowyg.langs[r.lang]?o.lang=i.extend(!0,{},i.trumbowyg.langs.en,i.trumbowyg.langs[r.lang]):o.lang=i.trumbowyg.langs.en;var a=null!=i.trumbowyg.svgPath?i.trumbowyg.svgPath:r.svgPath;if(o.hasSvg=!1!==a,o.svgPath=o.doc.querySelector("base")?t.location.href.split("#")[0]:"",0===i("#"+s,o.doc).length&&!1!==a){if(null==a)try{throw new Error}catch(e){var l=e.stack.split("\n");for(var u in l)if(l[u].match(/http[s]?:\/\//)){a=l[Number(u)].match(/((http[s]?:\/\/.+\/)([^\/]+\.js))(\?.*)?:/)[1].split("/"),a.pop(),a=a.join("/")+"/ui/icons.svg";break}}var c=o.doc.createElement("div");c.id=s,o.doc.body.insertBefore(c,o.doc.body.childNodes[0]),i.ajax({async:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"xml",url:a,data:null,beforeSend:null,complete:null,success:function(e){c.innerHTML=(new XMLSerializer).serializeToString(e.documentElement)}})}var d=o.lang.header,h=function(){return(t.chrome||t.Intl&&Intl.v8BreakIterator)&&"CSS"in t};o.btnsDef={viewHTML:{fn:"toggle"},undo:{isSupported:h,key:"Z"},redo:{isSupported:h,key:"Y"},p:{fn:"formatBlock"},blockquote:{fn:"formatBlock"},h1:{fn:"formatBlock",title:d+" 1"},h2:{fn:"formatBlock",title:d+" 2"},h3:{fn:"formatBlock",title:d+" 3"},h4:{fn:"formatBlock",title:d+" 4"},subscript:{tag:"sub"},superscript:{tag:"sup"},bold:{key:"B",tag:"b"},italic:{key:"I",tag:"i"},underline:{tag:"u"},strikethrough:{tag:"strike"},strong:{fn:"bold",key:"B"},em:{fn:"italic",key:"I"},del:{fn:"strikethrough"},createLink:{key:"K",tag:"a"},unlink:{},insertImage:{},justifyLeft:{tag:"left",forceCss:!0},justifyCenter:{tag:"center",forceCss:!0},justifyRight:{tag:"right",forceCss:!0},justifyFull:{tag:"justify",forceCss:!0},unorderedList:{fn:"insertUnorderedList",tag:"ul"},orderedList:{fn:"insertOrderedList",tag:"ol"},horizontalRule:{fn:"insertHorizontalRule"},removeformat:{},fullscreen:{class:"trumbowyg-not-disable"},close:{fn:"destroy",class:"trumbowyg-not-disable"},formatting:{dropdown:["p","blockquote","h1","h2","h3","h4"],ico:"p"},link:{dropdown:["createLink","unlink"]}},o.o=i.extend(!0,{},{lang:"en",useComposition:!0,fixedBtnPane:!1,fixedFullWidth:!1,autogrow:!1,prefix:"trumbowyg-",semantic:!0,resetCss:!1,removeformatPasted:!1,tagsToRemove:[],btnsGrps:{design:["bold","italic","underline","strikethrough"],semantic:["strong","em","del"],justify:["justifyLeft","justifyCenter","justifyRight","justifyFull"],lists:["unorderedList","orderedList"]},btns:[["viewHTML"],["undo","redo"],["formatting"],"btnGrp-semantic",["superscript","subscript"],["link"],["insertImage"],"btnGrp-justify","btnGrp-lists",["horizontalRule"],["removeformat"],["fullscreen"]],btnsDef:{},inlineElementsSelector:"a,abbr,acronym,b,caption,cite,code,col,dfn,dir,dt,dd,em,font,hr,i,kbd,li,q,span,strikeout,strong,sub,sup,u",pasteHandlers:[],imgDblClickHandler:function(){var e=i(this),t=e.attr("src"),n="(Base64)";return 0===t.indexOf("data:image")&&(t=n),o.openModalInsert(o.lang.insertImage,{url:{label:"URL",value:t,required:!0},alt:{label:o.lang.description,value:e.attr("alt")}},function(t){return t.src!==n&&e.attr({src:t.src}),e.attr({alt:t.alt}),!0}),!1},plugins:{}},r),o.disabled=o.o.disabled||"TEXTAREA"===e.nodeName&&e.disabled,r.btns?o.o.btns=r.btns:o.o.semantic||(o.o.btns[4]="btnGrp-design"),i.each(o.o.btnsDef,function(e,t){o.addBtnDef(e,t)}),o.eventNamespace="trumbowyg-event",o.keys=[],o.tagToButton={},o.tagHandlers=[],o.pasteHandlers=[].concat(o.o.pasteHandlers),o.init()};r.prototype={init:function(){var e=this;e.height=e.$ta.height(),e.initPlugins();try{e.doc.execCommand("enableObjectResizing",!1,!1),e.doc.execCommand("defaultParagraphSeparator",!1,"p")}catch(e){}e.buildEditor(),e.buildBtnPane(),e.fixedBtnPaneEvents(),e.buildOverlay(),setTimeout(function(){e.disabled&&e.toggleDisable(!0),e.$c.trigger("tbwinit")})},addBtnDef:function(e,t){this.btnsDef[e]=t},buildEditor:function(){var e=this,n=e.o.prefix,r="";e.$box=i("<div/>",{class:n+"box "+n+"editor-visible "+n+e.o.lang+" trumbowyg"}),e.isTextarea=e.$ta.is("textarea"),e.isTextarea?(r=e.$ta.val(),e.$ed=i("<div/>"),e.$box.insertAfter(e.$ta).append(e.$ed,e.$ta)):(e.$ed=e.$ta,r=e.$ed.html(),e.$ta=i("<textarea/>",{name:e.$ta.attr("id"),height:e.height}).val(r),e.$box.insertAfter(e.$ed).append(e.$ta,e.$ed),e.syncCode()),e.$ta.addClass(n+"textarea").attr("tabindex",-1),e.$ed.addClass(n+"editor").attr({contenteditable:!0,dir:e.lang._dir||"ltr"}).html(r),e.o.tabindex&&e.$ed.attr("tabindex",e.o.tabindex),e.$c.is("[placeholder]")&&e.$ed.attr("placeholder",e.$c.attr("placeholder")),e.o.resetCss&&e.$ed.addClass(n+"reset-css"),e.o.autogrow||e.$ta.add(e.$ed).css({height:e.height}),e.semanticCode();var o,s=!1,a=!1;e.$ed.on("dblclick","img",e.o.imgDblClickHandler).on("keydown",function(t){if(a=e.o.useComposition&&229===t.which,t.ctrlKey){s=!0;var n=e.keys[String.fromCharCode(t.which).toUpperCase()];try{return e.execCmd(n.fn,n.param),!1}catch(e){}}}).on("keyup input",function(t){t.which>=37&&t.which<=40||(!t.ctrlKey||89!==t.which&&90!==t.which?s||17===t.which||a||(e.semanticCode(!1,13===t.which),e.$c.trigger("tbwchange")):e.$c.trigger("tbwchange"),setTimeout(function(){s=!1},200))}).on("mouseup keydown keyup",function(){clearTimeout(o),o=setTimeout(function(){e.updateButtonPaneStatus()},50)}).on("focus blur",function(t){e.$c.trigger("tbw"+t.type),"blur"===t.type&&i("."+n+"active-button",e.$btnPane).removeClass(n+"active-button "+n+"active")}).on("cut",function(){setTimeout(function(){e.semanticCode(!1,!0),e.$c.trigger("tbwchange")},0)}).on("paste",function(n){if(e.o.removeformatPasted){n.preventDefault();try{var r=t.clipboardData.getData("Text");try{e.doc.selection.createRange().pasteHTML(r)}catch(t){e.doc.getSelection().getRangeAt(0).insertNode(e.doc.createTextNode(r))}}catch(t){e.execCmd("insertText",(n.originalEvent||n).clipboardData.getData("text/plain"))}}i.each(e.pasteHandlers,function(e,t){t(n)}),setTimeout(function(){e.semanticCode(!1,!0),e.$c.trigger("tbwpaste",n)},0)}),e.$ta.on("keyup paste",function(){e.$c.trigger("tbwchange")}),e.$box.on("keydown",function(t){return 27===t.which&&1===i("."+n+"modal-box",e.$box).length?(e.closeModal(),!1):void 0})},buildBtnPane:function(){var e=this,t=e.o.prefix,n=e.$btnPane=i("<div/>",{class:t+"button-pane"});i.each(e.o.btns,function(r,o){try{var s=o.split("btnGrp-");null!=s[1]&&(o=e.o.btnsGrps[s[1]])}catch(e){}i.isArray(o)||(o=[o]);var a=i("<div/>",{class:t+"button-group "+(o.indexOf("fullscreen")>=0?t+"right":"")});i.each(o,function(t,n){try{var i;e.isSupportedBtn(n)&&(i=e.buildBtn(n)),a.append(i)}catch(e){}}),n.append(a)}),e.$box.prepend(n)},buildBtn:function(e){var t=this,n=t.o.prefix,r=t.btnsDef[e],o=r.dropdown,s=null==r.hasIcon||r.hasIcon,a=t.lang[e]||e,l=i("<button/>",{type:"button",class:n+e+"-button "+(r.class||"")+(s?"":" "+n+"textual-button"),html:t.hasSvg&&s?'<svg><use xlink:href="'+t.svgPath+"#"+n+(r.ico||e).replace(/([A-Z]+)/g,"-$1").toLowerCase()+'"/></svg>':r.text||r.title||t.lang[e]||e,title:(r.title||r.text||a)+(r.key?" (Ctrl + "+r.key+")":""),tabindex:-1,mousedown:function(){return(!o||i("."+e+"-"+n+"dropdown",t.$box).is(":hidden"))&&i("body",t.doc).trigger("mousedown"),!(t.$btnPane.hasClass(n+"disable")&&!i(this).hasClass(n+"active")&&!i(this).hasClass(n+"not-disable"))&&(t.execCmd(!!o&&"dropdown"||r.fn||e,r.param||e,r.forceCss||!1),!1)}});if(o){l.addClass(n+"open-dropdown");var u=n+"dropdown",c=i("<div/>",{class:u+"-"+e+" "+u+" "+n+"fixed-top","data-dropdown":e});i.each(o,function(e,n){t.btnsDef[n]&&t.isSupportedBtn(n)&&c.append(t.buildSubBtn(n))}),t.$box.append(c.hide())}else r.key&&(t.keys[r.key]={fn:r.fn||e,param:r.param||e});return o||(t.tagToButton[(r.tag||e).toLowerCase()]=e),l},buildSubBtn:function(e){var t=this,n=t.o.prefix,r=t.btnsDef[e],o=null==r.hasIcon||r.hasIcon;return r.key&&(t.keys[r.key]={fn:r.fn||e,param:r.param||e}),t.tagToButton[(r.tag||e).toLowerCase()]=e,i("<button/>",{type:"button",class:n+e+"-dropdown-button"+(r.ico?" "+n+r.ico+"-button":""),html:t.hasSvg&&o?'<svg><use xlink:href="'+t.svgPath+"#"+n+(r.ico||e).replace(/([A-Z]+)/g,"-$1").toLowerCase()+'"/></svg>'+(r.text||r.title||t.lang[e]||e):r.text||r.title||t.lang[e]||e,title:r.key?" (Ctrl + "+r.key+")":null,style:r.style||null,mousedown:function(){return i("body",t.doc).trigger("mousedown"),t.execCmd(r.fn||e,r.param||e,r.forceCss||!1),!1}})},isSupportedBtn:function(e){try{return this.btnsDef[e].isSupported()}catch(e){}return!0},buildOverlay:function(){var e=this;return e.$overlay=i("<div/>",{class:e.o.prefix+"overlay"}).css({top:e.$btnPane.outerHeight(),height:e.$ed.outerHeight()+1+"px"}).appendTo(e.$box),e.$overlay},showOverlay:function(){var e=this;i(t).trigger("scroll"),e.$overlay.fadeIn(200),e.$box.addClass(e.o.prefix+"box-blur")},hideOverlay:function(){var e=this;e.$overlay.fadeOut(50),e.$box.removeClass(e.o.prefix+"box-blur")},fixedBtnPaneEvents:function(){var e=this,n=e.o.fixedFullWidth,r=e.$box;e.o.fixedBtnPane&&(e.isFixed=!1,i(t).on("scroll."+e.eventNamespace+" resize."+e.eventNamespace,function(){if(r){e.syncCode();var o=i(t).scrollTop(),s=r.offset().top+1,a=e.$btnPane,l=a.outerHeight()-2;o-s>0&&o-s-e.height<0?(e.isFixed||(e.isFixed=!0,a.css({position:"fixed",top:0,left:n?"0":"auto",zIndex:7}),i([e.$ta,e.$ed]).css({marginTop:a.height()})),a.css({width:n?"100%":r.width()-1+"px"}),i("."+e.o.prefix+"fixed-top",r).css({position:n?"fixed":"absolute",top:n?l:l+(o-s)+"px",zIndex:15})):e.isFixed&&(e.isFixed=!1,a.removeAttr("style"),i([e.$ta,e.$ed]).css({marginTop:0}),i("."+e.o.prefix+"fixed-top",r).css({position:"absolute",top:l}))}}))},toggleDisable:function(e){var t=this,n=t.o.prefix;t.disabled=e,e?t.$ta.attr("disabled",!0):t.$ta.removeAttr("disabled"),t.$box.toggleClass(n+"disabled",e),t.$ed.attr("contenteditable",!e)},destroy:function(){var e=this,n=e.o.prefix,r=e.height;e.isTextarea?e.$box.after(e.$ta.css({height:r}).val(e.html()).removeClass(n+"textarea").show()):e.$box.after(e.$ed.css({height:r}).removeClass(n+"editor").removeAttr("contenteditable").html(e.html()).show()),e.$ed.off("dblclick","img"),e.destroyPlugins(),e.$box.remove(),e.$c.removeData("trumbowyg"),i("body").removeClass(n+"body-fullscreen"),e.$c.trigger("tbwclose"),i(t).off("scroll."+e.eventNamespace+" resize."+e.eventNamespace)},empty:function(){this.$ta.val(""),this.syncCode(!0)},toggle:function(){var e=this,t=e.o.prefix;e.semanticCode(!1,!0),setTimeout(function(){e.doc.activeElement.blur(),e.$box.toggleClass(t+"editor-hidden "+t+"editor-visible"),e.$btnPane.toggleClass(t+"disable"),i("."+t+"viewHTML-button",e.$btnPane).toggleClass(t+"active"),e.$box.hasClass(t+"editor-visible")?e.$ta.attr("tabindex",-1):e.$ta.removeAttr("tabindex")},0)},dropdown:function(e){var n=this,r=n.doc,o=n.o.prefix,s=i("[data-dropdown="+e+"]",n.$box),a=i("."+o+e+"-button",n.$btnPane),l=s.is(":hidden");if(i("body",r).trigger("mousedown"),l){var u=a.offset().left;a.addClass(o+"active"),s.css({position:"absolute",top:a.offset().top-n.$btnPane.offset().top+a.outerHeight(),left:n.o.fixedFullWidth&&n.isFixed?u+"px":u-n.$btnPane.offset().left+"px"}).show(),i(t).trigger("scroll"),i("body",r).on("mousedown."+n.eventNamespace,function(){i("."+o+"dropdown",r).hide(),i("."+o+"active",r).removeClass(o+"active"),i("body",r).off("mousedown."+n.eventNamespace)})}},html:function(e){var t=this;return null!=e?(t.$ta.val(e),t.syncCode(!0),t):t.$ta.val()},syncTextarea:function(){var e=this;e.$ta.val(e.$ed.text().trim().length>0||e.$ed.find("hr,img,embed,iframe,input").length>0?e.$ed.html():"")},syncCode:function(e){var t=this;!e&&t.$ed.is(":visible")?t.syncTextarea():t.$ed.html(t.$ta.val()),t.o.autogrow&&(t.height=t.$ed.height(),t.height!==t.$ta.css("height")&&(t.$ta.css({height:t.height}),t.$c.trigger("tbwresize")))},semanticCode:function(e,t){var n=this;if(n.saveRange(),n.syncCode(e),i(n.o.tagsToRemove.join(","),n.$ed).remove(),n.o.semantic){if(n.semanticTag("b","strong"),n.semanticTag("i","em"),t){var r=n.o.inlineElementsSelector,o=":not("+r+")";n.$ed.contents().filter(function(){return 3===this.nodeType&&this.nodeValue.trim().length>0}).wrap("<span data-tbw/>");var s=function(e){if(0!==e.length){var t=e.nextUntil(o).addBack().wrapAll("<p/>").parent(),n=t.nextAll(r).first();t.next("br").remove(),s(n)}};s(n.$ed.children(r).first()),n.semanticTag("div","p",!0),n.$ed.find("p").filter(function(){return(!n.range||this!==n.range.startContainer)&&(0===i(this).text().trim().length&&0===i(this).children().not("br,span").length)}).contents().unwrap(),i("[data-tbw]",n.$ed).contents().unwrap(),n.$ed.find("p:empty").remove()}n.restoreRange(),n.syncTextarea()}},semanticTag:function(e,t,n){i(e,this.$ed).each(function(){var e=i(this);e.wrap("<"+t+"/>"),n&&i.each(e.prop("attributes"),function(){e.parent().attr(this.name,this.value)}),e.contents().unwrap()})},createLink:function(){for(var e,t,n,r=this,o=r.doc.getSelection(),s=o.focusNode;["A","DIV"].indexOf(s.nodeName)<0;)s=s.parentNode;if(s&&"A"===s.nodeName){var a=i(s);e=a.attr("href"),t=a.attr("title"),n=a.attr("target");var l=r.doc.createRange();l.selectNode(s),o.addRange(l)}r.saveRange(),r.openModalInsert(r.lang.createLink,{url:{label:"URL",required:!0,value:e},title:{label:r.lang.title,value:t},text:{label:r.lang.text,value:r.getRangeText()},target:{label:r.lang.target,value:n}},function(e){var t=i(['<a href="',e.url,'">',e.text,"</a>"].join(""));return e.title.length>0&&t.attr("title",e.title),e.target.length>0&&t.attr("target",e.target),
r.range.deleteContents(),r.range.insertNode(t[0]),!0})},unlink:function(){var e=this,t=e.doc.getSelection(),n=t.focusNode;if(t.isCollapsed){for(;["A","DIV"].indexOf(n.nodeName)<0;)n=n.parentNode;if(n&&"A"===n.nodeName){var i=e.doc.createRange();i.selectNode(n),t.addRange(i)}}e.execCmd("unlink",void 0,void 0,!0)},insertImage:function(){var e=this;e.saveRange(),e.openModalInsert(e.lang.insertImage,{url:{label:"URL",required:!0},alt:{label:e.lang.description,value:e.getRangeText()}},function(t){return e.execCmd("insertImage",t.url),i('img[src="'+t.url+'"]:not([alt])',e.$box).attr("alt",t.alt),!0})},fullscreen:function(){var e,n=this,r=n.o.prefix,o=r+"fullscreen";n.$box.toggleClass(o),e=n.$box.hasClass(o),i("body").toggleClass(r+"body-fullscreen",e),i(t).trigger("scroll"),n.$c.trigger("tbw"+(e?"open":"close")+"fullscreen")},execCmd:function(t,n,i,r){var o=this;r=!!r||"","dropdown"!==t&&o.$ed.focus();try{o.doc.execCommand("styleWithCSS",!1,i||!1)}catch(e){}try{o[t+r](n)}catch(i){try{t(n)}catch(i){"insertHorizontalRule"===t?n=void 0:"formatBlock"!==t||-1===e.userAgent.indexOf("MSIE")&&-1===e.appVersion.indexOf("Trident/")||(n="<"+n+">"),o.doc.execCommand(t,!1,n),o.syncCode(),o.semanticCode(!1,!0)}"dropdown"!==t&&(o.updateButtonPaneStatus(),o.$c.trigger("tbwchange"))}},openModal:function(e,n){var r=this,o=r.o.prefix;if(i("."+o+"modal-box",r.$box).length>0)return!1;r.saveRange(),r.showOverlay(),r.$btnPane.addClass(o+"disable");var s=i("<div/>",{class:o+"modal "+o+"fixed-top"}).css({top:r.$btnPane.height()}).appendTo(r.$box);r.$overlay.one("click",function(){return s.trigger("tbwcancel"),!1});var a=i("<form/>",{action:"",html:n}).on("submit",function(){return s.trigger("tbwconfirm"),!1}).on("reset",function(){return s.trigger("tbwcancel"),!1}),l=i("<div/>",{class:o+"modal-box",html:a}).css({top:"-"+r.$btnPane.outerHeight()+"px",opacity:0}).appendTo(s).animate({top:0,opacity:1},100);return i("<span/>",{text:e,class:o+"modal-title"}).prependTo(l),s.height(l.outerHeight()+10),i("input:first",l).focus(),r.buildModalBtn("submit",l),r.buildModalBtn("reset",l),i(t).trigger("scroll"),s},buildModalBtn:function(e,t){var n=this,r=n.o.prefix;return i("<button/>",{class:r+"modal-button "+r+"modal-"+e,type:e,text:n.lang[e]||e}).appendTo(i("form",t))},closeModal:function(){var e=this,t=e.o.prefix;e.$btnPane.removeClass(t+"disable"),e.$overlay.off();var n=i("."+t+"modal-box",e.$box);n.animate({top:"-"+n.height()},100,function(){n.parent().remove(),e.hideOverlay()}),e.restoreRange()},openModalInsert:function(e,t,n){var r=this,o=r.o.prefix,s=r.lang,a="",l="tbwconfirm";return i.each(t,function(e,t){var n=t.label,i=t.name||e,r=t.attributes||{},l=Object.keys(r).map(function(e){return e+'="'+r[e]+'"'}).join(" ");a+='<label><input type="'+(t.type||"text")+'" name="'+i+'" value="'+(t.value||"").replace(/"/g,"&quot;")+'"'+l+'><span class="'+o+'input-infos"><span>'+(n?s[n]?s[n]:n:s[e]?s[e]:e)+"</span></span></label>"}),r.openModal(e,a).on(l,function(){var e=i("form",i(this)),o=!0,s={};i.each(t,function(t,n){var a=i('input[name="'+t+'"]',e);"checkbox"===a.attr("type").toLowerCase()?s[t]=a.is(":checked"):s[t]=i.trim(a.val()),n.required&&""===s[t]?(o=!1,r.addErrorOnModalField(a,r.lang.required)):n.pattern&&!n.pattern.test(s[t])&&(o=!1,r.addErrorOnModalField(a,n.patternError))}),o&&(r.restoreRange(),n(s,t)&&(r.syncCode(),r.$c.trigger("tbwchange"),r.closeModal(),i(this).off(l)))}).one("tbwcancel",function(){i(this).off(l),r.closeModal()})},addErrorOnModalField:function(e,t){var n=this.o.prefix,r=e.parent();e.on("change keyup",function(){r.removeClass(n+"input-error")}),r.addClass(n+"input-error").find("input+span").append(i("<span/>",{class:n+"msg-error",text:t}))},saveRange:function(){var e=this,t=e.doc.getSelection();if(e.range=null,t.rangeCount){var n,i=e.range=t.getRangeAt(0),r=e.doc.createRange();r.selectNodeContents(e.$ed[0]),r.setEnd(i.startContainer,i.startOffset),n=(r+"").length,e.metaRange={start:n,end:n+(i+"").length}}},restoreRange:function(){var e,t=this,n=t.metaRange,i=t.range,r=t.doc.getSelection();if(i){if(n&&n.start!==n.end){var o,s=0,a=[t.$ed[0]],l=!1,u=!1;for(e=t.doc.createRange();!u&&(o=a.pop());)if(3===o.nodeType){var c=s+o.length;!l&&n.start>=s&&n.start<=c&&(e.setStart(o,n.start-s),l=!0),l&&n.end>=s&&n.end<=c&&(e.setEnd(o,n.end-s),u=!0),s=c}else for(var d=o.childNodes,h=d.length;h>0;)h-=1,a.push(d[h])}r.removeAllRanges(),r.addRange(e||i)}},getRangeText:function(){return this.range+""},updateButtonPaneStatus:function(){var e=this,t=e.o.prefix,n=e.getTagsRecursive(e.doc.getSelection().focusNode),r=t+"active-button "+t+"active";i("."+t+"active-button",e.$btnPane).removeClass(r),i.each(n,function(n,o){var s=e.tagToButton[o.toLowerCase()],a=i("."+t+s+"-button",e.$btnPane);if(a.length>0)a.addClass(r);else try{a=i("."+t+"dropdown ."+t+s+"-dropdown-button",e.$box);var l=a.parent().data("dropdown");i("."+t+l+"-button",e.$box).addClass(r)}catch(e){}})},getTagsRecursive:function(e,t){var n=this;if(t=t||[],!e||!e.parentNode)return t;e=e.parentNode;var r=e.tagName;return"DIV"===r?t:("P"===r&&""!==e.style.textAlign&&t.push(e.style.textAlign),i.each(n.tagHandlers,function(i,r){t=t.concat(r(e,n))}),t.push(r),n.getTagsRecursive(e,t))},initPlugins:function(){var e=this;e.loadedPlugins=[],i.each(i.trumbowyg.plugins,function(t,n){(!n.shouldInit||n.shouldInit(e))&&(n.init(e),n.tagHandler&&e.tagHandlers.push(n.tagHandler),e.loadedPlugins.push(n))})},destroyPlugins:function(){i.each(this.loadedPlugins,function(e,t){t.destroy&&t.destroy()})}}}(navigator,window,document,jQuery),define("trumbowyg",["jquery"],function(e){return function(){return e.trumbowyg}}(this)),function(e,t){if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(n,i,r){e.Backbone=t(e,r,n,i)});else if("undefined"!=typeof exports){var n=require("underscore");t(e,exports,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,n,i){var r=e.Backbone,o=[],s=o.slice;t.VERSION="1.1.2",t.$=i,t.noConflict=function(){return e.Backbone=r,this},t.emulateHTTP=!1,t.emulateJSON=!1;var a=t.Events={on:function(e,t,n){return u(this,"on",e,[t,n])&&t?(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:t,context:n,ctx:n||this}),this):this},once:function(e,t,i){if(!u(this,"once",e,[t,i])||!t)return this;var r=this,o=n.once(function(){r.off(e,o),t.apply(this,arguments)});return o._callback=t,this.on(e,o,i)},off:function(e,t,i){var r,o,s,a,l,c,d,h;if(!this._events||!u(this,"off",e,[t,i]))return this;if(!e&&!t&&!i)return this._events=void 0,this;for(a=e?[e]:n.keys(this._events),l=0,c=a.length;l<c;l++)if(e=a[l],s=this._events[e]){if(this._events[e]=r=[],t||i)for(d=0,h=s.length;d<h;d++)o=s[d],(t&&t!==o.callback&&t!==o.callback._callback||i&&i!==o.context)&&r.push(o);r.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=s.call(arguments,1);if(!u(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&c(n,t),i&&c(i,arguments),this},stopListening:function(e,t,i){var r=this._listeningTo;if(!r)return this;var o=!t&&!i;i||"object"!=typeof t||(i=this),e&&((r={})[e._listenId]=e);for(var s in r)e=r[s],e.off(t,i,this),(o||n.isEmpty(e._events))&&delete this._listeningTo[s];return this}},l=/\s+/,u=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)e[t].apply(e,[r,n[r]].concat(i));return!1}if(l.test(n)){for(var o=n.split(l),s=0,a=o.length;s<a;s++)e[t].apply(e,[o[s]].concat(i));return!1}return!0},c=function(e,t){var n,i=-1,r=e.length,o=t[0],s=t[1],a=t[2];switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t);return}},d={listenTo:"on",listenToOnce:"once"};n.each(d,function(e,t){a[t]=function(t,i,r){return(this._listeningTo||(this._listeningTo={}))[t._listenId||(t._listenId=n.uniqueId("l"))]=t,r||"object"!=typeof i||(r=this),t[e](i,r,this),this}}),a.bind=a.on,a.unbind=a.off,n.extend(t,a);var h=t.Model=function(e,t){var i=e||{};t||(t={}),this.cid=n.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(i=this.parse(i,t)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(h.prototype,a,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,i){var r,o,s,a,l,u,c,d;if(null==e)return this;if("object"==typeof e?(o=e,i=t):(o={})[e]=t,i||(i={}),!this._validate(o,i))return!1;s=i.unset,l=i.silent,a=[],u=this._changing,this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={}),d=this.attributes,c=this._previousAttributes,this.idAttribute in o&&(this.id=o[this.idAttribute]);for(r in o)t=o[r],n.isEqual(d[r],t)||a.push(r),n.isEqual(c[r],t)?delete this.changed[r]:this.changed[r]=t,s?delete d[r]:d[r]=t;if(!l){a.length&&(this._pending=i);for(var h=0,p=a.length;h<p;h++)this.trigger("change:"+a[h],this,d[a[h]],i)}if(u)return this;if(!l)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);var t,i=!1,r=this._changing?this._previousAttributes:this.attributes;for(var o in e)n.isEqual(r[o],t=e[o])||((i||(i={}))[o]=t);return i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=e?n.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,i=e.success;return e.success=function(n){if(!t.set(t.parse(n,e),e))return!1;i&&i(t,n,e),t.trigger("sync",t,n,e)},M(this,e),this.sync("read",this,e)},save:function(e,t,i){var r,o,s,a=this.attributes;if(null==e||"object"==typeof e?(r=e,i=t):(r={})[e]=t,i=n.extend({validate:!0},i),r&&!i.wait){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;r&&i.wait&&(this.attributes=n.extend({},a,r)),void 0===i.parse&&(i.parse=!0);var l=this,u=i.success;return i.success=function(e){l.attributes=a;var t=l.parse(e,i);if(i.wait&&(t=n.extend(r||{},t)),n.isObject(t)&&!l.set(t,i))return!1;u&&u(l,e,i),l.trigger("sync",l,e,i)},M(this,i),o=this.isNew()?"create":i.patch?"patch":"update","patch"===o&&(i.attrs=r),s=this.sync(o,this,i),r&&i.wait&&(this.attributes=a),s},destroy:function(e){e=e?n.clone(e):{};var t=this,i=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(n){(e.wait||t.isNew())&&r(),i&&i(t,n,e),t.isNew()||t.trigger("sync",t,n,e)},this.isNew())return e.success(),!1;M(this,e);var o=this.sync("delete",this,e);return e.wait||r(),o},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||R();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return!i||(this.trigger("invalid",this,i,n.extend(t,{validationError:i})),!1)}});var p=["keys","values","pairs","invert","pick","omit"];n.each(p,function(e){h.prototype[e]=function(){var t=s.call(arguments);return t.unshift(this.attributes),n[e].apply(n,t)}});var f=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},m={add:!0,remove:!0,merge:!0},g={add:!0,remove:!1};n.extend(f.prototype,a,{model:h,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,g))},remove:function(e,t){var i=!n.isArray(e);e=i?[e]:n.clone(e),t||(t={});var r,o,s,a;for(r=0,o=e.length;r<o;r++)(a=e[r]=this.get(e[r]))&&(delete this._byId[a.id],delete this._byId[a.cid],s=this.indexOf(a),this.models.splice(s,1),this.length--,t.silent||(t.index=s,a.trigger("remove",a,this,t)),this._removeReference(a,t));return i?e[0]:e},set:function(e,t){t=n.defaults({},t,m),t.parse&&(e=this.parse(e,t));var i=!n.isArray(e);e=i?e?[e]:[]:n.clone(e);var r,o,s,a,l,u,c,d=t.at,p=this.model,f=this.comparator&&null==d&&!1!==t.sort,g=n.isString(this.comparator)?this.comparator:null,v=[],y=[],b={},w=t.add,_=t.merge,x=t.remove,C=!(f||!w||!x)&&[];for(r=0,o=e.length;r<o;r++){if(l=e[r]||{},s=l instanceof h?a=l:l[p.prototype.idAttribute||"id"],u=this.get(s))x&&(b[u.cid]=!0),_&&(l=l===a?a.attributes:l,t.parse&&(l=u.parse(l,t)),u.set(l,t),f&&!c&&u.hasChanged(g)&&(c=!0)),e[r]=u;else if(w){if(!(a=e[r]=this._prepareModel(l,t)))continue;v.push(a),this._addReference(a,t)}a=u||a,!C||!a.isNew()&&b[a.id]||C.push(a),b[a.id]=!0}if(x){for(r=0,o=this.length;r<o;++r)b[(a=this.models[r]).cid]||y.push(a);y.length&&this.remove(y,t)}if(v.length||C&&C.length)if(f&&(c=!0),this.length+=v.length,null!=d)for(r=0,o=v.length;r<o;r++)this.models.splice(d+r,0,v[r]);else{C&&(this.models.length=0);var k=C||v;for(r=0,o=k.length;r<o;r++)this.models.push(k[r])}if(c&&this.sort({silent:!0}),!t.silent){for(r=0,o=v.length;r<o;r++)(a=v[r]).trigger("add",a,this,t);(c||C&&C.length)&&this.trigger("sort",this,t)}return i?e[0]:e},reset:function(e,t){t||(t={});for(var i=0,r=this.models.length;i<r;i++)this._removeReference(this.models[i],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return s.apply(this.models,arguments)},get:function(e){if(null!=e)return this._byId[e]||this._byId[e.id]||this._byId[e.cid]},at:function(e){return this.models[e]},where:function(e,t){return n.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=e?n.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,i=this;return e.success=function(n){var r=e.reset?"reset":"set";i[r](n,e),t&&t(i,n,e),i.trigger("sync",i,n,e)},M(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?n.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var i=this,r=t.success;return t.success=function(e,n){t.wait&&i.add(e,t),r&&r(e,n,t)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof h)return e;t=t?n.clone(t):{},t.collection=this;var i=new this.model(e,t);return i.validationError?(this.trigger("invalid",this,i.validationError,t),!1):i},_addReference:function(e,t){this._byId[e.cid]=e,null!=e.id&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,i),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(v,function(e){f.prototype[e]=function(){var t=s.call(arguments);return t.unshift(this.models),n[e].apply(n,t)}});var y=["groupBy","countBy","sortBy","indexBy"];n.each(y,function(e){f.prototype[e]=function(t,i){var r=n.isFunction(t)?t:function(e){return e.get(t)};return n[e](this.models,r,i)}});var b=t.View=function(e){this.cid=n.uniqueId("view"),e||(e={}),n.extend(this,n.pick(e,_)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,_=["model","collection","el","id","attributes","className","tagName","events"];n.extend(b.prototype,a,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],!1!==n&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=n.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var i=e[t];if(n.isFunction(i)||(i=this[e[t]]),i){var r=t.match(w),o=r[1],s=r[2];i=n.bind(i,this),o+=".delegateEvents"+this.cid,""===s?this.$el.on(o,i):this.$el.on(o,s,i)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e.class=n.result(this,"className"));var i=t.$("<"+n.result(this,"tagName")+">").attr(e);this.setElement(i,!1)}}}),t.sync=function(e,i,r){var o=C[e];n.defaults(r||(r={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:o,dataType:"json"};if(r.url||(s.url=n.result(i,"url")||R()),null!=r.data||!i||"create"!==e&&"update"!==e&&"patch"!==e||(s.contentType="application/json",s.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",r.emulateJSON&&(s.data._method=o);var a=r.beforeSend;r.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",o),a)return a.apply(this,arguments)}}"GET"===s.type||r.emulateJSON||(s.processData=!1),"PATCH"===s.type&&x&&(s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=r.xhr=t.ajax(n.extend(s,r));return i.trigger("request",i,l,r),l};var x=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),C={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var k=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},E=/\((.*?)\)/g,S=/(\(\?)?:\w+/g,T=/\*\w+/g,A=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(k.prototype,a,{initialize:function(){},route:function(e,i,r){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var o=this;return t.history.route(e,function(n){var s=o._extractParameters(e,n);o.execute(r,s),o.trigger.apply(o,["route:"+i].concat(s)),o.trigger("route",i,s),t.history.trigger("route",o,i,s)}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(A,"\\$&").replace(E,"(?:$1)?").replace(S,function(e,t){return t?e:"([^/?]+)"}).replace(T,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return n.map(i,function(e,t){return t===i.length-1?e||null:e?decodeURIComponent(e):null})}});var N=t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},O=/^[#\/]|\s+$/g,P=/^\/+|\/+$/g,j=/msie [\w.]+/,I=/\/$/,D=/#.*$/;N.started=!1,n.extend(N.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(I,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(O,"")},start:function(e){if(N.started)throw new Error("Backbone.history has already been started");N.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=this.getFragment(),r=document.documentMode,o=j.exec(navigator.userAgent.toLowerCase())&&(!r||r<=7);if(this.root=("/"+this.root+"/").replace(P,"/"),o&&this._wantsHashChange){var s=t.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=s.hide().appendTo("body")[0].contentWindow,this.navigate(i)}this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!o?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=i;var a=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&a.hash&&(this.fragment=this.getHash().replace(O,""),this.history.replaceState({},document.title,this.root+this.fragment))}if(!this.options.silent)return this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),N.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return e=this.fragment=this.getFragment(e),n.any(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0})},navigate:function(e,t){if(!N.started)return!1;t&&!0!==t||(t={trigger:!!t});var n=this.root+(e=this.getFragment(e||""));if(e=e.replace(D,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),t.history=new N;var L=function(e,t){var i,r=this;i=e&&n.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,t);var o=function(){this.constructor=i};return o.prototype=r.prototype,i.prototype=new o,e&&n.extend(i.prototype,e),i.__super__=r.prototype,i};h.extend=f.extend=k.extend=b.extend=N.extend=L;var R=function(){throw new Error('A "url" property or function must be specified')},M=function(e,t){var n=t.error;t.error=function(i){n&&n(e,i,t),e.trigger("error",e,i,t)}};return t}),define("org/forgerock/commons/ui/common/util/ModuleLoader",["jquery"],function(e){return{load:function(t){var n=e.Deferred();try{require([t],n.resolve)}catch(e){n.reject(e)}return n},promiseWrapper:function(t,n){var i=e.Deferred(),r=function(e){return void 0!==e?e:i};return e.when(t(function(){n&&n.success&&n.success.apply(window,arguments),i.resolve.apply(i,arguments)},function(){n&&n.error&&n.error.apply(window,arguments),i.reject.apply(i,arguments)})).then(r,r)}}}),define("org/forgerock/commons/ui/common/main/AbstractConfigurationAware",["jquery","lodash","org/forgerock/commons/ui/common/util/ModuleLoader"],function(e,t,n){var i=function(){};return i.prototype.updateConfigurationCallback=function(i){return this.configuration=i,e.when.apply(e,t.map(i.loader,function(r){return e.when.apply(e,t.map(t.pairs(r),function(e){return n.load(e[1]).then(function(n){return t.extend(i[e[0]],n)})}))}))},i}),define("org/forgerock/commons/ui/common/util/URIUtils",["lodash"],function(e){var t={};return t.getCurrentCompositeQueryString=function(){var e=t.getCurrentQueryString(),n=t.getCurrentFragmentQueryString();return n.length?n:e},t.getCurrentFragment=function(){return t.getCurrentUrl().split("#")[1]||""},t.getCurrentFragmentQueryString=function(){var e=t.getCurrentFragment(),n="";return e.indexOf("&")>-1&&(n=e.substring(e.indexOf("&")+1)),n},t.getCurrentOrigin=function(){return window.location.protocol+"//"+window.location.host},t.getCurrentPathName=function(){return window.location.pathname},t.getCurrentQueryParam=function(e){var n=t.parseQueryString(t.getCurrentCompositeQueryString());return n&&n.hasOwnProperty(e)?n[e]:null},t.getCurrentQueryString=function(){var e=window.location.search;return e.substr(1,e.length)},t.getCurrentUrl=function(){return window.location.href},t.parseQueryString=function(t){return t?e.object(e.map(t.split("&"),function(t){return e.map(t.split("=",2),decodeURIComponent)})):{}},t}),define("org/forgerock/commons/ui/common/main/Router",["underscore","backbone","org/forgerock/commons/ui/common/main/EventManager","org/forgerock/commons/ui/common/util/Constants","org/forgerock/commons/ui/common/main/Configuration","org/forgerock/commons/ui/common/main/AbstractConfigurationAware","org/forgerock/commons/ui/common/util/URIUtils"],function(e,t,n,i,r,o,s){var a=new o;return a.currentRoute={},a.getUrl=s.getCurrentUrl,a.getCurrentUrlBasePart=s.getCurrentOrigin,a.getURIFragmentQueryString=s.getCurrentFragmentQueryString,a.getURIQueryString=s.getCurrentQueryString,a.getCurrentHash=function(){return-1===a.getUrl().indexOf("#")?"":a.getUrl().substring(a.getUrl().indexOf("#")+1)},a.getURIFragment=s.getCurrentFragment,a.getCurrentUrlQueryParameters=function(){var e=a.getCurrentHash(),t=a.getURIQueryString();return e&&e.indexOf("&")>-1&&(t=e.substring(e.indexOf("&")+1)),t},a.getCompositeQueryString=s.getCurrentCompositeQueryString,a.getCurrentPathName=s.getCurrentPathName,a.setUrl=function(e){window.location.href=e},a.normalizeSubPath=function(e){return e.replace(/\/$/,"")},a.convertCurrentUrlToJSON=function(){var e={};return e.url=a.getCurrentUrlBasePart(),e.pathName=a.normalizeSubPath(a.getCurrentPathName()),e.params=a.convertQueryParametersToJSON(a.getCurrentUrlQueryParameters()),e},a.convertQueryParametersToJSON=s.parseQueryString,a.getParamByName=s.getCurrentQueryParam,a.extractParameters=function(t,n){return e.isRegExp(t.url)?t.url.exec(n).slice(1):null},a.applyDefaultParameters=function(t,n){var i,r,o=e.clone(n);if(e.isObject(t.defaults))if(e.isArray(n)&&n.length)for(i=n.length>=t.defaults.length?n.length:t.defaults.length,r=0;r<i;r++)e.isString(n[r])||e.isUndefined(t.defaults[r])||(o[r]=e.clone(t.defaults[r]));else o=e.clone(t.defaults);return o},a.checkRole=function(t){if(t.role){if(!r.loggedUser)return n.sendEvent(i.EVENT_UNAUTHENTICATED,{fromRouter:!0}),!1;if(!e.find(t.role.split(","),function(e){return-1!==r.loggedUser.uiroles.indexOf(e)}))return n.sendEvent(i.EVENT_UNAUTHORIZED,{fromRouter:!0}),!1}return!t.excludedRole||!r.loggedUser||-1===r.loggedUser.uiroles.indexOf(t.excludedRole)||(n.sendEvent(i.EVENT_UNAUTHORIZED,{fromRouter:!0}),!1)},a.init=function(){var o=t.Router.extend({initialize:function(t){e.each(t,function(t,n){this.route(t.url,n,e.partial(this.routeCallback,t))},this)},routeCallback:function(e){if(!a.checkRole(e)){if(!r.loggedUser)return;e={view:"org/forgerock/commons/ui/common/UnauthorizedView",url:""}}var t=a.applyDefaultParameters(e,a.extractParameters(e,a.getURIFragment()));a.currentRoute=e,e.event?n.sendEvent(e.event,{route:e,args:t}):e.dialog?(e.baseView=a.configuration.routes[e.base],n.sendEvent(i.EVENT_SHOW_DIALOG,{route:e,args:t,base:e.base})):e.view&&n.sendEvent(i.EVENT_CHANGE_VIEW,{route:e,args:t,fromRouter:!0})}});a.router=new o(a.configuration.routes),t.history.start()},a.routeTo=function(t,n){var i;i=n&&n.args?a.getLink(t,n.args):e.isArray(t.defaults)&&t.defaults.length?a.getLink(t,t.defaults):t.url,a.currentRoute=t,a.router.navigate(i,n)},a.navigate=function(e,t){a.router.navigate(e,t)},a.getLink=function(t,n){var i,r=a.applyDefaultParameters(t,n),o=0;return i=e.isRegExp(t.url)?t.pattern:t.url.replace(/:[A-Za-z@.]+/,"?"),r&&(i=e.map(i.match(/([^\?]+|\?)/g),function(e){return"?"===e?"string"==typeof r[o]?r[o++]:"":e}).join("")),i},a}),define("org/forgerock/openidm/ui/common/util/JSONEditorSetupUtils",["jquery","underscore","jsonEditor","org/forgerock/commons/ui/common/main/Router"],function(e,t,n,i){var r=n.AbstractEditor.prototype.postBuild;n.AbstractEditor.prototype.postBuild=function(){var n=r.apply(this,arguments),o=function(t,n,i){var r,o=i.length+1;n.substr(n.length-o)==="."+i&&(r=t.parent().parent().find("select"),r.change(function(){var t=e(this).parent().closest(".row").find(".well:first").find(".row:lt(2)");"Relationship"===e(this).val()&&"type"===i?t.hide():"Relationship"===e(this).val()&&"itemType"===i&&t.show()}))};return this.path&&this.input&&this.label&&!this.input.id&&!this.label.htmlFor&&(this.input.id=(this.jsoneditor.options.uuid||this.jsoneditor.uuid)+"-"+this.path.replace(/\./g,"-"),this.label.htmlFor=(this.jsoneditor.options.uuid||this.jsoneditor.uuid)+"-"+this.path.replace(/\./g,"-"),this.jsoneditor.options.formHorizontal&&(e(this.jsoneditor.element).addClass("form-horizontal"),e(this.label).addClass("col-sm-2"),e(this.input).wrap("<div class='col-sm-10'></div>")),t.contains(i.currentRoute.view,"AddEditManagedView")&&(o(e(this.container),e(this.container).data("schemapath"),"type"),o(e(this.container),e(this.container).data("schemapath"),"itemType"))),this.jsoneditor.options.disable_array_delete_all&&e(this.jsoneditor.element).find('.json-editor-btn-delete[title="Delete All"]').addClass("hidden"),n}}),define("org/forgerock/commons/ui/common/main/ErrorsHandler",["underscore","jquery","org/forgerock/commons/ui/common/main/AbstractConfigurationAware","org/forgerock/commons/ui/common/main/EventManager","org/forgerock/commons/ui/common/util/Constants"],function(e,t,n,i,r){var o=new n;return o.handleError=function(e,n){var s;if(e.error&&!e.status&&(e.status=e.error),e.hasOwnProperty("responseText"))try{e.responseObj=t.parseJSON(e.responseText)}catch(e){}n&&(s=o.matchError(e,n)),
s||(s=o.matchError(e,o.configuration.defaultHandlers)),s?e.hasOwnProperty("responseObj")&&null!==e.responseObj&&!(403===e.responseObj.code&&"SSO Token cannot be retrieved."===e.responseObj.message||403===e.responseObj.error&&"Reauthentication failed"===e.responseObj.message||409===e.responseObj.error&&e.responseObj.message.match(/value to replace not found$/))&&(s.event&&i.sendEvent(s.event,{handler:s,error:e}),s.message&&i.sendEvent(r.EVENT_DISPLAY_MESSAGE_REQUEST,s.message)):(console.error(e.status),i.sendEvent(r.EVENT_DISPLAY_MESSAGE_REQUEST,"unknown"))},o.matchError=function(t,n){var i,r;for(r in n){if(i=n[r],!e.isUndefined(i.field)&&t[i.field]===i.value)return i;if(i.status&&parseInt(t.status,0)===parseInt(i.status,0))return i}},o}),function(){function e(e,t){if(!t||"function"==typeof t)return e;for(var n in t)e[n]=t[n];return e}function t(e,t,n){var i,r=0,o=e.length,s=void 0===o||"[object Array]"!==Object.prototype.toString.apply(e)||"function"==typeof e;if(n)if(s){for(i in e)if(!1===t.apply(e[i],n))break}else for(;o>r&&!1!==t.apply(e[r++],n););else if(s){for(i in e)if(!1===t.call(e[i],i,e[i]))break}else for(;o>r&&!1!==t.call(e[r],r,e[r++]););return e}function n(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,function(e){return D[e]}):e}function i(e){var t=function(e){if(window.XMLHttpRequest)return e(null,new XMLHttpRequest);if(window.ActiveXObject)try{return e(null,new ActiveXObject("Msxml2.XMLHTTP"))}catch(t){return e(null,new ActiveXObject("Microsoft.XMLHTTP"))}return e(new Error)},n=function(e){if("string"==typeof e)return e;var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},i=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);128>i?t+=String.fromCharCode(i):i>127&&2048>i?(t+=String.fromCharCode(192|i>>6),t+=String.fromCharCode(128|63&i)):(t+=String.fromCharCode(224|i>>12),t+=String.fromCharCode(128|63&i>>6),t+=String.fromCharCode(128|63&i))}return t},r=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e=i(e);var n,r,o,s,a,l,u,c="",d=0;do{n=e.charCodeAt(d++),r=e.charCodeAt(d++),o=e.charCodeAt(d++),s=n>>2,a=(3&n)<<4|r>>4,l=(15&r)<<2|o>>6,u=63&o,isNaN(r)?l=u=64:isNaN(o)&&(u=64),c+=t.charAt(s)+t.charAt(a)+t.charAt(l)+t.charAt(u),n=r=o="",s=a=l=u=""}while(d<e.length);return c},o=function(){for(var e=arguments[0],t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}return e},s=function(e,i,r,a){"function"==typeof r&&(a=r,r={}),r.cache=r.cache||!1,r.data=r.data||{},r.headers=r.headers||{},r.jsonp=r.jsonp||!1,r.async=void 0===r.async||r.async;var l,u=o({accept:"*/*","content-type":"application/x-www-form-urlencoded;charset=UTF-8"},s.headers,r.headers);if(l="application/json"===u["content-type"]?JSON.stringify(r.data):n(r.data),"GET"===e){var c=[];if(l&&(c.push(l),l=null),r.cache||c.push("_="+(new Date).getTime()),r.jsonp&&(c.push("callback="+r.jsonp),c.push("jsonp="+r.jsonp)),c=c.join("&"),c.length>1&&(i+=i.indexOf("?")>-1?"&"+c:"?"+c),r.jsonp){var d=document.getElementsByTagName("head")[0],h=document.createElement("script");return h.type="text/javascript",h.src=i,void d.appendChild(h)}}t(function(t,n){if(t)return a(t);n.open(e,i,r.async);for(var o in u)u.hasOwnProperty(o)&&n.setRequestHeader(o,u[o]);n.onreadystatechange=function(){if(4===n.readyState){var e=n.responseText||"";if(!a)return;a(n.status,{text:function(){return e},json:function(){return JSON.parse(e)}})}},n.send(l)})};({authBasic:function(e,t){s.headers.Authorization="Basic "+r(e+":"+t)},connect:function(e,t,n){return s("CONNECT",e,t,n)},del:function(e,t,n){return s("DELETE",e,t,n)},get:function(e,t,n){return s("GET",e,t,n)},head:function(e,t,n){return s("HEAD",e,t,n)},headers:function(e){s.headers=e||{}},isAllowed:function(e,t,n){this.options(e,function(e,i){n(-1!==i.text().indexOf(t))})},options:function(e,t,n){return s("OPTIONS",e,t,n)},patch:function(e,t,n){return s("PATCH",e,t,n)},post:function(e,t,n){return s("POST",e,t,n)},put:function(e,t,n){return s("PUT",e,t,n)},trace:function(e,t,n){return s("TRACE",e,t,n)}})[e.type?e.type.toLowerCase():"get"](e.url,e,function(t,n){200===t?e.success(n.json(),t,null):e.error(n.text(),t,null)})}function r(e,t){"function"==typeof e&&(t=e,e={}),e=e||{},M.extend(I,e),delete I.fixLng,"string"==typeof I.ns&&(I.ns={namespaces:[I.ns],defaultNs:I.ns}),"string"==typeof I.fallbackNS&&(I.fallbackNS=[I.fallbackNS]),("string"==typeof I.fallbackLng||"boolean"==typeof I.fallbackLng)&&(I.fallbackLng=[I.fallbackLng]),I.interpolationPrefixEscaped=M.regexEscape(I.interpolationPrefix),I.interpolationSuffixEscaped=M.regexEscape(I.interpolationSuffix),I.lng||(I.lng=M.detectLanguage()),I.lng?I.useCookie&&M.cookie.create(I.cookieName,I.lng,I.cookieExpirationTime,I.cookieDomain):(I.lng=I.fallbackLng[0],I.useCookie&&M.cookie.remove(I.cookieName)),P=M.toLanguages(I.lng),E=P[0],M.log("currentLng set to: "+E);var n=b;e.fixLng&&(n=function(e,t){return t=t||{},t.lng=t.lng||n.lng,b(e,t)},n.lng=E),V.setCurrentLng(E),T&&I.setJqueryExt&&p();var i;if(T&&T.Deferred&&(i=T.Deferred()),!I.resStore){var r=M.toLanguages(I.lng);"string"==typeof I.preload&&(I.preload=[I.preload]);for(var o=0,s=I.preload.length;s>o;o++)for(var a=M.toLanguages(I.preload[o]),l=0,u=a.length;u>l;l++)r.indexOf(a[l])<0&&r.push(a[l]);return A.sync.load(r,I,function(e,r){N=r,j=!0,t&&t(n),i&&i.resolve(n)}),i?i.promise():void 0}return N=I.resStore,j=!0,t&&t(n),i&&i.resolve(n),i?i.promise():void 0}function o(e,t){"string"==typeof e&&(e=[e]);for(var n=0,i=e.length;i>n;n++)I.preload.indexOf(e[n])<0&&I.preload.push(e[n]);return r(t)}function s(e,t,n){"string"!=typeof t?(n=t,t=I.ns.defaultNs):I.ns.namespaces.indexOf(t)<0&&I.ns.namespaces.push(t),N[e]=N[e]||{},N[e][t]=N[e][t]||{},M.extend(N[e][t],n)}function a(e,t){"string"!=typeof t&&(t=I.ns.defaultNs),N[e]=N[e]||{},N[e][t]={}}function l(e){I.ns.defaultNs=e}function u(e,t){c([e],t)}function c(e,t){var n={dynamicLoad:I.dynamicLoad,resGetPath:I.resGetPath,getAsync:I.getAsync,customLoad:I.customLoad,ns:{namespaces:e,defaultNs:""}},i=M.toLanguages(I.lng);"string"==typeof I.preload&&(I.preload=[I.preload]);for(var r=0,o=I.preload.length;o>r;r++)for(var s=M.toLanguages(I.preload[r]),a=0,l=s.length;l>a;a++)i.indexOf(s[a])<0&&i.push(s[a]);for(var u=[],c=0,d=i.length;d>c;c++){var h=!1,p=N[i[c]];if(p)for(var f=0,m=e.length;m>f;f++)p[e[f]]||(h=!0);else h=!0;h&&u.push(i[c])}u.length?A.sync._fetch(u,n,function(n,i){var r=e.length*u.length;M.each(e,function(e,n){I.ns.namespaces.indexOf(n)<0&&I.ns.namespaces.push(n),M.each(u,function(e,o){N[o]=N[o]||{},N[o][n]=i[o][n],0===--r&&t&&(I.useLocalStorage&&A.sync._storeLocal(N),t())})})}):t&&t()}function d(e,t,n){return"function"==typeof t?(n=t,t={}):t||(t={}),t.lng=e,r(t,n)}function h(){return E}function p(){function e(e,t,n){if(0!==t.length){var i="text";if(0===t.indexOf("[")){var r=t.split("]");t=r[1],i=r[0].substr(1,r[0].length-1)}t.indexOf(";")===t.length-1&&(t=t.substr(0,t.length-2));var o;if("html"===i)o=I.defaultValueFromContent?T.extend({defaultValue:e.html()},n):n,e.html(T.t(t,o));else if("text"===i)o=I.defaultValueFromContent?T.extend({defaultValue:e.text()},n):n,e.text(T.t(t,o));else if("prepend"===i)o=I.defaultValueFromContent?T.extend({defaultValue:e.html()},n):n,e.prepend(T.t(t,o));else if("append"===i)o=I.defaultValueFromContent?T.extend({defaultValue:e.html()},n):n,e.append(T.t(t,o));else if(0===i.indexOf("data-")){var s=i.substr("data-".length);o=I.defaultValueFromContent?T.extend({defaultValue:e.data(s)},n):n;var a=T.t(t,o);e.data(s,a),e.attr(i,a)}else o=I.defaultValueFromContent?T.extend({defaultValue:e.attr(i)},n):n,e.attr(i,T.t(t,o))}}function t(t,n){var i=t.attr(I.selectorAttr);if(i||void 0===i||!1===i||(i=t.text()||t.val()),i){var r=t,o=t.data("i18n-target");if(o&&(r=t.find(o)||t),n||!0!==I.useDataAttrOptions||(n=t.data("i18n-options")),n=n||{},i.indexOf(";")>=0){var s=i.split(";");T.each(s,function(t,i){""!==i&&e(r,i,n)})}else e(r,i,n);!0===I.useDataAttrOptions&&t.data("i18n-options",n)}}T.t=T.t||b,T.fn.i18n=function(e){return this.each(function(){t(T(this),e),T(this).find("["+I.selectorAttr+"]").each(function(){t(T(this),e)})})}}function f(e,t,n,i){if(!e)return e;if(i=i||t,e.indexOf(i.interpolationPrefix||I.interpolationPrefix)<0)return e;var r=i.interpolationPrefix?M.regexEscape(i.interpolationPrefix):I.interpolationPrefixEscaped,o=i.interpolationSuffix?M.regexEscape(i.interpolationSuffix):I.interpolationSuffixEscaped,s="HTML"+o;return M.each(t,function(t,a){var l=n?n+I.keyseparator+t:t;"object"==typeof a&&null!==a?e=f(e,a,l,i):i.escapeInterpolation||I.escapeInterpolation?(e=e.replace(new RegExp([r,l,s].join(""),"g"),a),e=e.replace(new RegExp([r,l,o].join(""),"g"),M.escape(a))):e=e.replace(new RegExp([r,l,o].join(""),"g"),a)}),e}function m(e,t){var n=M.extend({},t);for(delete n.postProcess;-1!=e.indexOf(I.reusePrefix)&&!(++O>I.maxRecursion);){var i=e.lastIndexOf(I.reusePrefix),r=e.indexOf(I.reuseSuffix,i)+I.reuseSuffix.length,o=e.substring(i,r),s=o.replace(I.reusePrefix,"").replace(I.reuseSuffix,"");if(-1!=s.indexOf(",")){var a=s.indexOf(",");if(-1!=s.indexOf("{",a)&&-1!=s.indexOf("}",a)){var l=s.indexOf("{",a),u=s.indexOf("}",l)+"}".length;try{n=M.extend(n,JSON.parse(s.substring(l,u))),s=s.substring(0,a)}catch(e){}}}var c=x(s,n);e=e.replace(o,c)}return e}function g(e){return e.context&&("string"==typeof e.context||"number"==typeof e.context)}function v(e){return void 0!==e.count&&"string"!=typeof e.count&&1!==e.count}function y(e,t){t=t||{};var n=w(e,t),i=C(e,t);return void 0!==i||i===n}function b(e,t){return t=t||{},j?(O=0,x.apply(null,arguments)):(M.log("i18next not finished initialization. you might have called t function before loading resources finished."),t.defaultValue||"")}function w(e,t){return void 0!==t.defaultValue?t.defaultValue:e}function _(){for(var e=[],t=1;t<arguments.length;t++)e.push(arguments[t]);return{postProcess:"sprintf",sprintf:e}}function x(e,t){if(t&&"object"!=typeof t?"sprintf"===I.shortcutFunction?t=_.apply(null,arguments):"defaultValue"===I.shortcutFunction&&(t={defaultValue:t}):t=t||{},void 0===e||null===e)return"";"string"==typeof e&&(e=[e]);var n=e[0];if(e.length>1)for(var i=0;i<e.length&&(n=e[i],!y(n,t));i++);var r,o=w(n,t),s=C(n,t),a=t.lng?M.toLanguages(t.lng):P,l=t.ns||I.ns.defaultNs;n.indexOf(I.nsseparator)>-1&&(r=n.split(I.nsseparator),l=r[0],n=r[1]),void 0===s&&I.sendMissing&&(t.lng?$.postMissing(a[0],l,n,o,a):$.postMissing(I.lng,l,n,o,a));var u=t.postProcess||I.postProcess;void 0!==s&&u&&H[u]&&(s=H[u](s,n,t));var c=o;if(o.indexOf(I.nsseparator)>-1&&(r=o.split(I.nsseparator),c=r[1]),c===n&&I.parseMissingKey&&(o=I.parseMissingKey(o)),void 0===s&&(o=f(o,t),o=m(o,t),u&&H[u])){var d=w(n,t);s=H[u](d,n,t)}return void 0!==s?s:o}function C(e,t){t=t||{};var n,i,r=w(e,t),o=P;if(!N)return r;if("cimode"===o[0].toLowerCase())return r;if(t.lng&&(o=M.toLanguages(t.lng),!N[o[0]])){var s=I.getAsync;I.getAsync=!1,A.sync.load(o,I,function(e,t){M.extend(N,t),I.getAsync=s})}var a=t.ns||I.ns.defaultNs;if(e.indexOf(I.nsseparator)>-1){var l=e.split(I.nsseparator);a=l[0],e=l[1]}if(g(t)){n=M.extend({},t),delete n.context,n.defaultValue=I.contextNotFound;if((i=b(a+I.nsseparator+e+"_"+t.context,n))!=I.contextNotFound)return f(i,{context:t.context})}if(v(t)){n=M.extend({},t),delete n.count,n.defaultValue=I.pluralNotFound;var u=a+I.nsseparator+e+I.pluralSuffix,c=V.get(o[0],t.count);if(c>=0?u=u+"_"+c:1===c&&(u=a+I.nsseparator+e),(i=b(u,n))!=I.pluralNotFound)return f(i,{count:t.count,interpolationPrefix:t.interpolationPrefix,interpolationSuffix:t.interpolationSuffix})}for(var d,h=e.split(I.keyseparator),p=0,y=o.length;y>p&&void 0===d;p++){for(var _=o[p],k=0,E=N[_]&&N[_][a];h[k];)E=E&&E[h[k]],k++;if(void 0!==E){var S=Object.prototype.toString.apply(E);if("string"==typeof E)E=f(E,t),E=m(E,t);else if("[object Array]"!==S||I.returnObjectTrees||t.returnObjectTrees){if(null===E&&!0===I.fallbackOnNull)E=void 0;else if(null!==E)if(I.returnObjectTrees||t.returnObjectTrees){if("[object Number]"!==S&&"[object Function]"!==S&&"[object RegExp]"!==S){var T="[object Array]"===S?[]:{};M.each(E,function(n){T[n]=x(a+I.nsseparator+e+I.keyseparator+n,t)}),E=T}}else I.objectTreeKeyHandler&&"function"==typeof I.objectTreeKeyHandler?E=I.objectTreeKeyHandler(e,E,_,a,t):(E="key '"+a+":"+e+" ("+_+")' returned an object instead of string.",M.log(E))}else E=E.join("\n"),E=f(E,t),E=m(E,t);"string"==typeof E&&""===E.trim()&&!0===I.fallbackOnEmpty&&(E=void 0),d=E}}if(void 0===d&&!t.isFallbackLookup&&(!0===I.fallbackToDefaultNS||I.fallbackNS&&I.fallbackNS.length>0))if(t.isFallbackLookup=!0,I.fallbackNS.length){for(var O=0,j=I.fallbackNS.length;j>O;O++)if(d=C(I.fallbackNS[O]+I.nsseparator+e,t)){var D=d.indexOf(I.nsseparator)>-1?d.split(I.nsseparator)[1]:d,L=r.indexOf(I.nsseparator)>-1?r.split(I.nsseparator)[1]:r;if(D!==L)break}}else d=C(e,t);return d}function k(){var e,t=[];if("undefined"!=typeof window&&(function(){for(var e=window.location.search.substring(1),n=e.split("&"),i=0;i<n.length;i++){var r=n[i].indexOf("=");if(r>0){var o=n[i].substring(0,r),s=n[i].substring(r+1);t[o]=s}}}(),t[I.detectLngQS]&&(e=t[I.detectLngQS])),!e&&"undefined"!=typeof document&&I.useCookie){var n=M.cookie.read(I.cookieName);n&&(e=n)}return e||"undefined"==typeof navigator||(e=navigator.language?navigator.language:navigator.userLanguage),e}Array.prototype.indexOf||(Array.prototype.indexOf=function(e){"use strict";if(null==this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var i=0;if(arguments.length>0&&(i=Number(arguments[1]),i!=i?i=0:0!=i&&1/0!=i&&i!=-1/0&&(i=(i>0||-1)*Math.floor(Math.abs(i)))),i>=n)return-1;for(var r=i>=0?i:Math.max(n-Math.abs(i),0);n>r;r++)if(r in t&&t[r]===e)return r;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(e){"use strict";if(null==this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var i=n;arguments.length>1&&(i=Number(arguments[1]),i!=i?i=0:0!=i&&i!=1/0&&i!=-1/0&&(i=(i>0||-1)*Math.floor(Math.abs(i))));for(var r=i>=0?Math.min(i,n-1):n-Math.abs(i);r>=0;r--)if(r in t&&t[r]===e)return r;return-1}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var E,S=this,T=S.jQuery||S.Zepto,A={},N={},O=0,P=[],j=!1;"undefined"!=typeof module&&module.exports?module.exports=A:(T&&(T.i18n=T.i18n||A),S.i18n=S.i18n||A);var I={lng:void 0,load:"all",preload:[],lowerCaseLng:!1,returnObjectTrees:!1,fallbackLng:["dev"],fallbackNS:[],detectLngQS:"setLng",ns:"translation",fallbackOnNull:!0,fallbackOnEmpty:!1,fallbackToDefaultNS:!1,nsseparator:":",keyseparator:".",selectorAttr:"data-i18n",debug:!1,resGetPath:"locales/__lng__/__ns__.json",resPostPath:"locales/add/__lng__/__ns__",getAsync:!0,postAsync:!0,resStore:void 0,useLocalStorage:!1,localStorageExpirationTime:6048e5,dynamicLoad:!1,sendMissing:!1,sendMissingTo:"fallback",sendType:"POST",interpolationPrefix:"__",interpolationSuffix:"__",reusePrefix:"$t(",reuseSuffix:")",pluralSuffix:"_plural",pluralNotFound:["plural_not_found",Math.random()].join(""),contextNotFound:["context_not_found",Math.random()].join(""),escapeInterpolation:!1,setJqueryExt:!0,defaultValueFromContent:!0,useDataAttrOptions:!1,cookieExpirationTime:void 0,useCookie:!0,cookieName:"i18next",cookieDomain:void 0,objectTreeKeyHandler:void 0,postProcess:void 0,parseMissingKey:void 0,shortcutFunction:"sprintf"},D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},L={create:function(e,t,n,i){var r;if(n){var o=new Date;o.setTime(o.getTime()+6e4*n),r="; expires="+o.toGMTString()}else r="";i=i?"domain="+i+";":"",document.cookie=e+"="+t+r+";"+i+"path=/"},read:function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "==r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null},remove:function(e){this.create(e,"",-1)}},R={create:function(){},read:function(){return null},remove:function(){}},M={extend:T?T.extend:e,each:T?T.each:t,ajax:T?T.ajax:"undefined"!=typeof document?i:function(){},cookie:"undefined"!=typeof document?L:R,detectLanguage:k,escape:n,log:function(e){I.debug&&"undefined"!=typeof console&&console.log(e)},toLanguages:function(e){var t=[];if("string"==typeof e&&e.indexOf("-")>-1){var n=e.split("-");e=I.lowerCaseLng?n[0].toLowerCase()+"-"+n[1].toLowerCase():n[0].toLowerCase()+"-"+n[1].toUpperCase(),"unspecific"!==I.load&&t.push(e),"current"!==I.load&&t.push(n[0])}else t.push(e);for(var i=0;i<I.fallbackLng.length;i++)-1===t.indexOf(I.fallbackLng[i])&&I.fallbackLng[i]&&t.push(I.fallbackLng[i]);return t},regexEscape:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}};M.applyReplacement=f;var $={load:function(e,t,n){t.useLocalStorage?$._loadLocal(e,t,function(i,r){for(var o=[],s=0,a=e.length;a>s;s++)r[e[s]]||o.push(e[s]);o.length>0?$._fetch(o,t,function(e,t){M.extend(r,t),$._storeLocal(t),n(null,r)}):n(null,r)}):$._fetch(e,t,function(e,t){n(null,t)})},_loadLocal:function(e,t,n){var i={},r=(new Date).getTime();if(window.localStorage){var o=e.length;M.each(e,function(e,s){var a=window.localStorage.getItem("res_"+s);a&&(a=JSON.parse(a),a.i18nStamp&&a.i18nStamp+t.localStorageExpirationTime>r&&(i[s]=a)),0===--o&&n(null,i)})}},_storeLocal:function(e){if(window.localStorage)for(var t in e)e[t].i18nStamp=(new Date).getTime(),window.localStorage.setItem("res_"+t,JSON.stringify(e[t]))},_fetch:function(e,t,n){var i=t.ns,r={};if(t.dynamicLoad){var o=function(e,t){n(null,t)};if("function"==typeof t.customLoad)t.customLoad(e,i.namespaces,t,o);else{var s=f(t.resGetPath,{lng:e.join("+"),ns:i.namespaces.join("+")});M.ajax({url:s,success:function(e){M.log("loaded: "+s),o(0,e)},error:function(e,t,n){M.log("failed loading: "+s),o()},dataType:"json",async:t.getAsync})}}else{var a,l=i.namespaces.length*e.length;M.each(i.namespaces,function(i,o){M.each(e,function(e,i){var s=function(e,t){e&&(a=a||[],a.push(e)),r[i]=r[i]||{},r[i][o]=t,0===--l&&n(a,r)};"function"==typeof t.customLoad?t.customLoad(i,o,t,s):$._fetchOne(i,o,t,s)})})}},_fetchOne:function(e,t,n,i){var r=f(n.resGetPath,{lng:e,ns:t});M.ajax({url:r,success:function(e){M.log("loaded: "+r),i(null,e)},error:function(e,t,n){if(t&&200==t||e&&e.status&&200==e.status)M.log("There is a typo in: "+r);else if(t&&404==t||e&&e.status&&404==e.status)M.log("Does not exist: "+r);else{var o=t||(e&&e.status?e.status:null);M.log(o+" when loading "+r)}i(n,{})},dataType:"json",async:n.getAsync})},postMissing:function(e,t,n,i,r){var o={};o[n]=i;var s=[];if("fallback"===I.sendMissingTo&&!1!==I.fallbackLng[0])for(var a=0;a<I.fallbackLng.length;a++)s.push({lng:I.fallbackLng[a],url:f(I.resPostPath,{lng:I.fallbackLng[a],ns:t})});else if("current"===I.sendMissingTo||"fallback"===I.sendMissingTo&&!1===I.fallbackLng[0])s.push({lng:e,url:f(I.resPostPath,{lng:e,ns:t})});else if("all"===I.sendMissingTo)for(var a=0,l=r.length;l>a;a++)s.push({lng:r[a],url:f(I.resPostPath,{lng:r[a],ns:t})});for(var u=0,c=s.length;c>u;u++){var d=s[u];M.ajax({url:d.url,type:I.sendType,data:o,success:function(){M.log("posted missing key '"+n+"' to: "+d.url);for(var e=n.split("."),r=0,o=N[d.lng][t];e[r];)o=o[e[r]]=r===e.length-1?i:o[e[r]]||{},r++},error:function(){M.log("failed posting missing key '"+n+"' to: "+d.url)},dataType:"json",async:I.postAsync})}}},V={rules:{ach:{name:"Acholi",numbers:[1,2],plurals:function(e){return Number(e>1)}},af:{name:"Afrikaans",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ak:{name:"Akan",numbers:[1,2],plurals:function(e){return Number(e>1)}},am:{name:"Amharic",numbers:[1,2],plurals:function(e){return Number(e>1)}},an:{name:"Aragonese",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ar:{name:"Arabic",numbers:[0,1,2,3,11,100],plurals:function(e){return Number(0===e?0:1==e?1:2==e?2:e%100>=3&&10>=e%100?3:e%100>=11?4:5)}},arn:{name:"Mapudungun",numbers:[1,2],plurals:function(e){return Number(e>1)}},ast:{name:"Asturian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ay:{name:"Aymará",numbers:[1],plurals:function(){return 0}},az:{name:"Azerbaijani",numbers:[1,2],plurals:function(e){return Number(1!=e)}},be:{name:"Belarusian",numbers:[1,2,5],plurals:function(e){return Number(1==e%10&&11!=e%100?0:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?1:2)}},bg:{name:"Bulgarian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},bn:{name:"Bengali",numbers:[1,2],plurals:function(e){return Number(1!=e)}},bo:{name:"Tibetan",numbers:[1],plurals:function(){return 0}},br:{name:"Breton",numbers:[1,2],plurals:function(e){return Number(e>1)}},bs:{name:"Bosnian",numbers:[1,2,5],plurals:function(e){return Number(1==e%10&&11!=e%100?0:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?1:2)}},ca:{name:"Catalan",numbers:[1,2],plurals:function(e){return Number(1!=e)}},cgg:{name:"Chiga",numbers:[1],plurals:function(){return 0}},cs:{name:"Czech",numbers:[1,2,5],plurals:function(e){return Number(1==e?0:e>=2&&4>=e?1:2)}},csb:{name:"Kashubian",numbers:[1,2,5],plurals:function(e){return Number(1==e?0:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?1:2)}},cy:{name:"Welsh",numbers:[1,2,3,8],plurals:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)}},da:{name:"Danish",numbers:[1,2],plurals:function(e){return Number(1!=e)}},de:{name:"German",numbers:[1,2],plurals:function(e){return Number(1!=e)}},dz:{name:"Dzongkha",numbers:[1],plurals:function(){return 0}},el:{name:"Greek",numbers:[1,2],plurals:function(e){return Number(1!=e)}},en:{name:"English",numbers:[1,2],plurals:function(e){return Number(1!=e)}},eo:{name:"Esperanto",numbers:[1,2],plurals:function(e){return Number(1!=e)}},es:{name:"Spanish",numbers:[1,2],plurals:function(e){return Number(1!=e)}},es_ar:{name:"Argentinean Spanish",numbers:[1,2],plurals:function(e){return Number(1!=e)}},et:{name:"Estonian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},eu:{name:"Basque",numbers:[1,2],plurals:function(e){return Number(1!=e)}},fa:{name:"Persian",numbers:[1],plurals:function(){return 0}},fi:{name:"Finnish",numbers:[1,2],plurals:function(e){return Number(1!=e)}},fil:{name:"Filipino",numbers:[1,2],plurals:function(e){return Number(e>1)}},fo:{name:"Faroese",numbers:[1,2],plurals:function(e){return Number(1!=e)}},fr:{name:"French",numbers:[1,2],plurals:function(e){return Number(e>1)}},fur:{name:"Friulian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},fy:{name:"Frisian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ga:{name:"Irish",numbers:[1,2,3,7,11],plurals:function(e){return Number(1==e?0:2==e?1:7>e?2:11>e?3:4)}},gd:{name:"Scottish Gaelic",numbers:[1,2,3,20],plurals:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&20>e?2:3)}},gl:{name:"Galician",numbers:[1,2],plurals:function(e){return Number(1!=e)}},gu:{name:"Gujarati",numbers:[1,2],plurals:function(e){return Number(1!=e)}},gun:{name:"Gun",numbers:[1,2],plurals:function(e){return Number(e>1)}},ha:{name:"Hausa",numbers:[1,2],plurals:function(e){return Number(1!=e)}},he:{name:"Hebrew",numbers:[1,2],plurals:function(e){return Number(1!=e)}},hi:{name:"Hindi",numbers:[1,2],plurals:function(e){return Number(1!=e)}},hr:{name:"Croatian",numbers:[1,2,5],plurals:function(e){return Number(1==e%10&&11!=e%100?0:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?1:2)}},hu:{name:"Hungarian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},hy:{name:"Armenian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ia:{name:"Interlingua",numbers:[1,2],plurals:function(e){return Number(1!=e)}},id:{name:"Indonesian",numbers:[1],plurals:function(){return 0}},is:{name:"Icelandic",numbers:[1,2],plurals:function(e){return Number(1!=e%10||11==e%100)}},it:{name:"Italian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ja:{name:"Japanese",numbers:[1],plurals:function(){return 0}},jbo:{name:"Lojban",numbers:[1],plurals:function(){return 0}},jv:{name:"Javanese",numbers:[0,1],plurals:function(e){return Number(0!==e)}},ka:{name:"Georgian",numbers:[1],plurals:function(){return 0}},kk:{name:"Kazakh",numbers:[1],plurals:function(){return 0}},km:{name:"Khmer",numbers:[1],plurals:function(){return 0}},kn:{name:"Kannada",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ko:{name:"Korean",numbers:[1],plurals:function(){return 0}},ku:{name:"Kurdish",numbers:[1,2],plurals:function(e){return Number(1!=e)}},kw:{name:"Cornish",numbers:[1,2,3,4],plurals:function(e){return Number(1==e?0:2==e?1:3==e?2:3)}},ky:{name:"Kyrgyz",numbers:[1],plurals:function(){return 0}},lb:{name:"Letzeburgesch",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ln:{name:"Lingala",numbers:[1,2],plurals:function(e){return Number(e>1)}},lo:{name:"Lao",numbers:[1],plurals:function(){return 0}},lt:{name:"Lithuanian",numbers:[1,2,10],plurals:function(e){return Number(1==e%10&&11!=e%100?0:e%10>=2&&(10>e%100||e%100>=20)?1:2)}},lv:{name:"Latvian",numbers:[1,2,0],plurals:function(e){return Number(1==e%10&&11!=e%100?0:0!==e?1:2)}},mai:{name:"Maithili",numbers:[1,2],plurals:function(e){return Number(1!=e)}},mfe:{name:"Mauritian Creole",numbers:[1,2],plurals:function(e){return Number(e>1)}},mg:{name:"Malagasy",numbers:[1,2],plurals:function(e){return Number(e>1)}},mi:{name:"Maori",numbers:[1,2],plurals:function(e){return Number(e>1)}},mk:{name:"Macedonian",numbers:[1,2],plurals:function(e){return Number(1==e||1==e%10?0:1)}},ml:{name:"Malayalam",numbers:[1,2],plurals:function(e){return Number(1!=e)}},mn:{name:"Mongolian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},mnk:{name:"Mandinka",numbers:[0,1,2],plurals:function(e){return Number(1==e?1:2)}},mr:{name:"Marathi",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ms:{name:"Malay",numbers:[1],plurals:function(){return 0}},mt:{name:"Maltese",numbers:[1,2,11,20],plurals:function(e){return Number(1==e?0:0===e||e%100>1&&11>e%100?1:e%100>10&&20>e%100?2:3)}},nah:{name:"Nahuatl",numbers:[1,2],plurals:function(e){return Number(1!=e)}},nap:{name:"Neapolitan",numbers:[1,2],plurals:function(e){return Number(1!=e)}},nb:{name:"Norwegian Bokmal",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ne:{name:"Nepali",numbers:[1,2],plurals:function(e){return Number(1!=e)}},nl:{name:"Dutch",numbers:[1,2],plurals:function(e){return Number(1!=e)}},nn:{name:"Norwegian Nynorsk",numbers:[1,2],plurals:function(e){return Number(1!=e)}},no:{name:"Norwegian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},nso:{name:"Northern Sotho",numbers:[1,2],plurals:function(e){return Number(1!=e)}},oc:{name:"Occitan",numbers:[1,2],plurals:function(e){return Number(e>1)}},or:{name:"Oriya",numbers:[2,1],plurals:function(e){return Number(1!=e)}},pa:{name:"Punjabi",numbers:[1,2],plurals:function(e){return Number(1!=e)}},pap:{name:"Papiamento",numbers:[1,2],plurals:function(e){return Number(1!=e)}},pl:{name:"Polish",numbers:[1,2,5],plurals:function(e){return Number(1==e?0:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?1:2)}},pms:{name:"Piemontese",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ps:{name:"Pashto",numbers:[1,2],plurals:function(e){return Number(1!=e)}},pt:{name:"Portuguese",numbers:[1,2],plurals:function(e){return Number(1!=e)}},pt_br:{name:"Brazilian Portuguese",numbers:[1,2],plurals:function(e){return Number(1!=e)}},rm:{name:"Romansh",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ro:{name:"Romanian",numbers:[1,2,20],plurals:function(e){return Number(1==e?0:0===e||e%100>0&&20>e%100?1:2)}},ru:{name:"Russian",numbers:[1,2,5],plurals:function(e){return Number(1==e%10&&11!=e%100?0:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?1:2)}},sah:{name:"Yakut",numbers:[1],plurals:function(){return 0}},sco:{name:"Scots",numbers:[1,2],plurals:function(e){return Number(1!=e)}},se:{name:"Northern Sami",numbers:[1,2],plurals:function(e){return Number(1!=e)}},si:{name:"Sinhala",numbers:[1,2],plurals:function(e){return Number(1!=e)}},sk:{name:"Slovak",numbers:[1,2,5],plurals:function(e){return Number(1==e?0:e>=2&&4>=e?1:2)}},sl:{name:"Slovenian",numbers:[5,1,2,3],plurals:function(e){return Number(1==e%100?1:2==e%100?2:3==e%100||4==e%100?3:0)}},so:{name:"Somali",numbers:[1,2],plurals:function(e){return Number(1!=e)}},son:{name:"Songhay",numbers:[1,2],plurals:function(e){return Number(1!=e)}},sq:{name:"Albanian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},sr:{name:"Serbian",numbers:[1,2,5],plurals:function(e){return Number(1==e%10&&11!=e%100?0:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?1:2)}},su:{name:"Sundanese",numbers:[1],plurals:function(){return 0}},sv:{name:"Swedish",numbers:[1,2],plurals:function(e){return Number(1!=e)}},sw:{name:"Swahili",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ta:{name:"Tamil",numbers:[1,2],plurals:function(e){return Number(1!=e)}},te:{name:"Telugu",numbers:[1,2],plurals:function(e){return Number(1!=e)}},tg:{name:"Tajik",numbers:[1,2],plurals:function(e){return Number(e>1)}},th:{name:"Thai",numbers:[1],plurals:function(){return 0}},ti:{name:"Tigrinya",numbers:[1,2],plurals:function(e){return Number(e>1)}},tk:{name:"Turkmen",numbers:[1,2],plurals:function(e){return Number(1!=e)}},tr:{name:"Turkish",numbers:[1,2],plurals:function(e){return Number(e>1)}},tt:{name:"Tatar",numbers:[1],plurals:function(){return 0}},ug:{name:"Uyghur",numbers:[1],plurals:function(){return 0}},uk:{name:"Ukrainian",numbers:[1,2,5],plurals:function(e){return Number(1==e%10&&11!=e%100?0:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?1:2)}},ur:{name:"Urdu",numbers:[1,2],plurals:function(e){return Number(1!=e)}},uz:{name:"Uzbek",numbers:[1,2],plurals:function(e){return Number(e>1)}},vi:{name:"Vietnamese",numbers:[1],plurals:function(){return 0}},wa:{name:"Walloon",numbers:[1,2],plurals:function(e){return Number(e>1)}},wo:{name:"Wolof",numbers:[1],plurals:function(){return 0}},yo:{name:"Yoruba",numbers:[1,2],plurals:function(e){return Number(1!=e)}},zh:{name:"Chinese",numbers:[1],plurals:function(){return 0}}},addRule:function(e,t){V.rules[e]=t},setCurrentLng:function(e){if(!V.currentRule||V.currentRule.lng!==e){var t=e.split("-");V.currentRule={lng:e,rule:V.rules[t[0]]}}},get:function(e,t){var n=e.split("-");return function(t,n){var i;if(i=V.currentRule&&V.currentRule.lng===e?V.currentRule.rule:V.rules[t]){var r=i.plurals(n),o=i.numbers[r];return 2===i.numbers.length&&1===i.numbers[0]&&(2===o?o=-1:1===o&&(o=1)),o}return 1===n?"1":"-1"}(n[0],t)}},H={},F=function(e,t){H[e]=t},B=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function t(e,t){for(var n=[];t>0;n[--t]=e);return n.join("")}var n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.format=function(n,i){var r,o,s,a,l,u,c,d=1,h=n.length,p="",f=[];for(o=0;h>o;o++)if("string"===(p=e(n[o])))f.push(n[o]);else if("array"===p){if(a=n[o],a[2])for(r=i[d],s=0;s<a[2].length;s++){if(!r.hasOwnProperty(a[2][s]))throw B('[sprintf] property "%s" does not exist',a[2][s]);r=r[a[2][s]]}else r=a[1]?i[a[1]]:i[d++];if(/[^s]/.test(a[8])&&"number"!=e(r))throw B("[sprintf] expecting number but found %s",e(r));switch(a[8]){case"b":r=r.toString(2);break;case"c":r=String.fromCharCode(r);break;case"d":r=parseInt(r,10);break;case"e":r=a[7]?r.toExponential(a[7]):r.toExponential();break;case"f":r=a[7]?parseFloat(r).toFixed(a[7]):parseFloat(r);break;case"o":r=r.toString(8);break;case"s":r=(r=String(r))&&a[7]?r.substring(0,a[7]):r;break;case"u":r=Math.abs(r);break;case"x":r=r.toString(16);break;case"X":r=r.toString(16).toUpperCase()}r=/[def]/.test(a[8])&&a[3]&&r>=0?"+"+r:r,u=a[4]?"0"==a[4]?"0":a[4].charAt(1):" ",c=a[6]-String(r).length,l=a[6]?t(u,c):"",f.push(a[5]?r+l:l+r)}return f.join("")},n.cache={},n.parse=function(e){for(var t=e,n=[],i=[],r=0;t;){if(null!==(n=/^[^\x25]+/.exec(t)))i.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(t)))i.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t)))throw"[sprintf] huh?";if(n[2]){r|=1;var o=[],s=n[2],a=[]
;if(null===(a=/^([a-z_][a-z_\d]*)/i.exec(s)))throw"[sprintf] huh?";for(o.push(a[1]);""!==(s=s.substring(a[0].length));)if(null!==(a=/^\.([a-z_][a-z_\d]*)/i.exec(s)))o.push(a[1]);else{if(null===(a=/^\[(\d+)\]/.exec(s)))throw"[sprintf] huh?";o.push(a[1])}n[2]=o}else r|=2;if(3===r)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";i.push(n)}t=t.substring(n[0].length)}return i},n}(),q=function(e,t){return t.unshift(e),B.apply(null,t)};F("sprintf",function(e,t,n){return n.sprintf?"[object Array]"===Object.prototype.toString.apply(n.sprintf)?q(e,n.sprintf):"object"==typeof n.sprintf?B(e,n.sprintf):e:e}),A.init=r,A.setLng=d,A.preload=o,A.addResourceBundle=s,A.removeResourceBundle=a,A.loadNamespace=u,A.loadNamespaces=c,A.setDefaultNamespace=l,A.t=b,A.translate=b,A.exists=y,A.detectLanguage=M.detectLanguage,A.pluralExtensions=V,A.sync=$,A.functions=M,A.lng=h,A.addPostProcessor=F,A.options=I}(),define("i18next",["jquery","handlebars"],function(e){return function(){return e.i18n}}(this)),define("org/forgerock/commons/ui/common/util/CookieHelper",["lodash"],function(e){var t={};return t.createCookie=function(e,t,n,i,r,o){var s,a,l,u,c;return s=n?";expires="+n.toGMTString():"",a=e+"="+t,l=i?";path="+i:"",u=r?";domain="+r:"",c=o?";secure":"",a+s+l+u+c},t.setCookie=function(n,i,r,o,s,a){e.isArray(s)||(s=[s]),0===s.length?document.cookie=t.createCookie(n,i,r,o,void 0,a):e.each(s,function(e){document.cookie=t.createCookie(n,i,r,o,e,a)})},t.getCookie=function(e){var t,n,i,r=document.cookie.split(";");for(t=0;t<r.length;t++)if(n=r[t].substr(0,r[t].indexOf("=")),i=r[t].substr(r[t].indexOf("=")+1),(n=n.replace(/^\s+|\s+$/g,""))===e)return unescape(i)},t.deleteCookie=function(e,n,i){var r=new Date;r.setTime(r.getTime()+-864e5),t.setCookie(e,"",r,n,i)},t.cookiesEnabled=function(){return this.setCookie("cookieTest","test"),!!this.getCookie("cookieTest")&&(this.deleteCookie("cookieTest"),!0)},t}),define("org/forgerock/commons/ui/common/main/i18nManager",["jquery","lodash","require","handlebars","i18next","module","org/forgerock/commons/ui/common/util/CookieHelper"],function(e,t,n,i,r,o,s){var a={};return a.init=function(l){var u=[],c={},d={},h=l.nameSpace?l.nameSpace:"translation";return d.locale=l.paramLang.locale||s.getCookie("i18next"),d.locale&&(u=d.locale.split(" "),l.serverLang=u.shift()),l.defaultLang&&u.push(l.defaultLang),a.lang&&a.lang===l.serverLang?e.Deferred().resolve():(a.lang=l.serverLang,c={fallbackLng:u,detectLngQS:"locale",getAsync:!1,useCookie:!0,lng:l.serverLang,load:o.config().i18nLoad||"current",ns:h,nsseparator:":::",resGetPath:n.toUrl("locales/__lng__/__ns__.json"),objectTreeKeyHandler:function(e){return e}},i.registerHelper("t",function(e,n){return n=n||{},!1!==t.get(n.hash,"safeString")?new i.SafeString(r.t(e,n.hash)):r.t(e,n.hash)}),i.registerHelper("mapTranslate",function(e){var n;return t.has(e,r.options.lng)?new i.SafeString(e[r.options.lng]):(n=t.find(r.options.fallbackLng,function(n){return t.has(e,n)}),new i.SafeString(e[n]))}),r.init(c))},a}),define("org/forgerock/commons/ui/common/util/detectiOS",[],function(){return function(){return parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||!1}}),define("org/forgerock/commons/ui/common/main/ServiceInvoker",["jquery","underscore","org/forgerock/commons/ui/common/main/AbstractConfigurationAware","org/forgerock/commons/ui/common/main/ErrorsHandler","org/forgerock/commons/ui/common/main/EventManager","org/forgerock/commons/ui/common/main/i18nManager","org/forgerock/commons/ui/common/util/Constants","org/forgerock/commons/ui/common/util/detectiOS"],function(e,t,n,i,r,o,s,a){var l=new n;return l.restCall=function(n){var u,c,d=n.success,h=n.error,p=n.hasOwnProperty("dataType"),f=p&&"json"===n.dataType,m=e.Deferred(),g=!!window.MSInputMethodContext&&!!document.documentMode;return u=function(){m.resolve.apply(m,arguments)},c=function(t,o,a){n.suppressEvents?(h&&h(t),m.reject.apply(m,arguments)):401!==t.status||i.matchError({status:401},n.errorsHandlers)?(r.sendEvent(s.EVENT_REST_CALL_ERROR,{data:e.extend({},t,{type:this.type}),textStatus:o,errorThrown:a,errorsHandlers:n.errorsHandlers}),h&&h(t),m.reject.apply(m,arguments)):r.sendEvent(s.EVENT_SHOW_LOGIN_DIALOG,{authenticatedCallback:function(){e.ajax(n).then(u,c)}})},p&&!f||(n.dataType="json",n.contentType="application/json"),l.applyDefaultHeadersIfNecessary(n,l.configuration.defaultHeaders),n.suppressEvents||r.sendEvent(s.EVENT_START_REST_CALL,{suppressSpinner:n.suppressSpinner}),n.success=function(t,i,o){t&&t.error?(n.suppressEvents||r.sendEvent(s.EVENT_REST_CALL_ERROR,{data:e.extend({},t,{type:this.type}),textStatus:i,jqXHR:o,errorsHandlers:n.errorsHandlers}),h&&h(t)):(n.suppressEvents||r.sendEvent(s.EVENT_END_REST_CALL,{data:t,textStatus:i,jqXHR:o}),d&&d(t,o))},delete n.error,n.xhrFields={withCredentials:!0},n.headers["X-Requested-With"]="XMLHttpRequest",t.has(n.headers,"Cache-Control")||(n.headers["Cache-Control"]="no-cache"),t.has(n.headers,"Accept-Language")||(n.headers["Accept-Language"]=o.lang),t.inRange(a(),9,10)&&(n.async=!1),g?setTimeout(function(){e.ajax(n).then(u,c)},1):e.ajax(n).then(u,c),m},l.applyDefaultHeadersIfNecessary=function(e,t){var n;if(t)if(e.headers)for(n in t)void 0===e.headers[n]&&(e.headers[n]=t[n]);else e.headers=t},l});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};define("org/forgerock/commons/ui/common/main/AbstractDelegate",["underscore","org/forgerock/commons/ui/common/util/Constants","org/forgerock/commons/ui/common/main/Configuration","org/forgerock/commons/ui/common/main/ServiceInvoker"],function(e,t,n,i){var r=function(e){var n=new RegExp("^"+t.context+"/([\\w/]*)"),i=e.match(n);this.serviceUrl=e,i&&i.length>1&&(this.baseEntity=i[1])};return r.prototype.serviceCall=function(e){return e.hasOwnProperty("headers")||(e.headers={}),n.hasOwnProperty("passwords")&&n.passwords.hasOwnProperty("password")&&(e.headers[t.HEADER_PARAM_REAUTH]=n.passwords.password),e.url=e.hasOwnProperty("url")?e.url:"",e.serviceUrl?e.url=e.serviceUrl+e.url:e.url=this.serviceUrl+e.url,i.restCall(e)},r.prototype.createEntity=function(e,t,n,i){var r={};if("object"===(void 0===e?"undefined":_typeof(e))&&null!==e)throw"Invalid id value passed to createEntity";return null!==e&&void 0!==e?(t._rev?r["If-None-Match"]='"'+t._rev+'"':r["If-None-Match"]='"*"',this.serviceCall({url:"/"+e,type:"PUT",success:n,error:i,data:JSON.stringify(t),headers:r})):this.serviceCall({url:"?_action=create",type:"POST",success:n,error:i,data:JSON.stringify(t),headers:r})},r.prototype.deleteEntity=function(e,t,n){var i=this;return this.readEntity(e,null,n).then(function(r){var o={url:"/"+e,type:"DELETE",success:t,error:n};return r._rev&&(o.headers=[],o.headers["If-Match"]='"'+r._rev+'"'),i.serviceCall(o)})},r.prototype.readEntity=function(e,t,n){return this.serviceCall({url:"/"+e,type:"GET",success:t,error:n})},r.prototype.updateEntity=function(e,t,n,i){var r={};return t._rev?r["If-Match"]='"'+t._rev+'"':r["If-Match"]='"*"',this.serviceCall({url:"/"+e,type:"PUT",success:n,error:i,data:JSON.stringify(t),headers:r})},r.prototype.patchEntityDifferences=function(e,t,n,i,r,o,s){var a=this.getDifferences(t,n);return a.length?this.patchEntity(e,a,i,r,o,s):void(o&&o())},r.prototype.patchEntity=function(t,n,i,r,o,s){var a;for(a=0;a<n.length;a++)"string"==typeof n[a].field&&0!==e.indexOf(n[a].field,"/")&&(n[a].field="/"+n[a].field);return this.serviceCall({url:"/"+t.id,type:"PATCH",success:i,error:r,data:JSON.stringify(n),headers:{"If-Match":'"'+t.rev+'"'},errorsHandlers:s})},r.prototype.patchEntityAttribute=function(e,t,n,i,r,o){return this.patchEntity(e,[{operation:"replace",field:t,value:n}],i,r,o)},r.prototype.getDifferences=function(t,n,i){var r,o,s,a=[],l={};i||(i="replace");for(s in n)"function"!=typeof n[s]&&(r=n[s],o=t[s],""===r&&!o||e.isEqual(r,o)||(l={operation:i,field:s,value:r},a.push(l)));return a},r}),define("org/forgerock/openidm/ui/common/util/ThemeManager",["jquery","lodash","org/forgerock/openidm/ui/common/util/Constants","org/forgerock/commons/ui/common/main/Configuration","org/forgerock/openidm/ui/common/delegates/ConfigDelegate"],function(e,t,n,i,r){var o,s={};return s.loadThemeCSS=function(n){e("head").find("link[href*=favicon]").remove(),e("<link/>",{rel:"icon",type:"image/x-icon",href:require.toUrl(n.path+n.icon)}).appendTo("head"),e("<link/>",{rel:"shortcut icon",type:"image/x-icon",href:require.toUrl(n.path+n.icon)}).appendTo("head"),t.forEach(n.stylesheets,function(t){e("<link/>",{rel:"stylesheet",type:"text/css",href:require.toUrl(t)}).appendTo("head")})},s.loadThemeConfig=function(){var t=e.Deferred();return i.globalData.themeConfig?(t.resolve(i.globalData.themeConfig),t):r.readEntity("ui/themeconfig")},s.getTheme=function(){return void 0===o&&(o=s.loadThemeConfig().then(function(e){return i.globalData.theme=e,s.loadThemeCSS(e),e})),o},s});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};define("org/forgerock/commons/ui/common/util/UIUtils",["jquery","underscore","require","handlebars","i18next","ThemeManager","org/forgerock/commons/ui/common/main/AbstractConfigurationAware","org/forgerock/commons/ui/common/main/Router","org/forgerock/commons/ui/common/util/detectiOS","org/forgerock/commons/ui/common/util/ModuleLoader"],function(e,t,n,i,r,o,s,a,l,u){function c(i){return e.ajax({async:!t.inRange(l(),9,10),dataType:"html",type:"GET",url:n.toUrl(i)})}function d(e,t){return c(e).done(function(e){f.templates[t]=e})}function h(e,t,n){return c(e).then(function(e){return"unknown"!==n&&null!==n&&(f.templates[t]=e,e=i.compile(e)(n)),e})}function p(e,t){return c(t).then(function(t){i.registerPartial(e,i.compile(t))})}var f=new s;return f.templates={},f.renderTemplate=function(e,t,n,i,r,o){return f.compileTemplate(e,n).then(function(e){if(o&&!o())return!1;"append"===r?t.append(e):t.html(e),i&&i()})},f.fillTemplateWithData=function(e,t,n){return f.compileTemplate(e,t).then(n)},f.compileTemplate=function(t,n){return t?o.getTheme().then(function(e){var r=e.path+t,o=e.path?r:t;return f.templates[o]?i.compile(f.templates[o])(n):e.path?h(r,r,n).then(null,function(){return console.log(r+" was not found. Trying "+t),h(t,r,n)}):h(t,t,n)}):e.Deferred().resolve("")},f.preloadTemplates=function(n){return"string"==typeof n&&(n=[n]),o.getTheme().then(function(i){var r=[];return i.path?t.each(n,function(e){var t=i.path+e;r.push(d(t,t).then(null,function(){console.log(t+" was not found. Trying "+e),r.push(d(e,t))}))}):t.each(n,function(e){r.push(d(e,e))}),e.when.apply(e,r)})},f.preloadInitialTemplates=function(){f.preloadTemplates(f.configuration.templateUrls)},f.preloadPartial=function(e){var t=e.replace(/(^partials\/)|(\.html$)/g,"");return o.getTheme().then(function(n){return i.partials[t]?void 0:n.path?p(t,n.path+e).then(null,function(){return console.log(n.path+e+" was not found. Trying "+e),p(t,e)}):p(t,e)})},f.preloadInitialPartials=function(){t.each(f.configuration.partialUrls,function(e){f.preloadPartial(e)})},e.fn.emptySelect=function(){return this.each(function(){"SELECT"===this.tagName&&(this.options.length=0)})},e.fn.loadSelect=function(e){return this.emptySelect().each(function(){if("SELECT"===this.tagName){var t,n,i=this;for(t=0;t<e.length;t++)n=new Option(e[t].value,e[t].key),i.options[i.options.length]=n}})},e.event.special.delayedkeyup={setup:function(){e(this).bind("keyup",e.event.special.delayedkeyup.handler)},teardown:function(){e(this).unbind("keyup",e.event.special.delayedkeyup.handler)},handler:function(t){var n=this,i=arguments;t.type="delayedkeyup",e.doTimeout("delayedkeyup",250,function(){e.event.handle.apply(n,i)})}},i.registerHelper("selectm",function(n,r,o,s,a,l){var u,c,d,h,p,f="";c="<select",r&&t.isString(r)&&(c+=' name="'+r+'"'),a&&(c+=' multiple="multiple"'),l&&(c+=' style="height: '+l+'px"'),c+=">",d="</select> ";for(p in n)h=!1,s&&t.isString(s)?s===n[p]&&(h=!0):o&&o===p&&(h=!0),f+=h?'<option value="'+p+'" selected="true">'+e.t(n[p])+"</option>":'<option value="'+p+'">'+e.t(n[p])+"</option>";return u=c+f+d,new i.SafeString(u)}),i.registerHelper("staticSelect",function(t,n){var i=e("<select />").html(n.fn(this));return void 0!==t&&null!==t&&i.find("[value='"+t.toString().replace("'","\\'")+"']").attr({selected:"selected"}),i.html()}),i.registerHelper("select",function(n,r,o,s,a){var l,u,c,d,h,p,f="";n&&t.isString(n)&&(n=JSON.parse(n)),u=r&&t.isString(r)?'<select name="'+r+'" '+a+">":"<select>",c="</select> ";for(h in n)d=!1,s&&t.isString(s)&&""!==s?s===n[h]&&(d=!0):o&&""!==o&&o===h&&(d=!0),p="__null"===h?"":h,f+=d?'<option value="'+p+'" selected="true">'+e.t(n[h])+"</option>":'<option value="'+p+'">'+e.t(n[h])+"</option>";return l=u+f+c,new i.SafeString(l)}),i.registerHelper("p",function(e,t){var n,o;return n={count:e},o=r.t(t.hash.key,n),new i.SafeString(o)}),i.registerHelper("equals",function(e,t,n){return e===t?n.fn(this):n.inverse(this)}),i.registerHelper("checkbox",function(e,n){var r,o="<div class='checkboxList' id='"+n+"'><ol>",s=t.chain(e).pairs().sortBy(function(e){return e[1]}).value();for(r=0;r<s.length;r++)o+='<li><input type="checkbox" name="'+n+'" value="'+s[r][0]+'" id="'+n+"_"+encodeURIComponent(s[r][0])+'"><label for="'+n+"_"+encodeURIComponent(s[r][0])+'">'+s[r][1]+"</label></li>";return o+="</ol></div>",new i.SafeString(o)}),i.registerHelper("siteImages",function(e){var t,n="";for(t=0;t<e.length;t++)n+='<img class="item" src="'+encodeURI(e[t])+'" data-site-image="'+encodeURI(e[t])+'" />';return new i.SafeString(n)}),i.registerHelper("each_with_index",function(e,t){var n,i="",r=0,o=0,s=0;for(o=0,s=e.length;o<s;o++)e[o]&&(n={},n.value=e[o],n.index=r,n.first=0===r,n.last=r===e.length,i+=t.fn(n),r++);return i}),i.registerHelper("camelCaseToTitle",function(e){var t=e.replace(/([a-z])([A-Z])/g,"$1 $2");return new i.SafeString(t[0].toUpperCase()+t.slice(1))}),i.registerHelper("stringify",function(e,t){return t=t||0,JSON.stringify(e,null,t)}),i.registerHelper("ifObject",function(e,t){return"object"===(void 0===e?"undefined":_typeof(e))?t.fn(this):t.inverse(this)}),i.registerHelper("urlTo",function(e){var t=[].concat(arguments[1]);return"#"+a.getLink(a.configuration.routes[e],t)}),i.registerHelper("routeTo",function(e){var n="#",r=t.toArray(arguments).slice(1,-1);return r=t.map(r,function(e){return encodeURIComponent(e)}),n+=a.getLink(a.configuration.routes[e],r),new i.SafeString(n)}),i.registerHelper("partial",function(e,t){var n=i.partials[e];if(n)return new i.SafeString(n(t));console.error('Handlebars "partial" helper unable to find partial "'+e+'"')}),f.loadSelectOptions=function(t,n,i,r){void 0!==i&&!0!==i||(t=[{key:"",value:e.t("common.form.pleaseSelect")}].concat(t)),n.loadSelect(t),r&&r(t)},f.jqConfirm=function(e,t){this.confirmDialog(e,"default",t)},f.confirmDialog=function(t,n,i,r){r=r||{},u.load("bootstrap-dialog").then(function(o){var s="btn-"+n;"default"===n&&(s="btn-primary"),o.show({title:r.title||e.t("common.form.confirm"),type:"type-"+n,message:t,id:"frConfirmationDialog",buttons:[{label:r.cancelText||e.t("common.form.cancel"),id:"frConfirmationDialogBtnClose",action:function(e){r.cancelCallback&&r.cancelCallback(),e.close()}},{label:r.okText||e.t("common.form.ok"),cssClass:s,id:"frConfirmationDialogBtnOk",action:function(e){i&&i(),e.close()}}]})})},f.responseMessageMatch=function(e,t){return JSON.parse(e).message.indexOf(t)>-1},t.mixin({findByValues:function(e,n,i){return t.filter(e,function(e){return t.contains(i,e[n])})},removeByValues:function(e,n,i){return t.reject(e,function(e){return t.contains(i,e[n])})},isUrl:function(e){return/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e)}}),f}),define("org/forgerock/commons/ui/common/main/ValidatorsManager",["jquery","lodash","org/forgerock/commons/ui/common/main/AbstractConfigurationAware","org/forgerock/commons/ui/common/util/ModuleLoader"],function(e,t,n,i){var r=new n;return r.defaultEvents="keyup change blur paste validate",r.bindValidators=function(n){var i=t.toArray(arguments);e(n).find(":input").each(function(){r.bindValidatorsForField(n,e(this))}),t.each(r.afterBindValidators,function(e){e.apply(this,i)},this)},r.afterBindValidators=[function(){t.each(t.toArray(arguments),function(e){t.isFunction(e)&&e()})}],r.bindValidatorsForField=function(e,n){var i=r.defaultEvents+" "+(n.attr("data-validator-event")||"");n.off(i),n.on(i,t.debounce(function(){r.evaluateAllValidatorsForField(n,e)},100,{leading:!0,trailing:!1}))},r.validateAllFields=function(e){e.find(":input").trigger("validate")},r.evaluateAllValidatorsForField=function(n,i){var o=n.attr("data-validator");return o?e.when.apply(e,t.map(o.split(" "),function(e){return r.evaluateValidator(e,n,i)})).then(function(){var e=t(arguments).toArray().flatten().filter(function(e){return void 0!==e}).uniq().value();return e.length?r.validationFailed(n,e):r.validationSucceeded(n),r.evaluateDependentFields(n,i)}):(r.validationSucceeded(n),r.evaluateDependentFields(n,i))},r.evaluateDependentFields=function(n,i){var o=n.attr("data-validation-dependents");return o?e.when.apply(e,t.toArray(i.find(":input").filter(function(){return-1!==e.inArray(e(this).attr("id"),o.split(","))}).map(function(){return r.evaluateAllValidatorsForField(e(this),i)}))):e.Deferred().resolve()},r.evaluateValidator=function(n,r,o){var s=e.Deferred(),a=this.configuration.validators[n],l=[o,r,t.bind(s.resolve,s)];return void 0!==a?(e.when.apply(e,t.map(a.dependencies,i.load)).then(t.bind(function(){a.validator.apply(this,l.concat(t.toArray(arguments)))},this)),s):void 0},r.validationSucceeded=function(e){e.attr("data-validation-status","ok"),e.data("validation-failures",[]),e.trigger("validationSuccessful"),e.trigger("customValidate")},r.validationFailed=function(e,t){e.attr("data-validation-status","error"),e.data("validation-failures",t),e.trigger("validationFailed",{failures:t}),e.trigger("customValidate")},r.formValidated=function(e){return 0===e.find("[data-validation-status=error]:visible").length},r.clearValidators=function(t){e(t).find("[data-validation-status]").each(function(){e(this).removeAttr("data-validation-status").trigger("validationReset")})},r}),define("org/forgerock/commons/ui/common/main/AbstractView",["jquery","underscore","backbone","org/forgerock/commons/ui/common/main/Configuration","org/forgerock/commons/ui/common/util/Constants","org/forgerock/commons/ui/common/main/EventManager","org/forgerock/commons/ui/common/util/ModuleLoader","org/forgerock/commons/ui/common/main/Router","ThemeManager","org/forgerock/commons/ui/common/util/UIUtils","org/forgerock/commons/ui/common/main/ValidatorsManager"],function(e,t,n,i,r,o,s,a,l,u,c){function d(t){return t&&t.target?s.load("bootstrap").then(function(){return e(t.target)}):e.Deferred().reject()}function h(e){var t=e.find("input[type=submit]");t.length||(t=e.find("#submit")),t.length&&t.prop("disabled",!c.formValidated(e))}return n.View.extend({element:"#content",baseTemplate:"templates/common/DefaultBaseTemplate.html",mode:"replace",defaultEvents:{"validationSuccessful :input":"validationSuccessful","validationReset :input":"validationSuccessful","validationFailed :input":"validationFailed"},initialize:function(){this.data=this.data||{},t.extend(this.events,this.defaultEvents),this.delegateEvents()},parentRender:function(n){this.callback=n;var s=this,a=function(){return i.baseTemplate!==s.baseTemplate&&!s.noBaseTemplate};o.registerListener(r.EVENT_REQUEST_RESEND_REQUIRED,function(){s.unlock()}),l.getTheme().then(function(n){s.data.theme=n,a()?u.renderTemplate(s.baseTemplate,e("#wrapper"),t.extend({},i.globalData,s.data),t.bind(s.loadTemplate,s),"replace",a):s.loadTemplate()})},loadTemplate:function(){var n=this,s=function(){return!t.has(n,"route")||(!n.route.url.length&&""===a.getCurrentHash().replace(/^#/,"")||(n.route===a.configuration.routes.login||a.getCurrentHash().replace(/^#/,"").match(n.route.url)))};this.setElement(e(this.element)),this.$el.unbind(),this.delegateEvents(),i.baseTemplate===this.baseTemplate||this.noBaseTemplate||(i.setProperty("baseTemplate",this.baseTemplate),o.sendEvent(r.EVENT_CHANGE_BASE_VIEW)),e.when.apply(e,t.map(this.partials,u.preloadPartial)).then(function(){u.renderTemplate(n.template,n.$el,t.extend({},i.globalData,n.data),n.callback?t.bind(n.callback,n):t.noop(),n.mode,s)})},rebind:function(){this.setElement(e(this.element)),this.$el.unbind(),this.delegateEvents()},render:function(e,t){this.parentRender(t)},validationSuccessful:function(e){d(e).then(function(e){return e.data()["bs.popover"]&&e.popover("destroy"),e.parents(".form-group").removeClass("has-feedback has-error"),e.closest("form")}).then(h)},validationFailed:function(e,t){d(e).then(function(e){return e.parents(".form-group").addClass("has-feedback has-error"),e.data()["bs.popover"]?e.data("bs.popover").options.content='<i class="fa fa-exclamation-circle"></i> '+t.failures.join('<br><i class="fa fa-exclamation-circle"></i> '):e.popover({validationMessage:t.failures,animation:!1,content:'<i class="fa fa-exclamation-circle"></i> '+t.failures.join('<br><i class="fa fa-exclamation-circle"></i> '),trigger:"focus hover",placement:"top",html:"true",template:'<div class="popover popover-error help-block" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.is(":focus")&&e.popover("show"),e.closest("form")}).then(h)},onValidate:function(){console.warn("Deprecated use of onValidate method; Change to validationSuccessful / validationFailed")}})}),define("org/forgerock/commons/ui/common/components/BootstrapDialogView",["jquery","underscore","org/forgerock/commons/ui/common/main/AbstractView","org/forgerock/commons/ui/common/util/ModuleLoader","org/forgerock/commons/ui/common/util/UIUtils"],function(e,t,n,i,r){return n.extend({contentTemplate:"templates/common/DefaultBaseTemplate.html",data:{},noButtons:!1,closable:!0,actions:[{label:function(){return e.t("common.form.close")},cssClass:"btn-default",type:"close"}],show:function(n){var r=this;r.setButtons(),e.when(i.load("org/forgerock/commons/ui/common/components/BootstrapDialog"),r.loadContent()).then(t.bind(function(t,i){r.type=r.type||t.TYPE_DEFAULT,r.size=r.size||t.SIZE_NORMAL,r.message=e("<div></div>").append(i),t.show(r),n&&n()},this))},loadContent:function(){var t=e.Deferred();return void 0===this.message?r.fillTemplateWithData(this.contentTemplate,this.data,function(e){t.resolve(e)}):t.resolve(this.message),t},setTitle:function(e){this.title=e},addButton:function(e){this.getButtons(e.label)||this.buttons.push(e)},getButtons:function(e){return t.find(this.buttons,function(t){return t.label===e})},setButtons:function(){var t=[];this.noButtons?this.buttons=[]:void 0!==this.actions&&0!==this.actions.length&&(e.each(this.actions,function(n,i){"close"===i.type&&(i.label=e.t("common.form.close"),i.cssClass=i.cssClass?i.cssClass:"btn-default",i.action=function(e){e.close()}),t.push(i)}),this.buttons=t)}})}),define("org/forgerock/commons/ui/common/components/Footer",["jquery","org/forgerock/commons/ui/common/main/AbstractView"],function(e,t){return t.extend({element:"#footer",template:"templates/common/FooterTemplate.html",noBaseTemplate:!0,getVersion:function(){throw new Error("#getVersion not implemented")},render:function(){var t=this;this.data={},this.showVersion()?this.getVersion().then(function(e){t.data.version=e}).always(t.parentRender.bind(t)).always(function(){e("body").addClass("footer-deep")}):(t.parentRender(),e("body").removeClass("footer-deep"))},showVersion:function(){return!1}})});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};define("org/forgerock/commons/ui/common/components/Messages",["jquery","underscore","backbone","org/forgerock/commons/ui/common/main/AbstractConfigurationAware"],function(e,t,n,i){var r,o=new i;return o.TYPE_SUCCESS="success",o.TYPE_INFO="info",o.TYPE_WARNING="warning",o.TYPE_DANGER="error",r=n.View.extend({list:[],el:"#messages",events:{"click div":"removeAndNext"},delay:2500,timer:null,displayMessageFromConfig:function(t){var n=o.messages;"object"===(void 0===t?"undefined":_typeof(t))?"string"==typeof t.key&&n.addMessage({message:e.t(o.configuration.messages[t.key].msg,t),type:o.configuration.messages[t.key].type}):"string"==typeof t&&n.addMessage({message:e.t(o.configuration.messages[t].msg),type:o.configuration.messages[t].type})},addMessage:function(e){var n,i=o.messages;for(!e.message&&e.response&&"object"===_typeof(e.response.responseJSON)&&"string"==typeof e.response.responseJSON.message&&(e.message=e.response.responseJSON.message),n=0;n<i.list.length;n++)if(i.list[n].message===e.message)return void console.log("duplicated message");!1!==e.escape&&(e.message=t.escape(e.message)),console.info(e.type+":",e.message,e),i.list.push(e),i.list.length<=1&&i.showMessage(e)},nextMessage:function(){var e=o.messages;e.list.shift(),e.list.length>0&&e.showMessage()},removeAndNext:function(){var t=o.messages;window.clearTimeout(o.messages.timer),t.$el.find("div").fadeOut(300,function(){e(this).remove(),t.nextMessage()})},showMessage:function(){var e=this,t="alert-info",n="alert-message-icon",i=e.delay+20*this.list[0].message.length;switch(this.list[0].type){case o.TYPE_DANGER:t="alert-danger";break;case o.TYPE_SUCCESS:t="alert-success",n="fa-check-circle-o";break;case o.TYPE_WARNING:t="alert-warning";break;case o.TYPE_INFO:default:t="alert-info"}this.hasNavigation()?e.$el.addClass("logged-user"):e.$el.removeClass("logged-user"),this.$el.append("<div role='alert' class='alert-system alert-message alert "+t+"'><i class='fa "+n+"'></i><span class='message'>"+this.list[0].message+"</span></div>"),this.$el.find("div:last").fadeIn(300,function(){e.timer=window.setTimeout(e.removeAndNext,i)})},hideMessages:function(){var e=o.messages;e.list.length>1&&(e.list=[e.list[1]])},hasNavigation:function(){return e("#mainNavHolder").length>0}}),o.messages=new r,o.addMessage=function(e){o.messages.addMessage(e)},o}),define("org/forgerock/commons/ui/common/components/navigation/filters/RoleFilter",["lodash","org/forgerock/commons/ui/common/main/Configuration"],function(e,t){return{filter:function(n){var i,r,o,s;for(r in n)if(i=n[r],o=!i.role,s=i.role&&t.loggedUser&&e.contains(t.loggedUser.uiroles,i.role),o||s)return n[r]}}}),define("org/forgerock/commons/ui/common/components/Navigation",["jquery","underscore","backbone","org/forgerock/commons/ui/common/main/AbstractConfigurationAware","org/forgerock/commons/ui/common/main/AbstractView","org/forgerock/commons/ui/common/main/Configuration","org/forgerock/commons/ui/common/main/EventManager","org/forgerock/commons/ui/common/util/ModuleLoader","org/forgerock/commons/ui/common/main/Router","NavigationFilter"],function(e,t,n,i,r,o,s,a,l,u){var c=new i,d=function(){return o.loggedUser.has("userName")?o.loggedUser.get("userName"):o.loggedUser.has("cn")?o.loggedUser.get("cn"):o.loggedUser.id},h=function(e){return e.userBar&&e.userBar.length||e.navbarRight&&e.navbarRight.length};return c.init=function(n){var i=r.extend({element:"#menu",template:"templates/common/NavigationTemplate.html",noBaseTemplate:!0,data:{},partials:["partials/navigation/_NavigationDropdownMenu.html","partials/navigation/_NavigationLink.html"],events:{"click .event-link":"fireEvent"},fireEvent:function(t){t.preventDefault();var n=e(t.currentTarget).data().event;n&&s.sendEvent(n,t)},render:function(n,i){o.loggedUser?a.load("bootstrap").then(t.bind(function(){o.loggedUser&&(this.data.admin=t.contains(o.loggedUser.uiroles,"ui-admin"),this.data.userBar=t.chain(c.configuration.userBar).map(function(n){return t.has(n,"i18nKey")&&(n.label=e.t(n.i18nKey)),n}).filter(function(e){return!e.visibleToRoles||e.navGroup===l.currentRoute.navGroup&&t.intersection(o.loggedUser.uiroles,e.visibleToRoles).length>0}).value(),this.data.user={username:d(),label:t.get(c.configuration,"username.label"),secondaryLabel:t.get(c.configuration,"username.secondaryLabel"),href:t.get(c.configuration,"username.href")},this.reload(),this.configureNotifications(),this.data.showNavbarRight=h(this.data),this.parentRender(t.bind(function(){this.renderNotifications(),i&&i()},this)))},this)):(this.reload(),this.configureNotifications(),this.data.showNavbarRight=h(this.data),this.parentRender(t.bind(function(){this.renderNotifications(),i&&i()},this)))},configureNotifications:function(){c.configuration.notifications&&this.data.navbarRight.push(c.configuration.notifications)},renderNotifications:function(){c.configuration.notifications&&require([c.configuration.notifications.view],function(e){e.render({el:".fr-notifications-content"})})},addLinksFromConfiguration:function(e){var n,i=this;o.loggedUser&&e&&t.each(e.urls,function(e){var r,s=t.intersection(o.loggedUser.uiroles,e.visibleToRoles),a=s.length>0;e.visibleToRoles&&!a||(n=i.isCurrent(e.url)||i.isCurrent(e.baseUrl)||i.childIsCurrent(e.urls),r=e.navbarRight?i.data.navbarRight:i.data.navbarLeft,r.push(i.buildNavElement(e,n)))})},buildNavElement:function(n,i){var r=this,o=[],s={key:n.name,title:e.t(n.name),icon:n.icon};return i&&(s.active=i),n.url?s.hashurl=n.url:n.event&&(s.event=n.event),n.divider&&(s.divider=n.divider),n.header&&(s.header=n.header,s.headerTitle=e.t(n.headerTitle)),n.cssClass&&(s.cssClass=n.cssClass),!0===n.dropdown&&(s.dropdown=!0,t.each(n.urls,function(e){o.push(r.buildNavElement(e,this.isCurrent(e.url)))},this),s.urls=o),s},childIsCurrent:function(e){var t;for(t in e)if(this.isCurrent(e[t].url))return!0;return!1},isCurrent:function(e){var t,n=window.location.href.split("#")[1];return t=n?"#"+n:"#/",-1!==t.indexOf(e)},clear:function(){this.data.navbarLeft=[],this.data.navbarRight=[],delete this.data.showNavbarRight},reload:function(){this.clear(),this.addLinksFromConfiguration(u.filter(c.configuration.links))}});c.navigation=new i,c.navigation.render(null,n)},c.reload=function(){c.navigation&&c.navigation.render()},c.addUserBarLink=function(e,n){t.find(c.configuration.userBar,function(t){return t.id===e.id})||("top"===n?c.configuration.userBar.unshift(e):c.configuration.userBar.push(e))},c.addLink=function(e,n,i){var r,o=[n,"urls"];i&&(o=o.concat([i,"urls"])),(r=t.reduce(o,function(e,t){if(e)return e[t]},c.configuration.links))&&!t.find(r,{name:e.name})&&(i?r.push(e):r[e.name]=e)},c.removeLink=function(e,n,i){var r,o=[n,"urls"];i&&(o=o.concat([i,"urls"])),(r=t.reduce(o,function(e,t){if(e)return e[t]},c.configuration.links))&&t.find(r,{name:e.name})&&delete r[e.key]},c}),define("org/forgerock/commons/ui/common/main/ProcessConfiguration",["jquery","underscore","org/forgerock/commons/ui/common/util/Constants","org/forgerock/commons/ui/common/main/EventManager","org/forgerock/commons/ui/common/main/Configuration","org/forgerock/commons/ui/common/main/AbstractConfigurationAware","org/forgerock/commons/ui/common/util/ModuleLoader"],function(e,t,n,i,r,o,s){var a=new o;return a.em=i,i.registerListener(n.EVENT_CONFIGURATION_CHANGED,function(e){a.callService(e.moduleClass,"updateConfigurationCallback",[e.configuration])}),i.registerListener(n.EVENT_DEPENDENCIES_LOADED,function(){a.callService("org/forgerock/commons/ui/common/main/Configuration","sendConfigurationChangeInfo")}),a.callRegisterListenerFromConfig=function(e){i.registerListener(e.startEvent,function(t){return a.getProcessDescriptionFromConfig(e).then(function(e){return e.apply(this,[t])})})},a.getProcessDescriptionFromConfig=function(n){var i=e.Deferred();return require(n.dependencies,function(){
var e=[n.processDescription].concat(t.toArray(arguments)),r=t.partialRight.apply(null,e);i.resolve(r)}),i},a.updateConfigurationCallback=function(r){o.prototype.updateConfigurationCallback.call(this,r).then(function(){e.when.apply(e,t.map(a.configuration.processConfigurationFiles,s.load)).then(function(){var e=t.flatten(t.toArray(arguments)),r=t.filter(e,function(e){return!!e.override});e=t.reject(e,function(e){return!e.override&&t.find(r,function(t){return t.startEvent===e.startEvent&&!!t.override})}),t.map(e,a.callRegisterListenerFromConfig),i.sendEvent(n.EVENT_READ_CONFIGURATION_REQUEST)})})},a.callService=function(e,t,n){s.load(e).then(function(e){e&&e[t].apply(e,n||[])},function(i){n&&(n=JSON.stringify(n)),console.warn("Unable to invoke serviceId="+e+" method="+t+" params="+n+" exception="+i)})},a}),define("org/forgerock/commons/ui/common/main/SessionManager",["jquery","underscore","org/forgerock/commons/ui/common/util/CookieHelper","org/forgerock/commons/ui/common/main/AbstractConfigurationAware","org/forgerock/commons/ui/common/util/ModuleLoader"],function(e,t,n,i,r){var o=new i;return o.login=function(e,i,s){return n.deleteCookie("session-jwt","/",""),r.load(o.configuration.loginHelperClass).then(function(n){return r.promiseWrapper(t.bind(t.curry(n.login)(e),n),{success:i,error:s})})},o.logout=function(e,n){return r.load(o.configuration.loginHelperClass).then(function(i){return r.promiseWrapper(t.bind(i.logout,i),{success:e,error:n})})},o.getLoggedUser=function(e,n){return r.load(o.configuration.loginHelperClass).then(function(i){return r.promiseWrapper(t.bind(i.getLoggedUser,i),{success:e,error:n})})},o}),function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define("spin",t):e.Spinner=t()}(this,function(){"use strict";function e(e,t){var n,i=document.createElement(e||"div");for(n in t)i[n]=t[n];return i}function t(e){for(var t=1,n=arguments.length;n>t;t++)e.appendChild(arguments[t]);return e}function n(e,t,n,i){var r=["opacity",t,~~(100*e),n,i].join("-"),o=.01+n/i*100,s=Math.max(1-(1-e)/t*(100-o),e),a=l.substring(0,l.indexOf("Animation")).toLowerCase(),u=a&&"-"+a+"-"||"";return c[r]||(d.insertRule("@"+u+"keyframes "+r+"{0%{opacity:"+s+"}"+o+"%{opacity:"+e+"}"+(o+.01)+"%{opacity:1}"+(o+t)%100+"%{opacity:"+e+"}100%{opacity:"+s+"}}",d.cssRules.length),c[r]=1),r}function i(e,t){var n,i,r=e.style;for(t=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<u.length;i++)if(n=u[i]+t,void 0!==r[n])return n;return void 0!==r[t]?t:void 0}function r(e,t){for(var n in t)e.style[i(e,n)||n]=t[n];return e}function o(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)void 0===e[i]&&(e[i]=n[i])}return e}function s(e,t){return"string"==typeof e?e:e[t%e.length]}function a(e){this.opts=o(e||{},a.defaults,h)}var l,u=["webkit","Moz","ms","O"],c={},d=function(){var n=e("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}(),h={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};a.defaults={},o(a.prototype,{spin:function(t){this.stop();var n=this,i=n.opts,o=n.el=r(e(0,{className:i.className}),{position:i.position,width:0,zIndex:i.zIndex});if(i.radius,i.length,i.width,r(o,{left:i.left,top:i.top}),t&&t.insertBefore(o,t.firstChild||null),o.setAttribute("role","progressbar"),n.lines(o,n.opts),!l){var s,a=0,u=(i.lines-1)*(1-i.direction)/2,c=i.fps,d=c/i.speed,h=(1-i.opacity)/(d*i.trail/100),p=d/i.lines;!function e(){a++;for(var t=0;t<i.lines;t++)s=Math.max(1-(a+(i.lines-t)*p)%d*h,i.opacity),n.opacity(o,t*i.direction+u,s,i);n.timeout=n.el&&setTimeout(e,~~(1e3/c))}()}return n},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(i,o){function a(t,n){return r(e(),{position:"absolute",width:o.length+o.width+"px",height:o.width+"px",background:t,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*c+o.rotate)+"deg) translate("+o.radius+"px,0)",borderRadius:(o.corners*o.width>>1)+"px"})}for(var u,c=0,d=(o.lines-1)*(1-o.direction)/2;c<o.lines;c++)u=r(e(),{position:"absolute",top:1+~(o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:l&&n(o.opacity,o.trail,d+c*o.direction,o.lines)+" "+1/o.speed+"s linear infinite"}),o.shadow&&t(u,r(a("#000","0 0 4px #000"),{top:"2px"})),t(i,t(u,a(s(o.color,c),"0 0 1px rgba(0,0,0,.1)")));return i},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}});var p=r(e("group"),{behavior:"url(#default#VML)"});return!i(p,"transform")&&p.adj?function(){function n(t,n){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}d.addRule(".spin-vml","behavior:url(#default#VML)"),a.prototype.lines=function(e,i){function o(){return r(n("group",{coordsize:c+" "+c,coordorigin:-u+" "+-u}),{width:c,height:c})}function a(e,a,l){t(h,t(r(o(),{rotation:360/i.lines*e+"deg",left:~~a}),t(r(n("roundrect",{arcsize:i.corners}),{width:u,height:i.width,left:i.radius,top:-i.width>>1,filter:l}),n("fill",{color:s(i.color,e),opacity:i.opacity}),n("stroke",{opacity:0}))))}var l,u=i.length+i.width,c=2*u,d=2*-(i.width+i.length)+"px",h=r(o(),{position:"absolute",top:d,left:d});if(i.shadow)for(l=1;l<=i.lines;l++)a(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=i.lines;l++)a(l);return t(e,h)},a.prototype.opacity=function(e,t,n,i){var r=e.firstChild;i=i.shadow&&i.lines||0,r&&t+i<r.childNodes.length&&(r=r.childNodes[t+i],r=r&&r.firstChild,(r=r&&r.firstChild)&&(r.opacity=n))}}():l=i(p,"animation"),a}),define("org/forgerock/commons/ui/common/main/SpinnerManager",["jquery","spin"],function(e,t){var n={};return n.showSpinner=function(i){n.spinner&&n.hideSpinner(),n.spinner=(new t).spin(document.getElementById("wrapper")),e(".spinner").position({of:e(window),my:"center center",at:"center center"}),i&&(!n.priority||i>n.priority)&&(n.priority=i),e("#wrapper").attr("aria-busy",!0)},n.hideSpinner=function(t){n.spinner&&(!n.priority||t&&t>=n.priority)&&(n.spinner.stop(),delete n.priority),e("#wrapper").attr("aria-busy",!1)},n}),define("org/forgerock/commons/ui/common/SiteConfigurator",["jquery","underscore","org/forgerock/commons/ui/common/main/AbstractConfigurationAware","org/forgerock/commons/ui/common/util/Constants","org/forgerock/commons/ui/common/main/EventManager","org/forgerock/commons/ui/common/main/Configuration","org/forgerock/commons/ui/common/util/ModuleLoader"],function(e,t,n,i,r,o,s){var a=new n;return a.initialized=!1,r.registerListener(i.EVENT_READ_CONFIGURATION_REQUEST,function(){o.globalData||(o.setProperty("globalData",{}),o.globalData.auth={}),o.delegateCache||o.setProperty("delegateCache",{}),a.configuration&&!1===a.initialized&&(a.initialized=!0,!0===a.configuration.remoteConfig?s.load(a.configuration.delegate).then(function(e){e.getConfiguration(function(e){a.processConfiguration(e),r.sendEvent(i.EVENT_APP_INITIALIZED)},function(){a.processConfiguration({}),r.sendEvent(i.EVENT_APP_INITIALIZED)})}):(a.processConfiguration(a.configuration),r.sendEvent(i.EVENT_APP_INITIALIZED)))}),a.processConfiguration=function(e){t.extend(o.globalData,e),e.defaultNotificationType&&(o.defaultType=e.defaultNotificationType),e.notificationTypes&&(o.notificationTypes=e.notificationTypes),e.roles&&(o.globalData.userRoles=e.roles),o.globalData.auth.cookieName=e.cookieName,o.globalData.auth.cookieDomains=e.domains},a.configurePage=function(t,n){var i=e.Deferred();return!0===a.configuration.remoteConfig?s.load(a.configuration.delegate).then(function(e){"function"==typeof e.checkForDifferences?e.checkForDifferences(t,n).then(function(e){e&&a.processConfiguration(e),i.resolve()}):i.resolve()}):i.resolve(),i},a}),define("org/forgerock/commons/ui/common/main",["./main/AbstractView","./components/BootstrapDialogView","./main/ErrorsHandler","./components/Footer","./main/i18nManager","./components/Messages","./components/Navigation","./main/ProcessConfiguration","./main/Router","./main/SessionManager","./main/SpinnerManager","./SiteConfigurator"]),function(e,t){"undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define("form2js",t):e.form2js=t()}(this,function(){"use strict";function e(e,i,r,o,s,a){a=!!a,void 0!==r&&null!=r||(r=!0),void 0!==i&&null!=i||(i="."),arguments.length<5&&(s=!1),e="string"==typeof e?document.getElementById(e):e;var l,u=[],c=0;if(e.constructor==Array||"undefined"!=typeof NodeList&&e.constructor==NodeList)for(;l=e[c++];)u=u.concat(n(l,o,s,a));else u=n(e,o,s,a);return t(u,r,i)}function t(e,t,n){var i,r,o,s,a,l,u,c,d,h,p,f,m,g={},v={};for(i=0;i<e.length;i++)if(a=e[i].value,!t||""!==a&&null!==a){for(f=e[i].name,m=f.split(n),l=[],u=g,c="",r=0;r<m.length;r++)if(p=m[r].split("]["),p.length>1)for(o=0;o<p.length;o++)if(0==o?p[o]=p[o]+"]":o==p.length-1?p[o]="["+p[o]:p[o]="["+p[o]+"]",h=p[o].match(/([a-z_]+)?\[([a-z_][a-z0-9_]+?)\]/i))for(s=1;s<h.length;s++)h[s]&&l.push(h[s]);else l.push(p[o]);else l=l.concat(p);for(r=0;r<l.length;r++)p=l[r],p.indexOf("[]")>-1&&r==l.length-1?(d=p.substr(0,p.indexOf("[")),c+=d,u[d]||(u[d]=[]),u[d].push(a)):p.indexOf("[")>-1?(d=p.substr(0,p.indexOf("[")),h=p.replace(/(^([a-z_]+)?\[)|(\]$)/gi,""),c+="_"+d+"_"+h,v[c]||(v[c]={}),""==d||u[d]||(u[d]=[]),r==l.length-1?""==d?(u.push(a),v[c][h]=u[u.length-1]):(u[d].push(a),v[c][h]=u[d][u[d].length-1]):v[c][h]||(/^[0-9a-z_]+\[?/i.test(l[r+1])?u[d].push({}):u[d].push([]),v[c][h]=u[d][u[d].length-1]),u=v[c][h]):(c+=p,r<l.length-1?(u[p]||(u[p]={}),u=u[p]):u[p]=a)}return g}function n(e,t,n,o){var s=r(e,t,n,o);return s.length>0?s:i(e,t,n,o)}function i(e,t,n,i){for(var o=[],s=e.firstChild;s;)o=o.concat(r(s,t,n,i)),s=s.nextSibling;return o}function r(e,t,n,r){if(e.disabled&&!r)return[];var a,l,u,c=o(e,n);return a=t&&t(e),a&&a.name?u=[a]:""!=c&&e.nodeName.match(/INPUT|TEXTAREA/i)?(l=s(e,r),u=null===l?[]:[{name:c,value:l}]):""!=c&&e.nodeName.match(/SELECT/i)?(l=s(e,r),u=[{name:c.replace(/\[\]$/,""),value:l}]):u=i(e,t,n,r),u}function o(e,t){return e.name&&""!=e.name?e.name:t&&e.id&&""!=e.id?e.id:""}function s(e,t){if(e.disabled&&!t)return null;switch(e.nodeName){case"INPUT":case"TEXTAREA":switch(e.type.toLowerCase()){case"radio":if(e.checked&&"false"===e.value)return!1;case"checkbox":if(e.checked&&"true"===e.value)return!0;if(!e.checked&&"true"===e.value)return!1;if(e.checked)return e.value;break;case"button":case"reset":case"submit":case"image":return"";default:return e.value}break;case"SELECT":return a(e)}return null}function a(e){var t,n,i,r=e.multiple,o=[];if(!r)return e.value;for(t=e.getElementsByTagName("option"),n=0,i=t.length;n<i;n++)t[n].selected&&o.push(t[n].value);return o}return e}),define("org/forgerock/openidm/ui/common/delegates/PolicyDelegate",["lodash","org/forgerock/commons/ui/common/util/Constants","org/forgerock/commons/ui/common/main/AbstractDelegate","org/forgerock/commons/ui/common/main/Configuration","org/forgerock/commons/ui/common/main/EventManager"],function(e,t,n,i,r){var o=new n(t.host+t.context+"/policy");return o.jsonPointerToPath=function(e){return e.split("/").filter(function(e){return e}).join(".")},o.validateProperty=function(t,n,i){return o.serviceCall({suppressSpinner:!0,url:"/"+t+"?_action=validateObject",data:JSON.stringify(n.fullObject),type:"POST"}).then(function(t){var i=e(t.failedPolicyRequirements).filter(function(e){return o.jsonPointerToPath(e.property)===n.property}).map(function(e){return e.policyRequirements}).flatten().value();return i.length?{result:!1,failedPolicyRequirements:i}:{result:!0}}).done(function(e){i&&i(e)})},o}),define("org/forgerock/openidm/ui/common/util/PolicyValidatorsManager",["jquery","underscore","form2js","org/forgerock/commons/ui/common/main/ValidatorsManager","org/forgerock/openidm/ui/common/delegates/PolicyDelegate"],function($,_,form2js,ValidatorsManager,PolicyDelegate){var obj={};return obj.excludedClientSidePolicies=["valid-type"],obj.excludedClientSideRequirements=["VALID_TYPE"],obj.nodeCallbackHandler=function(e,t){return!(!t.getAttribute||!t.getAttribute("name"))&&(e?{name:t.getAttribute("name").match(/(\[.*?\])/g).map(function(e){return e.replace(/\[|\]/g,"")}).join("."),value:t.value}:{name:t.getAttribute("name"),value:t.value})},ValidatorsManager.afterBindValidators=[function(e,t,n){t?(e.attr("data-validator-baseEntity",t),PolicyDelegate.readEntity(t).then(_.bind(function(i){_.each(i.properties,function(n){var i,r,o=_.filter(n.policies,function(e){return!_.contains(obj.excludedClientSidePolicies,e.policyId)}),s=_.map(o,"policyId"),a=PolicyDelegate.jsonPointerToPath(n.name);i=e.hasClass("jsonEditor")?e.find("[name$='\\["+a+"\\]']"):e.find("[name='"+a+"']"),i.length&&(r=i.attr("data-validator"),r&&(s=s.concat(r.split(" "))),i.attr("data-validator",s.join(" ")),_.each(o,function(e){obj.registerRemotePolicyFunction(t,e),i.data("validatorParams-"+e.policyId,e.params)}),ValidatorsManager.bindValidatorsForField(e,i))},this),n&&n()},this))):n&&n()}],obj.getTranslationForPolicyFailure=function(e){return _.has(e,"params.disallowedFields")?e.params.disallowedFields=e.params.disallowedFields.map(function(e){var t,n=PolicyDelegate.jsonPointerToPath(e),i=$("input[name='"+n+"']");return i.length&&(t=$("label[for='"+i.attr("id")+"']").text()),t||e}).join(", "):_.has(e,"params.validTypes")?e.params.validTypes=e.params.validTypes.join(", "):_.has(e,"params.invalidArrayItems")&&(e.params.invalidArrayItems=obj.getInvalidArrayItemsText(e.params.invalidArrayItems)),$.t("common.form.validation."+e.policyRequirement,e.params)},obj.getInvalidArrayItemsText=function(e){var t=[];return _.each(e,function(e){t.push(obj.failedPolicyRequirementObjectsToStrings(e.failedPolicyRequirements))}),t.join(", ")},obj.failedPolicyRequirementObjectsToStrings=function(e){return _.chain(e).groupBy("property").pairs().map(function(e){return" - "+e[0]+": "+_.chain(e[1]).pluck("policyRequirements").map(function(e){return _.map(e,obj.getTranslationForPolicyFailure)}).value().join(", ")}).value()},obj.processPolicyFailures=function(e){return _(e).filter(function(e){return!_.contains(obj.excludedClientSideRequirements,e.policyRequirement)}).map(obj.getTranslationForPolicyFailure).value()},obj.registerRemotePolicyFunction=function(baseEntity,policyFunctionObject){_.has(ValidatorsManager.configuration.validators,policyFunctionObject.policyId)||(policyFunctionObject.policyFunction&&policyFunctionObject.policyFunction.length?ValidatorsManager.configuration.validators[policyFunctionObject.policyId]={dependencies:[],validator:function validator(container,element,callback){var policyFunction,failures,nodeMap=obj.nodeCallbackHandler(container.hasClass("jsonEditor"),element[0]);policyFunction=eval("("+policyFunctionObject.policyFunction+")"),failures=policyFunction.call({failedPolicyRequirements:[]},form2js(container[0],".",!0,_.curry(obj.nodeCallbackHandler)(container.hasClass("jsonEditor"))),nodeMap.value.length?nodeMap.value:void 0,element.data("validatorParams-"+policyFunctionObject.policyId)||{},nodeMap.name),callback(obj.processPolicyFailures(failures))}}:ValidatorsManager.configuration.validators[policyFunctionObject.policyId]={dependencies:[],validator:obj.evaluateAllRemotePolicies})},obj.validateProperyDebounceWait=5,obj.debouncedValidateProperty=_.debounce(PolicyDelegate.validateProperty,obj.validateProperyDebounceWait,{leading:!0,trailing:!1}),obj.evaluateAllRemotePolicies=function(e,t,n){var i=obj.nodeCallbackHandler(e.hasClass("jsonEditor"),t[0]);obj.debouncedValidateProperty(e.attr("data-validator-baseEntity"),{fullObject:form2js(e[0],".",!0,_.curry(obj.nodeCallbackHandler)(e.hasClass("jsonEditor"))),value:i.value,property:i.name}).then(function(e){n(obj.processPolicyFailures(e.failedPolicyRequirements))})},obj}),define("org/forgerock/openidm/ui/common/delegates/SiteConfigurationDelegate",["org/forgerock/openidm/ui/common/util/Constants","org/forgerock/commons/ui/common/main/AbstractDelegate","org/forgerock/commons/ui/common/main/Configuration","org/forgerock/commons/ui/common/main/EventManager"],function(e,t,n){var i=new t(e.host+e.context+"/info/uiconfig");return i.getConfiguration=function(t,n){var r={};return r[e.HEADER_PARAM_USERNAME]="anonymous",r[e.HEADER_PARAM_PASSWORD]="anonymous",r[e.HEADER_PARAM_NO_SESSION]="true",i.serviceCall({url:"",headers:r}).then(function(e){return t&&t(e.configuration),e.configuration},n)},i}),define("org/forgerock/openidm/ui/common/delegates/InfoDelegate",["org/forgerock/commons/ui/common/util/Constants","org/forgerock/commons/ui/common/main/AbstractDelegate"],function(e,t){var n=new t(e.host+e.context+"/info/");return n.getVersion=function(){return n.serviceCall({url:"version",type:"GET"})},n}),define("org/forgerock/openidm/ui/common/components/Footer",["jquery","lodash","org/forgerock/commons/ui/common/components/Footer","org/forgerock/commons/ui/common/main/Configuration","org/forgerock/openidm/ui/common/delegates/InfoDelegate"],function(e,t,n,i,r){function o(){return i.loggedUser&&t.has(i.loggedUser,"roles")&&t.indexOf(i.loggedUser.uiroles,"ui-admin")>-1}return new(n.extend({getVersion:function(){return r.getVersion().then(function(t){return t.productVersion+" ("+e.t("openidm.admin.revision")+": "+t.productRevision+")"})},showVersion:function(){return o()}}))});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};define("org/forgerock/commons/ui/common/util/ObjectUtil",["lodash"],function(e){var t={};return t.toJSONPointerMap=function(t){var n;return n=function(t){return e.chain(t).pairs().filter(function(e){return void 0!==e[1]}).map(function(t){return-1!==e.indexOf(["string","boolean","number"],_typeof(t[1]))||e.isEmpty(t[1])||e.isArray(t[1])?{pointer:"/"+t[0],value:t[1]}:e.map(n(t[1]),function(e){return{pointer:"/"+t[0]+e.pointer,value:e.value}})}).flatten(!0).value()},e.reduce(n(t),function(e,t){return e[t.pointer]=t.value,e},{})},t.getValueFromPointer=function(t,n){var i=n.split("/");return i.shift(1),""===i[0]?t:e.reduce(i,function(t,n){return e.isObject(t)?t[n]:t},t)},t.walkDefinedPath=function(e,t){var n,i="",r=e,o=t.split("/");for(o.shift(1);void 0!==r&&null!==r&&o.length;)n=o.shift(1),i+="/"+n,r=r[n];return""===i&&(i="/"),i},t.isEqualSet=function(n,i){var r=function(n,i,r){return e.isArray(r)?i&&void 0!==e.find(n,function(e){return t.isEqualSet(r,e)}):e.isObject(r)?i&&void 0!==e.find(n,r):i&&-1!==e.indexOf(n,r)};return e.reduce(n,e.curry(r)(i),!0)&&e.reduce(i,e.curry(r)(n),!0)},t.findItemsNotInSet=function(t,n){return e.filter(t,function(t){return!e.find(n,function(n){return e.isEqual(t,n)})})},t.generatePatchSet=function(n,i){var r=n,o=i,s=t.toJSONPointerMap(n),a=t.toJSONPointerMap(i),l=e.chain(s).pairs().filter(function(n){return e.isArray(a[n[0]])&&e.isArray(n[1])?!t.isEqualSet(a[n[0]],n[1]):!e.isEqual(a[n[0]],n[1])}).map(function(n){var i=t.walkDefinedPath(o,n[0]),s=t.getValueFromPointer(r,i),a=t.getValueFromPointer(o,i),l=function(t,n,i){return e.map(t,function(e){return{operation:n,field:i,value:e}})};return e.isArray(s)&&e.isArray(a)?l(t.findItemsNotInSet(s,a),"add",i+"/-").concat(l(t.findItemsNotInSet(a,s),"remove",i)):null===s?{operation:"remove",field:i}:{operation:void 0===a?"add":"replace",field:i,value:s}}).flatten().uniq(JSON.stringify).value(),u=e.chain(a).pairs().filter(function(e){return void 0===t.getValueFromPointer(r,e[0])}).map(function(e){return{operation:"remove",field:t.walkDefinedPath(r,e[0])}}).uniq(JSON.stringify).value();return l.concat(u)},t}),define("org/forgerock/commons/ui/common/main/AbstractModel",["jquery","underscore","backbone","org/forgerock/commons/ui/common/util/ObjectUtil","org/forgerock/commons/ui/common/main/ServiceInvoker"],function(e,t,n,i,r){return n.Model.extend({idAttribute:"_id",additionalParameters:{},getMVCCRev:function(){return this.get("_rev")||"*"},get:function(e){return 0===e.indexOf("/")&&(e=e.substring(1)),t.reduce(e.split("/"),function(e,t){return e instanceof n.Model?e.attributes[t]:e?e[t]:void 0},this.attributes)},sync:function(n,o,s){var a=function(e){return s.parse?(o.set(o.parse(e,s)),o.toJSON()):e};switch(n){case"create":return r.restCall(t.extend({data:JSON.stringify(o.toJSON())},function(){return t.isUndefined(o.id)?{type:"POST",url:o.url+"?_action=create&"+e.param(o.additionalParameters)}:{type:"PUT",headers:{"If-None-Match":"*"},url:o.url+"/"+o.id+"?"+e.param(o.additionalParameters)}}(),s)).then(a);case"read":return r.restCall(t.extend({url:o.url+"/"+o.id+"?"+e.param(o.additionalParameters),type:"GET"},s)).then(a);case"update":return r.restCall(t.extend({type:"PUT",data:JSON.stringify(o.toJSON()),url:o.url+"/"+o.id+"?"+e.param(o.additionalParameters),headers:{"If-Match":o.getMVCCRev()}},s)).then(a);case"patch":return r.restCall(t.extend({url:o.url+"/"+o.id+"?"+e.param(o.additionalParameters),type:"PATCH",data:JSON.stringify(i.generatePatchSet(o.toJSON(),o.previousAttributes())),headers:{"If-Match":o.getMVCCRev()}},s)).then(a);case"delete":return r.restCall(t.extend({url:o.url+"/"+o.id+"?"+e.param(o.additionalParameters),type:"DELETE",headers:{"If-Match":o.getMVCCRev()}},s)).then(a)}},setAdditionalParameters:function(e){t.each(t.keys(e),function(n){if(!t.isString(e[n]))throw"Cannot set non-string value as additional parameter "+n}),this.additionalParameters=e}})}),define("org/forgerock/openidm/ui/common/UserModel",["jquery","underscore","org/forgerock/commons/ui/common/main/AbstractModel","org/forgerock/commons/ui/common/main/Configuration","org/forgerock/commons/ui/common/util/Constants","org/forgerock/commons/ui/common/main/EventManager"],function(e,t,n,i,r,o){var s,a,l;try{s=opener&&opener.require?opener:window}catch(e){s=window}return a=s.sessionStorage,l=require("org/forgerock/commons/ui/common/main/ServiceInvoker"),n.extend({protectedAttributeList:[],sync:function(e,i,s){var a={};return!0===s.silent?this:("update"!==e&&"patch"!==e||(void 0!==this.currentPassword&&(a[r.HEADER_PARAM_REAUTH]=this.currentPassword,t.extend(s,{headers:a})),s.errorsHandlers=s.errorsHandlers||{forbidden:{status:"403"}},"internal/user"===this.component&&"patch"===e&&(e="update")),n.prototype.sync.call(this,e,i,s).fail(t.bind(function(e){var n=this.previousAttributes();this.clear(),this.set(n),t.isObject(e.responseJSON)&&t.has(e.responseJSON,"code")&&403===e.responseJSON.code&&(0===e.responseJSON.message.indexOf("Reauthentication failed ")?o.sendEvent(r.EVENT_DISPLAY_MESSAGE_REQUEST,"reauthFailed"):o.sendEvent(r.EVENT_POLICY_FAILURE,{error:{responseObj:e.responseJSON}}))},this)).always(t.bind(function(){this.has("password")&&this.unset("password"),delete this.currentPassword},this)))},getUIRoles:function(e){var n=function(e){return t.isObject(e)&&t.has(e,"_ref")&&(e=e._ref),e};return t.each(i.globalData.roles,function(e,t){-1===t.indexOf("/")&&(i.globalData.roles["internal/role/"+t]=e,delete i.globalData.roles[t])}),t.chain(e).filter(function(e){return t.has(i.globalData.roles,n(e))}).map(function(e){return"ui-user"===i.globalData.roles[n(e)]?["ui-user","ui-self-service-user"]:i.globalData.roles[n(e)]}).flatten().value()},parse:function(e){return t.has(e,"password")&&delete e.password,e},invalidateSession:function(){var t,n=new e.Deferred;return l.configuration.defaultHeaders=this.setAuthTokenHeaders(l.configuration.defaultHeaders||{},null),t=a.getItem("amToken")?{"X-OpenIDM-OAuth-Login":!0,"X-Requested-With":"XMLHttpRequest","X-OpenIDM-DataStoreToken":a.getItem("amToken")}:{"X-OpenIDM-NoSession":"false"},l.restCall({url:r.context+"/authentication?_action=logout",type:"POST",headers:t,errorsHandlers:{unauthorized:{status:"401"}}}).always(function(){return n.resolve()}),n},login:function(e,t){var n=this,i={};return i[r.HEADER_PARAM_USERNAME]=e,i[r.HEADER_PARAM_PASSWORD]=t,i[r.HEADER_PARAM_NO_SESSION]=!1,this.invalidateSession().then(function(){return n.getProfile(i)})},oauthLogin:function(t){var n=this,i={};return localStorage.getItem("dataStoreToken")?(i[r.HEADER_PARAM_USERNAME]="",i[r.HEADER_PARAM_PASSWORD]="",i[r.HEADER_PARAM_NO_SESSION]=!1,this.invalidateSession().then(function(){return"OPENAM"===t?(a.setItem("resubmitDataStoreToken","true"),a.setItem("amToken",localStorage.getItem("dataStoreToken"))):(i["X-OpenIDM-OAuth-Login"]=!0,i["X-OpenIDM-DataStoreToken"]=localStorage.getItem("dataStoreToken")),n.getProfile(i)})):e.Deferred().reject({responseJSON:{reason:"noDataStoreToken"}})},autoLogin:function(e){var t=this,n={};return n[r.HEADER_PARAM_USERNAME]="",n[r.HEADER_PARAM_PASSWORD]="",n[r.HEADER_PARAM_NO_SESSION]=!1,n[r.HEADER_PARAM_IDMJWT]=e,this.invalidateSession().then(function(){return t.getProfile(n)})},setAuthTokenHeaders:function(e,n){var i=t.cloneDeep(e);if(n){var r;i=t.extend(i,(r={},_defineProperty(r,"X-OpenIDM-OAuth-Login",!0),_defineProperty(r,"X-OpenIDM-DataStoreToken",n),r))}else delete i["X-OpenIDM-OAuth-Login"],delete i["X-OpenIDM-DataStoreToken"];return i},logout:function(){var e=this;return this.invalidateSession().then(function(){return a.removeItem("resubmitDataStoreToken"),localStorage.removeItem("dataStoreToken"),a.removeItem("amToken"),e.logoutUrl})},getProfile:function(n){var i=this;return this.setAdditionalParameters({_fields:"*,_meta/lastChanged"}),l.configuration.defaultHeaders=this.setAuthTokenHeaders(l.configuration.defaultHeaders||{},"true"===a.getItem("resubmitDataStoreToken")?a.getItem("amToken"):null),l.restCall({url:r.context+"/authentication?_action=login",type:"POST",headers:n||{},errorsHandlers:{forbidden:{status:"403"},unauthorized:{status:"401"}}}).fail(function(){i.invalidateSession()}).then(t.bind(function(n){return this.id=n.authorization.id,this.url=r.context+"/"+n.authorization.component,this.component=n.authorization.component,this.protectedAttributeList=n.authorization.protectedAttributeList||[],this.baseEntity=this.component+"/"+this.id,this.uiroles=this.getUIRoles(n.authorization.roles),this.provider=n.authorization.provider,this.authenticationId=n.authenticationId,this.roles=n.authorization.roles,n.authorization.provider?this.provider=n.authorization.provider:this.provider=null,-1===t.indexOf(["OAUTH_CLIENT"],n.authorization.moduleId)?this.userNamePasswordLogin=!0:this.userNamePasswordLogin=!1,t.contains(n.authorization.roles,"internal/role/openidm-authenticated")?(this.authorization=n.authorization,e.Deferred().resolve(this)):this.fetch().then(t.bind(function(){return this},this))},this))},getProtectedAttributes:function(){return this.protectedAttributeList},setCurrentPassword:function(e){this.currentPassword=e},bindProvider:function(e){var t=this,n=JSON.stringify(localStorage.getItem("dataStoreToken"))||null;return l.restCall({type:"POST",errorsHandlers:{badRequest:{status:"412"}},data:n,url:this.url+"/"+this.id+"?_action=bind&provider="+e}).then(function(e){return t.set(e),e},function(e){412===e.responseJSON.code&&o.sendEvent(r.EVENT_DISPLAY_MESSAGE_REQUEST,"accountAlreadyBound")})},unbindProvider:function(t){var n=this;return l.restCall({type:"POST",errorsHandlers:{badRequest:{status:"400"}},url:this.url+"/"+this.id+"?_action=unbind&"+e.param({provider:t})}).then(function(e){return n.set(e),e})}})}),define("org/forgerock/openidm/ui/common/login/InternalLoginHelper",["jquery","underscore","org/forgerock/openidm/ui/common/UserModel","org/forgerock/commons/ui/common/main/EventManager","org/forgerock/commons/ui/common/main/AbstractConfigurationAware","org/forgerock/commons/ui/common/main/ServiceInvoker","org/forgerock/commons/ui/common/main/Configuration","org/forgerock/openidm/ui/common/util/Constants"],function(e,t,n,i,r,o,s,a){var l=new r;return l.login=function(e,r,o){return t.has(e,"userName")&&t.has(e,"password")?(new n).login(e.userName,e.password).then(r,function(e){var t=e.responseJSON.reason;"Unauthorized"===t&&(t="authenticationFailed"),o&&o(t)}):t.has(e,"oauthLogin")?(new n).oauthLogin(e.provider).then(r,function(e){"Unauthorized"===e.responseJSON.reason?(i.sendEvent(a.EVENT_DISPLAY_MESSAGE_REQUEST,{key:"socialAuthenticationFailed"}),o()):o(e)}):void 0},l.logout=function(t){var n;n=s.loggedUser?s.loggedUser.logout().then(function(e){return delete s.loggedUser,e}):e.Deferred().resolve(),n.then(function(e){if(e||s.globalData.logoutUrl)return window.location.href=e||s.globalData.logoutUrl,!1;t()})},l.getLoggedUser=function(e,i){return(new n).getProfile().then(e,function(e){e.responseJSON&&e.responseJSON.detail&&e.responseJSON.detail.failureReasons&&e.responseJSON.detail.failureReasons.length&&t.where(e.responseJSON.detail.failureReasons,{isAlive:!1}).length&&(s.globalData.authenticationUnavailable=!0),i()})},l}),define("org/forgerock/commons/ui/common/util/OAuth",["lodash","./URIUtils"],function(e,t){var n={};return n.getRedirectURI=function(e){return t.getCurrentOrigin()+t.getCurrentPathName().replace(/(\/index\.html)|(\/$)/,"/"+(e||"oauthReturn.html"))},n.getRequestURL=function(e,t,n,i){return e+"?response_type=code&scope="+encodeURIComponent(n)+"&redirect_uri="+this.getRedirectURI()+"&state="+encodeURIComponent(i)+"&nonce="+this.generateNonce(t)+"&client_id="+t},n.generateNonce=function(){var e=Math.random().toString(36).substr(2,12);return sessionStorage.setItem("OAuthNonce",e),e},n.getCurrentNonce=function(){var e=sessionStorage.getItem("OAuthNonce");return sessionStorage.removeItem("OAuthNonce"),e},n}),define("org/forgerock/openidm/ui/common/delegates/SocialDelegate",["jquery","underscore","org/forgerock/commons/ui/common/main/AbstractDelegate","org/forgerock/commons/ui/common/main/Configuration","org/forgerock/commons/ui/common/util/Constants","org/forgerock/commons/ui/common/util/OAuth"],function(e,t,n,i,r,o){var s=new n(r.host+r.context+"/identityProviders");return s.loginProviders=function(){var t={};e.Deferred();return t[r.HEADER_PARAM_USERNAME]="anonymous",t[r.HEADER_PARAM_PASSWORD]="anonymous",t[r.HEADER_PARAM_NO_SESSION]="true",s.serviceCall({url:"",serviceUrl:r.context+"/authentication",type:"get",headers:t}).then(function(e){return e})},s.providerList=function(){var t=e.Deferred();return s.serviceCall({url:"",type:"get",errorsHandlers:{notfound:{status:404}}}).then(function(e){t.resolve(e)},function(){t.resolve({providers:[]})}),t},s.getAuthRedirect=function(e,t){var n={};return n[r.HEADER_PARAM_USERNAME]="anonymous",n[r.HEADER_PARAM_PASSWORD]="anonymous",n[r.HEADER_PARAM_NO_SESSION]="true",s.serviceCall({type:"POST",url:"?_action=getAuthRedirect",data:JSON.stringify({provider:e,landingPage:t}),headers:n}).then(function(e){return localStorage.setItem("dataStoreToken",e.token),e.redirect})},s.availableProviders=function(){var t=e.Deferred();return s.serviceCall({url:"?_action=availableProviders",type:"post",errorsHandlers:{notfound:{status:404}}}).then(function(e){t.resolve(e)},function(){t.resolve({providers:[]})}),t},s}),function(e,t,n){function i(e){var t={},i=/^jQuery\d+$/;return n.each(e.attributes,function(e,n){n.specified&&!i.test(n.name)&&(t[n.name]=n.value)}),t}function r(e,t){var i=this,r=n(i);if(i.value==r.attr("placeholder")&&r.hasClass("placeholder"))if(r.data("placeholder-password")){if(r=r.hide().next().show().attr("id",r.removeAttr("id").data("placeholder-id")),!0===e)return r[0].value=t;r.focus()}else i.value="",r.removeClass("placeholder"),i==s()&&i.select()}function o(){var e,t=this,o=n(t),s=this.id;if(""==t.value){if("password"==t.type){if(!o.data("placeholder-textinput")){try{e=o.clone().attr({type:"text"})}catch(t){e=n("<input>").attr(n.extend(i(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":o,"placeholder-id":s}).bind("focus.placeholder",r),o.data({"placeholder-textinput":e,"placeholder-id":s}).before(e)}o=o.removeAttr("id").hide().prev().attr("id",s).show()}o.addClass("placeholder"),o[0].value=o.attr("placeholder")}else o.removeClass("placeholder")}function s(){try{return t.activeElement
}catch(e){}}var a,l,u="[object OperaMini]"==Object.prototype.toString.call(e.operamini),c="placeholder"in t.createElement("input")&&!u,d="placeholder"in t.createElement("textarea")&&!u,h=n.fn,p=n.valHooks,f=n.propHooks;c&&d?(l=h.placeholder=function(){return this},l.input=l.textarea=!0):(l=h.placeholder=function(){var e=this;return e.filter((c?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":r,"blur.placeholder":o}).data("placeholder-enabled",!0).trigger("blur.placeholder"),e},l.input=c,l.textarea=d,a={get:function(e){var t=n(e),i=t.data("placeholder-password");return i?i[0].value:t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,t){var i=n(e),a=i.data("placeholder-password");return a?a[0].value=t:i.data("placeholder-enabled")?(""==t?(e.value=t,e!=s()&&o.call(e)):i.hasClass("placeholder")?r.call(e,!0,t)||(e.value=t):e.value=t,i):e.value=t}},c||(p.input=a,f.value=a),d||(p.textarea=a,f.value=a),n(function(){n(t).delegate("form","submit.placeholder",function(){var e=n(".placeholder",this).each(r);setTimeout(function(){e.each(o)},10)})}),n(e).bind("beforeunload.placeholder",function(){n(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),define("placeholder",["jquery"],function(){}),define("org/forgerock/commons/ui/common/LoginView",["underscore","placeholder","org/forgerock/commons/ui/common/main/AbstractView","org/forgerock/commons/ui/common/util/ModuleLoader","org/forgerock/commons/ui/common/main/ValidatorsManager","org/forgerock/commons/ui/common/main/EventManager","org/forgerock/commons/ui/common/util/Constants","org/forgerock/commons/ui/common/util/CookieHelper"],function(e,t,n,i,r,o,s,a){return new(n.extend({template:"templates/common/LoginTemplate.html",baseTemplate:"templates/common/LoginBaseTemplate.html",events:{"click input[type=submit]":"formSubmit",onValidate:"onValidate"},partials:["partials/providers/_providerButton.html"],formSubmit:function(e){if(e.preventDefault(),0!==this.$el.find("[name=loginRemember]:checked").length){var t=new Date;t.setDate(t.getDate()+7300),a.setCookie("login",this.$el.find("input[name=login]").val(),t)}else a.deleteCookie("login");o.sendEvent(s.EVENT_LOGIN_REQUEST,{userName:this.$el.find("input[name=login]").val(),password:this.$el.find("input[name=password]").val()})},render:function(e,t){this.parentRender(function(){r.bindValidators(this.$el),this.$el.find("input").placeholder();var e=a.getCookie("login");e?(this.$el.find("input[name=login]").val(e).prop("autofocus",!1),this.$el.find("[name=loginRemember]").prop("checked",!0),r.validateAllFields(this.$el),this.$el.find("[name=password]").focus()):this.$el.find("input[name=login]").focus(),t&&t()})}}))}),function(e,t,n,i){function r(t,n){this.settings=null,this.options=e.extend({},r.Defaults,n),this.$element=e(t),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},e.each(["onResize","onThrottledResize"],e.proxy(function(t,n){this._handlers[n]=e.proxy(this[n],this)},this)),e.each(r.Plugins,e.proxy(function(e,t){this._plugins[e.charAt(0).toLowerCase()+e.slice(1)]=new t(this)},this)),e.each(r.Workers,e.proxy(function(t,n){this._pipe.push({filter:n.filter,run:e.proxy(n.run,this)})},this)),this.setup(),this.initialize()}r.Defaults={items:3,loop:!1,center:!1,rewind:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:t,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},r.Width={Default:"default",Inner:"inner",Outer:"outer"},r.Type={Event:"event",State:"state"},r.Plugins={},r.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(e){e.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(e){var t=this.settings.margin||"",n=!this.settings.autoWidth,i=this.settings.rtl,r={width:"auto","margin-left":i?t:"","margin-right":i?"":t};!n&&this.$stage.children().css(r),e.css=r}},{filter:["width","items","settings"],run:function(e){var t=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,n=null,i=this._items.length,r=!this.settings.autoWidth,o=[];for(e.items={merge:!1,width:t};i--;)n=this._mergers[i],n=this.settings.mergeFit&&Math.min(n,this.settings.items)||n,e.items.merge=n>1||e.items.merge,o[i]=r?t*n:this._items[i].width();this._widths=o}},{filter:["items","settings"],run:function(){var t=[],n=this._items,i=this.settings,r=Math.max(2*i.items,4),o=2*Math.ceil(n.length/2),s=i.loop&&n.length?i.rewind?r:Math.max(r,o):0,a="",l="";for(s/=2;s--;)t.push(this.normalize(t.length/2,!0)),a+=n[t[t.length-1]][0].outerHTML,t.push(this.normalize(n.length-1-(t.length-1)/2,!0)),l=n[t[t.length-1]][0].outerHTML+l;this._clones=t,e(a).addClass("cloned").appendTo(this.$stage),e(l).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var e=this.settings.rtl?1:-1,t=this._clones.length+this._items.length,n=-1,i=0,r=0,o=[];++n<t;)i=o[n-1]||0,r=this._widths[this.relative(n)]+this.settings.margin,o.push(i+r*e);this._coordinates=o}},{filter:["width","items","settings"],run:function(){var e=this.settings.stagePadding,t=this._coordinates,n={width:Math.ceil(Math.abs(t[t.length-1]))+2*e,"padding-left":e||"","padding-right":e||""};this.$stage.css(n)}},{filter:["width","items","settings"],run:function(e){var t=this._coordinates.length,n=!this.settings.autoWidth,i=this.$stage.children();if(n&&e.items.merge)for(;t--;)e.css.width=this._widths[this.relative(t)],i.eq(t).css(e.css);else n&&(e.css.width=e.items.width,i.css(e.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(e){e.current=e.current?this.$stage.children().index(e.current):0,e.current=Math.max(this.minimum(),Math.min(this.maximum(),e.current)),this.reset(e.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var e,t,n,i,r=this.settings.rtl?1:-1,o=2*this.settings.stagePadding,s=this.coordinates(this.current())+o,a=s+this.width()*r,l=[];for(n=0,i=this._coordinates.length;i>n;n++)e=this._coordinates[n-1]||0,t=Math.abs(this._coordinates[n])+o*r,(this.op(e,"<=",s)&&this.op(e,">",a)||this.op(t,"<",s)&&this.op(t,">",a))&&l.push(n);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+l.join("), :eq(")+")").addClass("active"),this.settings.center&&(this.$stage.children(".center").removeClass("center"),this.$stage.children().eq(this.current()).addClass("center"))}}],r.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var t,n,r;t=this.$element.find("img"),n=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:i,r=this.$element.children(n).width(),t.length&&0>=r&&this.preloadAutoWidthImages(t)}this.$element.addClass(this.options.loadingClass),this.$stage=e("<"+this.settings.stageElement+' class="'+this.settings.stageClass+'"/>').wrap('<div class="'+this.settings.stageOuterClass+'"/>'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this.$element.is(":visible")?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},r.prototype.setup=function(){var t=this.viewport(),n=this.options.responsive,i=-1,r=null;n?(e.each(n,function(e){t>=e&&e>i&&(i=Number(e))}),r=e.extend({},this.options,n[i]),"function"==typeof r.stagePadding&&(r.stagePadding=r.stagePadding()),delete r.responsive,r.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+i))):r=e.extend({},this.options),this.trigger("change",{property:{name:"settings",value:r}}),this._breakpoint=i,this.settings=r,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},r.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},r.prototype.prepare=function(t){var n=this.trigger("prepare",{content:t});return n.data||(n.data=e("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(t)),this.trigger("prepared",{content:n.data}),n.data},r.prototype.update=function(){for(var t=0,n=this._pipe.length,i=e.proxy(function(e){return this[e]},this._invalidated),r={};n>t;)(this._invalidated.all||e.grep(this._pipe[t].filter,i).length>0)&&this._pipe[t].run(r),t++;this._invalidated={},!this.is("valid")&&this.enter("valid")},r.prototype.width=function(e){switch(e=e||r.Width.Default){case r.Width.Inner:case r.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},r.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},r.prototype.onThrottledResize=function(){t.clearTimeout(this.resizeTimer),this.resizeTimer=t.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},r.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!!this.$element.is(":visible")&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))))},r.prototype.registerEventHandlers=function(){e.support.transition&&this.$stage.on(e.support.transition.end+".owl.core",e.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(t,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",e.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",e.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",e.proxy(this.onDragEnd,this)))},r.prototype.onDragStart=function(t){var i=null;3!==t.which&&(e.support.transform?(i=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),i={x:i[16===i.length?12:4],y:i[16===i.length?13:5]}):(i=this.$stage.position(),i={x:this.settings.rtl?i.left+this.$stage.width()-this.width()+this.settings.margin:i.left,y:i.top}),this.is("animating")&&(e.support.transform?this.animate(i.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===t.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=e(t.target),this._drag.stage.start=i,this._drag.stage.current=i,this._drag.pointer=this.pointer(t),e(n).on("mouseup.owl.core touchend.owl.core",e.proxy(this.onDragEnd,this)),e(n).one("mousemove.owl.core touchmove.owl.core",e.proxy(function(t){var i=this.difference(this._drag.pointer,this.pointer(t));e(n).on("mousemove.owl.core touchmove.owl.core",e.proxy(this.onDragMove,this)),Math.abs(i.x)<Math.abs(i.y)&&this.is("valid")||(t.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},r.prototype.onDragMove=function(e){var t=null,n=null,i=null,r=this.difference(this._drag.pointer,this.pointer(e)),o=this.difference(this._drag.stage.start,r);this.is("dragging")&&(e.preventDefault(),this.settings.loop?(t=this.coordinates(this.minimum()),n=this.coordinates(this.maximum()+1)-t,o.x=((o.x-t)%n+n)%n+t):(t=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),n=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),i=this.settings.pullDrag?-1*r.x/5:0,o.x=Math.max(Math.min(o.x,t+i),n+i)),this._drag.stage.current=o,this.animate(o.x))},r.prototype.onDragEnd=function(t){var i=this.difference(this._drag.pointer,this.pointer(t)),r=this._drag.stage.current,o=i.x>0^this.settings.rtl?"left":"right";e(n).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==i.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(r.x,0!==i.x?o:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=o,(Math.abs(i.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},r.prototype.closest=function(t,n){var i=-1,r=this.width(),o=this.coordinates();return this.settings.freeDrag||e.each(o,e.proxy(function(e,s){return"left"===n&&t>s-30&&s+30>t?i=e:"right"===n&&t>s-r-30&&s-r+30>t?i=e+1:this.op(t,"<",s)&&this.op(t,">",o[e+1]||s-r)&&(i="left"===n?e+1:e),-1===i},this)),this.settings.loop||(this.op(t,">",o[this.minimum()])?i=t=this.minimum():this.op(t,"<",o[this.maximum()])&&(i=t=this.maximum())),i},r.prototype.animate=function(t){var n=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),n&&(this.enter("animating"),this.trigger("translate")),e.support.transform3d&&e.support.transition?this.$stage.css({transform:"translate3d("+t+"px,0px,0px)",transition:this.speed()/1e3+"s"}):n?this.$stage.animate({left:t+"px"},this.speed(),this.settings.fallbackEasing,e.proxy(this.onTransitionEnd,this)):this.$stage.css({left:t+"px"})},r.prototype.is=function(e){return this._states.current[e]&&this._states.current[e]>0},r.prototype.current=function(e){if(e===i)return this._current;if(0===this._items.length)return i;if(e=this.normalize(e),this._current!==e){var t=this.trigger("change",{property:{name:"position",value:e}});t.data!==i&&(e=this.normalize(t.data)),this._current=e,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},r.prototype.invalidate=function(t){return"string"===e.type(t)&&(this._invalidated[t]=!0,this.is("valid")&&this.leave("valid")),e.map(this._invalidated,function(e,t){return t})},r.prototype.reset=function(e){(e=this.normalize(e))!==i&&(this._speed=0,this._current=e,this.suppress(["translate","translated"]),this.animate(this.coordinates(e)),this.release(["translate","translated"]))},r.prototype.normalize=function(e,t){var n=this._items.length,r=t?0:this._clones.length;return!this.isNumeric(e)||1>n?e=i:(0>e||e>=n+r)&&(e=((e-r/2)%n+n)%n+r/2),e},r.prototype.relative=function(e){return e-=this._clones.length/2,this.normalize(e,!0)},r.prototype.maximum=function(e){var t,n,i,r=this.settings,o=this._coordinates.length;if(r.loop)o=this._clones.length/2+this._items.length-1;else if(r.autoWidth||r.merge){for(t=this._items.length,n=this._items[--t].width(),i=this.$element.width();t--&&!((n+=this._items[t].width()+this.settings.margin)>i););o=t+1}else o=r.center?this._items.length-1:this._items.length-r.items;return e&&(o-=this._clones.length/2),Math.max(o,0)},r.prototype.minimum=function(e){return e?0:this._clones.length/2},r.prototype.items=function(e){return e===i?this._items.slice():(e=this.normalize(e,!0),this._items[e])},r.prototype.mergers=function(e){return e===i?this._mergers.slice():(e=this.normalize(e,!0),this._mergers[e])},r.prototype.clones=function(t){var n=this._clones.length/2,r=n+this._items.length,o=function(e){return e%2==0?r+e/2:n-(e+1)/2};return t===i?e.map(this._clones,function(e,t){return o(t)}):e.map(this._clones,function(e,n){return e===t?o(n):null})},r.prototype.speed=function(e){return e!==i&&(this._speed=e),this._speed},r.prototype.coordinates=function(t){var n,r=1,o=t-1;return t===i?e.map(this._coordinates,e.proxy(function(e,t){return this.coordinates(t)},this)):(this.settings.center?(this.settings.rtl&&(r=-1,o=t+1),n=this._coordinates[t],n+=(this.width()-n+(this._coordinates[o]||0))/2*r):n=this._coordinates[o]||0,n=Math.ceil(n))},r.prototype.duration=function(e,t,n){return 0===n?0:Math.min(Math.max(Math.abs(t-e),1),6)*Math.abs(n||this.settings.smartSpeed)},r.prototype.to=function(e,t){var n=this.current(),i=null,r=e-this.relative(n),o=(r>0)-(0>r),s=this._items.length,a=this.minimum(),l=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(r)>s/2&&(r+=-1*o*s),e=n+r,(i=((e-a)%s+s)%s+a)!==e&&l>=i-r&&i-r>0&&(n=i-r,e=i,this.reset(n))):this.settings.rewind?(l+=1,e=(e%l+l)%l):e=Math.max(a,Math.min(l,e)),this.speed(this.duration(n,e,t)),this.current(e),this.$element.is(":visible")&&this.update()},r.prototype.next=function(e){e=e||!1,this.to(this.relative(this.current())+1,e)},r.prototype.prev=function(e){e=e||!1,this.to(this.relative(this.current())-1,e)},r.prototype.onTransitionEnd=function(e){return(e===i||(e.stopPropagation(),(e.target||e.srcElement||e.originalTarget)===this.$stage.get(0)))&&(this.leave("animating"),void this.trigger("translated"))},r.prototype.viewport=function(){var i;return this.options.responsiveBaseElement!==t?i=e(this.options.responsiveBaseElement).width():t.innerWidth?i=t.innerWidth:n.documentElement&&n.documentElement.clientWidth?i=n.documentElement.clientWidth:console.warn("Can not detect viewport width."),i},r.prototype.replace=function(t){this.$stage.empty(),this._items=[],t&&(t=t instanceof jQuery?t:e(t)),this.settings.nestedItemSelector&&(t=t.find("."+this.settings.nestedItemSelector)),t.filter(function(){return 1===this.nodeType}).each(e.proxy(function(e,t){t=this.prepare(t),this.$stage.append(t),this._items.push(t),this._mergers.push(1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},r.prototype.add=function(t,n){var r=this.relative(this._current);n=n===i?this._items.length:this.normalize(n,!0),t=t instanceof jQuery?t:e(t),this.trigger("add",{content:t,position:n}),t=this.prepare(t),0===this._items.length||n===this._items.length?(0===this._items.length&&this.$stage.append(t),0!==this._items.length&&this._items[n-1].after(t),this._items.push(t),this._mergers.push(1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[n].before(t),this._items.splice(n,0,t),this._mergers.splice(n,0,1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[r]&&this.reset(this._items[r].index()),this.invalidate("items"),this.trigger("added",{content:t,position:n})},r.prototype.remove=function(e){(e=this.normalize(e,!0))!==i&&(this.trigger("remove",{content:this._items[e],position:e}),this._items[e].remove(),this._items.splice(e,1),this._mergers.splice(e,1),this.invalidate("items"),this.trigger("removed",{content:null,position:e}))},r.prototype.preloadAutoWidthImages=function(t){t.each(e.proxy(function(t,n){this.enter("pre-loading"),n=e(n),e(new Image).one("load",e.proxy(function(e){n.attr("src",e.target.src),n.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",n.attr("src")||n.attr("data-src")||n.attr("data-src-retina"))},this))},r.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),e(n).off(".owl.core"),!1!==this.settings.responsive&&(t.clearTimeout(this.resizeTimer),this.off(t,"resize",this._handlers.onThrottledResize));for(var i in this._plugins)this._plugins[i].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},r.prototype.op=function(e,t,n){var i=this.settings.rtl;switch(t){case"<":return i?e>n:n>e;case">":return i?n>e:e>n;case">=":return i?n>=e:e>=n;case"<=":return i?e>=n:n>=e}},r.prototype.on=function(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i):e.attachEvent&&e.attachEvent("on"+t,n)},r.prototype.off=function(e,t,n,i){e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent&&e.detachEvent("on"+t,n)},r.prototype.trigger=function(t,n,i,o,s){var a={item:{count:this._items.length,index:this.current()}},l=e.camelCase(e.grep(["on",t,i],function(e){return e}).join("-").toLowerCase()),u=e.Event([t,"owl",i||"carousel"].join(".").toLowerCase(),e.extend({relatedTarget:this},a,n));return this._supress[t]||(e.each(this._plugins,function(e,t){t.onTrigger&&t.onTrigger(u)}),this.register({type:r.Type.Event,name:t}),this.$element.trigger(u),this.settings&&"function"==typeof this.settings[l]&&this.settings[l].call(this,u)),u},r.prototype.enter=function(t){e.each([t].concat(this._states.tags[t]||[]),e.proxy(function(e,t){this._states.current[t]===i&&(this._states.current[t]=0),this._states.current[t]++},this))},r.prototype.leave=function(t){e.each([t].concat(this._states.tags[t]||[]),e.proxy(function(e,t){this._states.current[t]--},this))},r.prototype.register=function(t){if(t.type===r.Type.Event){if(e.event.special[t.name]||(e.event.special[t.name]={}),!e.event.special[t.name].owl){var n=e.event.special[t.name]._default;e.event.special[t.name]._default=function(e){return!n||!n.apply||e.namespace&&-1!==e.namespace.indexOf("owl")?e.namespace&&e.namespace.indexOf("owl")>-1:n.apply(this,arguments)},e.event.special[t.name].owl=!0}}else t.type===r.Type.State&&(this._states.tags[t.name]?this._states.tags[t.name]=this._states.tags[t.name].concat(t.tags):this._states.tags[t.name]=t.tags,this._states.tags[t.name]=e.grep(this._states.tags[t.name],e.proxy(function(n,i){return e.inArray(n,this._states.tags[t.name])===i},this)))},r.prototype.suppress=function(t){e.each(t,e.proxy(function(e,t){this._supress[t]=!0},this))},r.prototype.release=function(t){e.each(t,e.proxy(function(e,t){delete this._supress[t]},this))},r.prototype.pointer=function(e){var n={x:null,y:null};return e=e.originalEvent||e||t.event,e=e.touches&&e.touches.length?e.touches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,e.pageX?(n.x=e.pageX,n.y=e.pageY):(n.x=e.clientX,n.y=e.clientY),n},r.prototype.isNumeric=function(e){return!isNaN(parseFloat(e))},r.prototype.difference=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},e.fn.owlCarousel=function(t){var n=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=e(this),o=i.data("owl.carousel");o||(o=new r(this,"object"==typeof t&&t),i.data("owl.carousel",o),e.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(t,n){o.register({type:r.Type.Event,name:n}),o.$element.on(n+".owl.carousel.core",e.proxy(function(e){e.namespace&&e.relatedTarget!==this&&(this.suppress([n]),o[n].apply(this,[].slice.call(arguments,1)),this.release([n]))},o))})),"string"==typeof t&&"_"!==t.charAt(0)&&o[t].apply(o,n)})},e.fn.owlCarousel.Constructor=r}(window.Zepto||window.jQuery,window,document),function(e,t,n,i){var r=function(t){this.core=t,this.core.options=e.extend({},r.Defaults,this.core.options),this.swapping=!0,this.previous=i,this.next=i,this.handlers={"change.owl.carousel":e.proxy(function(e){e.namespace&&"position"==e.property.name&&(this.previous=this.core.current(),this.next=e.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":e.proxy(function(e){e.namespace&&(this.swapping="translated"==e.type)},this),"translate.owl.carousel":e.proxy(function(e){e.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};r.Defaults={animateOut:!1,animateIn:!1},r.prototype.swap=function(){if(1===this.core.settings.items&&e.support.animation&&e.support.transition){this.core.speed(0);var t,n=e.proxy(this.clear,this),i=this.core.$stage.children().eq(this.previous),r=this.core.$stage.children().eq(this.next),o=this.core.settings.animateIn,s=this.core.settings.animateOut;this.core.current()!==this.previous&&(s&&(t=this.core.coordinates(this.previous)-this.core.coordinates(this.next),i.one(e.support.animation.end,n).css({left:t+"px"}).addClass("animated owl-animated-out").addClass(s)),o&&r.one(e.support.animation.end,n).addClass("animated owl-animated-in").addClass(o))}},r.prototype.clear=function(t){e(t.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},r.prototype.destroy=function(){var e,t;for(e in this.handlers)this.core.$element.off(e,this.handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Animate=r}(window.Zepto||window.jQuery,window,document),function(e,t,n,i){"use strict";var r=function(t){this._core=t,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":e.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+e(t.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.splice(e.position,0,this._templates.pop())},this),"remove.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.splice(e.position,1)},this),"changed.owl.carousel":e.proxy(function(e){e.namespace&&"position"==e.property.name&&this.draw()},this),"initialized.owl.carousel":e.proxy(function(e){e.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":e.proxy(function(e){e.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=e.extend({},r.Defaults,this._core.options),this.$element.on(this._handlers)};r.Defaults={nav:!1,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},r.prototype.initialize=function(){var t,n=this._core.settings;this._controls.$relative=(n.navContainer?e(n.navContainer):e("<div>").addClass(n.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=e("<"+n.navElement+">").addClass(n.navClass[0]).html(n.navText[0]).prependTo(this._controls.$relative).on("click",e.proxy(function(e){this.prev(n.navSpeed)},this)),this._controls.$next=e("<"+n.navElement+">").addClass(n.navClass[1]).html(n.navText[1]).appendTo(this._controls.$relative).on("click",e.proxy(function(e){this.next(n.navSpeed)},this)),n.dotsData||(this._templates=[e("<div>").addClass(n.dotClass).append(e("<span>")).prop("outerHTML")]),this._controls.$absolute=(n.dotsContainer?e(n.dotsContainer):e("<div>").addClass(n.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","div",e.proxy(function(t){var i=e(t.target).parent().is(this._controls.$absolute)?e(t.target).index():e(t.target).parent().index();t.preventDefault(),this.to(i,n.dotsSpeed)},this));for(t in this._overrides)this._core[t]=e.proxy(this[t],this)},r.prototype.destroy=function(){var e,t,n,i;for(e in this._handlers)this.$element.off(e,this._handlers[e]);for(t in this._controls)this._controls[t].remove();for(i in this.overides)this._core[i]=this._overrides[i];for(n in Object.getOwnPropertyNames(this))"function"!=typeof this[n]&&(this[n]=null)},r.prototype.update=function(){var e,t,n,i=this._core.clones().length/2,r=i+this._core.items().length,o=this._core.maximum(!0),s=this._core.settings,a=s.center||s.autoWidth||s.dotsData?1:s.dotsEach||s.items;if("page"!==s.slideBy&&(s.slideBy=Math.min(s.slideBy,s.items)),s.dots||"page"==s.slideBy)for(this._pages=[],e=i,t=0,n=0;r>e;e++){if(t>=a||0===t){if(this._pages.push({start:Math.min(o,e-i),end:e-i+a-1}),Math.min(o,e-i)===o)break;t=0,++n}t+=this._core.mergers(this._core.relative(e))}},r.prototype.draw=function(){var t,n=this._core.settings,i=this._core.items().length<=n.items,r=this._core.relative(this._core.current()),o=n.loop||n.rewind;this._controls.$relative.toggleClass("disabled",!n.nav||i),n.nav&&(this._controls.$previous.toggleClass("disabled",!o&&r<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!o&&r>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!n.dots||i),n.dots&&(t=this._pages.length-this._controls.$absolute.children().length,n.dotsData&&0!==t?this._controls.$absolute.html(this._templates.join("")):t>0?this._controls.$absolute.append(new Array(t+1).join(this._templates[0])):0>t&&this._controls.$absolute.children().slice(t).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(e.inArray(this.current(),this._pages)).addClass("active"))},r.prototype.onTrigger=function(t){var n=this._core.settings;t.page={index:e.inArray(this.current(),this._pages),count:this._pages.length,size:n&&(n.center||n.autoWidth||n.dotsData?1:n.dotsEach||n.items)}},r.prototype.current=function(){var t=this._core.relative(this._core.current());return e.grep(this._pages,e.proxy(function(e,n){return e.start<=t&&e.end>=t},this)).pop()},r.prototype.getPosition=function(t){var n,i,r=this._core.settings;return"page"==r.slideBy?(n=e.inArray(this.current(),this._pages),i=this._pages.length,t?++n:--n,n=this._pages[(n%i+i)%i].start):(n=this._core.relative(this._core.current()),i=this._core.items().length,t?n+=r.slideBy:n-=r.slideBy),n},r.prototype.next=function(t){e.proxy(this._overrides.to,this._core)(this.getPosition(!0),t)},r.prototype.prev=function(t){e.proxy(this._overrides.to,this._core)(this.getPosition(!1),t)},r.prototype.to=function(t,n,i){var r;!i&&this._pages.length?(r=this._pages.length,e.proxy(this._overrides.to,this._core)(this._pages[(t%r+r)%r].start,n)):e.proxy(this._overrides.to,this._core)(t,n)},e.fn.owlCarousel.Constructor.Plugins.Navigation=r}(window.Zepto||window.jQuery,window,document),function(e,t,n,i){function r(t,n){var r=!1,o=t.charAt(0).toUpperCase()+t.slice(1);return e.each((t+" "+a.join(o+" ")+o).split(" "),function(e,t){return s[t]!==i?(r=!n||t,!1):void 0}),r}function o(e){return r(e,!0)}var s=e("<support>").get(0).style,a="Webkit Moz O ms".split(" "),l={transition:{end:{WebkitTransition:"webkitTransitionEnd",
MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},u={csstransforms:function(){return!!r("transform")},csstransforms3d:function(){return!!r("perspective")},csstransitions:function(){return!!r("transition")},cssanimations:function(){return!!r("animation")}};u.csstransitions()&&(e.support.transition=new String(o("transition")),e.support.transition.end=l.transition.end[e.support.transition]),u.cssanimations()&&(e.support.animation=new String(o("animation")),e.support.animation.end=l.animation.end[e.support.animation]),u.csstransforms()&&(e.support.transform=new String(o("transform")),e.support.transform3d=u.csstransforms3d())}(window.Zepto||window.jQuery,window,document),define("owl",["jquery"],function(){}),define("org/forgerock/openidm/ui/common/util/oAuthUtils",["owl"],function(){var e={};return e.oauthPopup=function(e){var t=screen.width*(2/3),n=screen.height*(2/3);e.windowName=e.windowName||"ConnectWithOAuth",e.windowOptions=e.windowOptions||"location=0,status=0,width="+t+",height="+n,e.callback=e.callback||function(){window.location.reload()},window.open(e.path,e.windowName,e.windowOptions)},e.initSocialCarousel=function(e,t){var n,i={fourItems:{500:{items:4,slideBy:3},768:{items:3,slideBy:2},992:{items:4,slideBy:3}},fiveItems:{500:{items:5,slideBy:4},768:{items:3,slideBy:2},992:{items:5,slideBy:4}},full:{500:{items:5,slideBy:4},768:{items:3,slideBy:2},992:{items:5,slideBy:4},1200:{items:6,slideBy:5}}};t<=3||(n=4===t?i.fourItems:5===t?i.fiveItems:i.full,e.owlCarousel({nav:!0,loop:!1,navSpeed:150,navText:["<i class='fa fa-angle-left'></i>","<i class='fa fa-angle-right'></i>"],responsive:n}))},e}),define("org/forgerock/openidm/ui/common/login/LoginView",["jquery","lodash","handlebars","org/forgerock/openidm/ui/common/delegates/SocialDelegate","org/forgerock/commons/ui/common/main/Configuration","org/forgerock/openidm/ui/common/util/Constants","org/forgerock/commons/ui/common/main/EventManager","org/forgerock/commons/ui/common/LoginView","org/forgerock/commons/ui/common/util/OAuth","org/forgerock/openidm/ui/common/util/oAuthUtils","org/forgerock/commons/ui/common/main/Router"],function(e,t,n,i,r,o,s,a,l,u,c){var d,h=function(){};return h.prototype=a,d=new h,t.extend(d.events,{"click [data-oauth=button]":"oauthHandler"}),d.redirectToIDP=function(e){i.getAuthRedirect(e,l.getRedirectURI("#"+c.getLink(c.currentRoute,["/","&oauthReturn=true&provider="+e+"&gotoURL="+encodeURIComponent(r.gotoURL||"#")]))).then(function(e){window.location.href=e})},d.oauthHandler=function(t){t.preventDefault(),this.redirectToIDP(e(t.target).parents("[data-oauth=button]").attr("value"))},n.registerHelper("providerPartialFromType",function(e){return"providers/_"+e}),d.render=function(n,l){var d=c.convertCurrentUrlToJSON().params;!t.isEmpty(d)&&t.has(d,"oauthReturn")?(t.has(d,"gotoURL")&&(r.gotoURL=d.gotoURL),s.sendEvent(o.EVENT_LOGIN_REQUEST,{oauthLogin:!0,attemptRegister:!0,provider:t.get(d,"provider"),failureCallback:function(e){s.sendEvent(o.EVENT_CHANGE_VIEW,{route:c.configuration.routes.login,args:["&preventAutoLogin=true"]})}})):i.loginProviders().then(t.bind(function(i){t.each(i.providers,function(t){t.name=t.provider,t.action=e.t("templates.socialIdentities.signIn")}),this.data.providers=i.providers,this.data.hideProviderText=this.data.providers.length>3,1!==this.data.providers.length||t.has(d,"preventAutoLogin")||"OPENAM"!==this.data.providers[0].name?a.render.call(this,n,t.bind(function(){u.initSocialCarousel(e(".fr-login-social-providers"),this.data.providers.length),l&&l()},this)):this.redirectToIDP(this.data.providers[0].name)},this))},d}),define("org/forgerock/openidm/ui/common/main",["./util/PolicyValidatorsManager","./delegates/SiteConfigurationDelegate","./components/Footer","./login/InternalLoginHelper","./login/LoginView"]),define("org/forgerock/openidm/ui/common/resource/ResourceEditViewRegistry",["underscore","org/forgerock/commons/ui/common/main/AbstractConfigurationAware","org/forgerock/commons/ui/common/util/ModuleLoader"],function(e,t,n){var i=new t;return i.updateConfigurationCallback=function(t){this.configuration=t,e.each(t,function(e,t){require.config({map:{"*":{key:e}}})})},i.getEditViewModule=function(t){return e.isUndefined(this.configuration["resource-"+t])?n.load("org/forgerock/openidm/ui/common/resource/GenericEditResourceView"):n.load(this.configuration["resource-"+t])},i}),define("org/forgerock/openidm/ui/admin/connector/ConnectorRegistry",["underscore","org/forgerock/commons/ui/common/main/AbstractConfigurationAware","org/forgerock/commons/ui/common/util/ModuleLoader"],function(e,t,n){var i=new t;return i.updateConfigurationCallback=function(t){this.configuration=t,e.each(t,function(e){require.config({map:{"*":{key:e}}})})},i.getConnectorModule=function(t){return e.isUndefined(this.configuration[t])?n.load("org/forgerock/openidm/ui/admin/connector/ConnectorTypeView"):n.load(this.configuration[t])},i}),define("org/forgerock/openidm/ui/admin/delegates/SiteConfigurationDelegate",["jquery","underscore","org/forgerock/commons/ui/common/main/AbstractDelegate","org/forgerock/commons/ui/common/main/Configuration","org/forgerock/openidm/ui/common/delegates/SiteConfigurationDelegate","org/forgerock/openidm/ui/common/delegates/ConfigDelegate","org/forgerock/commons/ui/common/main/EventManager","org/forgerock/commons/ui/common/util/Constants","org/forgerock/commons/ui/common/components/Navigation"],function(e,t,n,i,r,o,s,a,l){var u=function(e){return n.call(this,e),this},c={};return u.prototype=Object.create(r),u.prototype.getConfiguration=function(e){return r.getConfiguration.call(this).then(function(t){t.passwordReset=!1,t.selfRegistration=!1,t.forgotUsername=!1,e(t)})},u.prototype.updateConfiguration=function(e){this.getConfiguration(function(t){i.globalData=t,e&&e()})},u.prototype.checkForDifferences=function(){var n=e.Deferred();return i.loggedUser?o.readEntity("ui/configuration").then(function(e){t.contains(i.loggedUser.uiroles,"ui-admin")&&l.configuration.links&&l.configuration.links.admin&&l.configuration.links.admin.urls&&l.configuration.links.admin.urls.managed&&l.configuration.links.admin.urls.managed.urls&&0===l.configuration.links.admin.urls.managed.urls.length||!t.isEqual(c,t.pick(e.configuration,["passwordReset","selfRegistration","forgotUsername"]))?(c=t.pick(e.configuration,["passwordReset","selfRegistration","forgotUsername"]),s.sendEvent(a.EVENT_UPDATE_NAVIGATION,{callback:function(){n.resolve()}})):n.resolve()}):n.resolve(),n},new u(a.host+a.context+"/config/ui/configuration")}),define("org/forgerock/openidm/ui/admin/main",["org/forgerock/openidm/ui/common/resource/ResourceEditViewRegistry","./connector/ConnectorRegistry","./delegates/SiteConfigurationDelegate"]);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};define("config/process/CommonIDMConfig",["jquery","underscore","org/forgerock/openidm/ui/common/util/Constants","org/forgerock/commons/ui/common/main/EventManager"],function(e,t,n,i){return[{startEvent:n.EVENT_POLICY_FAILURE,description:"Failure to save record due to policy validation",dependencies:["org/forgerock/openidm/ui/common/util/PolicyValidatorsManager"],processDescription:function(e,t){var r=e.error.responseObj,o="Unknown";"object"!==(void 0===r?"undefined":_typeof(r))||null===r||"object"!==_typeof(r.detail)||"Failed policy validation"!==r.message&&"Policy validation failed"!==r.message||(o=t.failedPolicyRequirementObjectsToStrings(r.detail.failedPolicyRequirements).join(" ")),i.sendEvent(n.EVENT_DISPLAY_MESSAGE_REQUEST,{key:"resourceValidationError",validationErrors:o})}},{startEvent:n.EVENT_NOTIFICATION_DELETE_FAILED,description:"Error in deleting notification",dependencies:[],processDescription:function(e){i.sendEvent(n.EVENT_DISPLAY_MESSAGE_REQUEST,"errorDeletingNotification")}},{startEvent:n.EVENT_GET_NOTIFICATION_FOR_USER_ERROR,description:"Error in getting notifications",dependencies:[],processDescription:function(e){i.sendEvent(n.EVENT_DISPLAY_MESSAGE_REQUEST,"errorFetchingNotifications")}}]}),define("config/process/AdminIDMConfig",["underscore","org/forgerock/openidm/ui/common/util/Constants","org/forgerock/commons/ui/common/main/EventManager"],function(e,t,n){return[{startEvent:t.EVENT_HANDLE_DEFAULT_ROUTE,description:"",override:!0,dependencies:["org/forgerock/openidm/ui/common/delegates/ConfigDelegate","org/forgerock/commons/ui/common/main/Configuration","org/forgerock/commons/ui/common/main/Router","config/routes/AdminRoutesConfig"],processDescription:function(i,r,o,s,a){var l,u;o.loggedUser?r.readEntity("ui/dashboard").then(e.bind(function(i){e.has(i,"adminDashboards")&&i.adminDashboards.length>0?(u=e.findIndex(i.adminDashboards,{isDefault:!0}),-1===u&&(u=0),l={view:"org/forgerock/openidm/ui/admin/dashboard/Dashboard",role:"ui-admin",url:"dashboard/"+u}):l=a.newDashboardView,n.sendEvent(t.EVENT_CHANGE_VIEW,{route:l})})):n.sendEvent(t.EVENT_CHANGE_VIEW,{route:s.configuration.routes.login})}},{startEvent:t.EVENT_REFRESH_CONNECTOR_OBJECT_TYPES,description:"",override:!0,dependencies:["org/forgerock/openidm/ui/admin/connector/EditConnectorView"],processDescription:function(e,t){t.updateConnector(e.objectTypes,e.hasAvailableObjectTypes,e.connectorConfig)}},{startEvent:t.EVENT_QUALIFIER_CHANGED,description:"",override:!0,dependencies:["org/forgerock/commons/ui/common/main/Router","org/forgerock/commons/ui/common/main/Configuration","org/forgerock/openidm/ui/admin/mapping/PropertiesView"],processDescription:function(e,t,n,i){i.render([e])}},{startEvent:t.EVENT_AUTHENTICATED,description:"",override:!0,dependencies:["org/forgerock/commons/ui/common/main/Router","org/forgerock/commons/ui/common/util/Constants","org/forgerock/openidm/ui/admin/delegates/MaintenanceDelegate","org/forgerock/openidm/ui/admin/delegates/SchedulerDelegate","org/forgerock/commons/ui/common/components/Navigation","config/routes/AdminRoutesConfig","org/forgerock/commons/ui/common/util/URIUtils"],processDescription:function(t,i,r,o,s,a,l,u){o.getStatus().then(function(t){t.maintenanceEnabled&&o.getUpdateLogs().then(e.bind(function(t){var c=e.findWhere(t.result,{status:"IN_PROGRESS"});e.isUndefined(c)?o.disable().then(e.bind(function(){s.resumeJobs()},this)):(e.contains(u.getCurrentFragment(),"settings/update")||(a.configuration={},i.configuration.routes.default=l.settingsView),e.contains(u.getCurrentFragment(),"settings")||n.sendEvent(r.EVENT_CHANGE_VIEW,{route:i.configuration.routes.settingsView}))},this))})}},{startEvent:t.EVENT_UPDATE_NAVIGATION,description:"Update Navigation Bar",dependencies:["jquery","org/forgerock/commons/ui/common/components/Navigation","org/forgerock/openidm/ui/common/delegates/ConfigDelegate","org/forgerock/commons/ui/common/main/Configuration"],processDescription:function(t,n,i,r){var o,s="";t&&(o=t.callback),n.when(r.readEntity("managed"),r.readEntity("ui/configuration"),r.readEntity("ui/dashboard"),r.readEntityAlways("workflow")).then(function(t,n,r,o){var a=[{href:"#selfservice/userregistration/",confKey:"selfRegistration"},{href:"#selfservice/passwordreset/",confKey:"passwordReset"},{href:"#selfservice/forgotUsername/",confKey:"forgotUsername"}],l=!1;return e.isUndefined(o)||(l=!0),e.each(a,function(t){var r,o=e.find(i.configuration.links.admin.urls.configuration.urls,{url:t.href});o&&(r=n.configuration[t.confKey]?"fa-toggle-on text-success":"fa-toggle-off text-danger",o.icon=e.reject(o.icon.split(" "),function(e){return-1!==e.indexOf("fa-")||-1!==e.indexOf("text-")}).join(" "),o.icon+=" "+r)}),i.configuration.links.admin.urls.dashboard.urls=[],e.each(r.adminDashboards,function(e,t){s=e.name,i.configuration.links.admin.urls.dashboard.urls.push({url:"#dashboard/"+t,name:s})},this),i.configuration.links.admin.urls.dashboard.urls.push({divider:!0}),i.configuration.links.admin.urls.dashboard.urls.push({url:"#newDashboard/",icon:"fa fa-plus",name:"config.AppConfiguration.Navigation.links.newDashboard"}),i.configuration.links.admin.urls.dashboard.urls.push({url:"#manageDashboards/",icon:"fa fa-list",name:"config.AppConfiguration.Navigation.links.manageDashboards"}),i.configuration.links.admin.urls.managed.urls=[],i.configuration.links.admin.urls.managed.urls.push({header:!0,headerTitle:"data"}),e.each(t.objects,function(e){e.schema||(e.schema={}),e.schema.icon||(e.schema.icon="fa-cube"),i.configuration.links.admin.urls.managed.urls.push({url:"#resource/managed/"+e.name+"/list/",name:e.name,icon:"fa "+e.schema.icon,cssClass:"navigation-managed-object"})}),l&&(i.configuration.links.admin.urls.managed.urls.push({divider:!0}),i.configuration.links.admin.urls.managed.urls.push({header:!0,headerTitle:"workflow"}),i.configuration.links.admin.urls.managed.urls.push({url:"#workflow/tasks/",name:"Tasks",icon:"fa fa-check-circle-o",inactive:!1}),i.configuration.links.admin.urls.managed.urls.push({url:"#workflow/processes/",name:"Processes",icon:"fa fa-random",inactive:!1})),i.reload()}).always(function(){o&&o()})}},{startEvent:t.EVENT_SELF_SERVICE_CONTEXT,description:"",override:!0,dependencies:["org/forgerock/openidm/ui/common/delegates/ConfigDelegate","org/forgerock/commons/ui/common/main/Router"],processDescription:function(t,n,i){n.readEntity("ui.context/enduser").then(e.bind(function(e){location.href=i.getCurrentUrlBasePart()+e.urlContextRoot},this))}}]}),define("config/process/CommonConfig",["jquery","lodash","org/forgerock/commons/ui/common/util/Constants","org/forgerock/commons/ui/common/main/EventManager"],function(e,t,n,i){return[{startEvent:n.EVENT_APP_INITIALIZED,description:"Starting basic components",dependencies:["org/forgerock/commons/ui/common/main/Router","org/forgerock/commons/ui/common/main/Configuration","org/forgerock/commons/ui/common/util/UIUtils","org/forgerock/commons/ui/common/util/CookieHelper","org/forgerock/commons/ui/common/main/SessionManager","org/forgerock/commons/ui/common/main/i18nManager"],processDescription:function(e,t,r,o,s,a,l){var u=function(){o.preloadInitialTemplates(),o.preloadInitialPartials(),t.init()};l.init({serverLang:r.globalData.lang,paramLang:t.convertCurrentUrlToJSON().params,defaultLang:n.DEFAULT_LANGUAGE}).then(function(){a.getLoggedUser(function(e){r.setProperty("loggedUser",e),i.sendEvent(n.EVENT_AUTHENTICATION_DATA_CHANGED,{anonymousMode:!1}).then(u)},function(){s.cookiesEnabled()||(location.href="#enableCookies/"),i.sendEvent(n.EVENT_AUTHENTICATION_DATA_CHANGED,{anonymousMode:!0}).then(u)})})}},{startEvent:n.EVENT_CHANGE_BASE_VIEW,description:"",dependencies:["org/forgerock/commons/ui/common/components/Navigation","org/forgerock/commons/ui/common/components/LoginHeader","Footer"],processDescription:function(e,t,n,i){n.render(),t.init(),i.render()}},{startEvent:n.EVENT_AUTHENTICATION_DATA_CHANGED,description:"",dependencies:["org/forgerock/commons/ui/common/main/Configuration","org/forgerock/commons/ui/common/components/Navigation"],processDescription:function(e,t,r){var o,s;o="org/forgerock/commons/ui/common/main/ServiceInvoker",s=t.getModuleConfiguration(o),e.anonymousMode?(s.defaultHeaders[n.HEADER_PARAM_PASSWORD]=n.ANONYMOUS_PASSWORD,s.defaultHeaders[n.HEADER_PARAM_USERNAME]=n.ANONYMOUS_USERNAME,s.defaultHeaders[n.HEADER_PARAM_NO_SESSION]=!0,t.setProperty("loggedUser",null),t.setProperty("gotoFragement",null),r.reload()):(delete t.globalData.authorizationFailurePending,delete s.defaultHeaders[n.HEADER_PARAM_PASSWORD],delete s.defaultHeaders[n.HEADER_PARAM_USERNAME],delete s.defaultHeaders[n.HEADER_PARAM_NO_SESSION],i.sendEvent(n.EVENT_AUTHENTICATED)),t.sendSingleModuleConfigurationChangeInfo(o)}},{startEvent:n.EVENT_UNAUTHORIZED,description:"",dependencies:[],processDescription:function(){i.sendEvent(n.EVENT_DISPLAY_MESSAGE_REQUEST,"unauthorized")}},{startEvent:n.EVENT_UNAUTHENTICATED,description:"",dependencies:["org/forgerock/commons/ui/common/util/URIUtils","org/forgerock/commons/ui/common/main/Router","org/forgerock/commons/ui/common/main/Configuration"],processDescription:function(e,t,r,o){var s=t.getCurrentFragment();o.gotoFragment||s.match(r.configuration.routes.login.url)||o.setProperty("gotoFragment","#"+s),i.sendEvent(n.EVENT_AUTHENTICATION_DATA_CHANGED,{anonymousMode:!0}),i.sendEvent(n.EVENT_CHANGE_VIEW,{route:r.configuration.routes.login})}},{startEvent:n.EVENT_DIALOG_CLOSE,description:"",dependencies:["org/forgerock/commons/ui/common/main/Configuration","org/forgerock/commons/ui/common/util/ModuleLoader","org/forgerock/commons/ui/common/components/Navigation","org/forgerock/commons/ui/common/main/Router","org/forgerock/commons/ui/common/main/ViewManager"],processDescription:function(e,t,n,i,r,o){o.currentDialog=null,t.baseView&&n.load(r.configuration.routes[t.baseView].view).then(function(e){e.rebind(),r.navigate(r.getLink(r.configuration.routes[t.baseView],t.baseViewArgs)),i.reload()})}},{startEvent:n.EVENT_REST_CALL_ERROR,description:"",dependencies:["org/forgerock/commons/ui/common/main/SpinnerManager","org/forgerock/commons/ui/common/main/ErrorsHandler"],processDescription:function(e,t,n){n.handleError(e.data,e.errorsHandlers),t.hideSpinner()}},{startEvent:n.EVENT_START_REST_CALL,description:"",dependencies:["org/forgerock/commons/ui/common/main/SpinnerManager"],processDescription:function(e,t){e.suppressSpinner||t.showSpinner()}},{startEvent:n.EVENT_END_REST_CALL,description:"",dependencies:["org/forgerock/commons/ui/common/main/SpinnerManager"],processDescription:function(e,t){t.hideSpinner()}},{startEvent:n.EVENT_CHANGE_VIEW,description:"",dependencies:["org/forgerock/commons/ui/common/main/Configuration","org/forgerock/commons/ui/common/util/ModuleLoader","org/forgerock/commons/ui/common/components/Navigation","org/forgerock/commons/ui/common/main/Router","org/forgerock/commons/ui/common/SiteConfigurator","org/forgerock/commons/ui/common/main/SpinnerManager","org/forgerock/commons/ui/common/main/ViewManager"],processDescription:function(t,n,i,r,o,s,a,l){var u=t.route,c=t.args,d=t.callback,h=t.fromRouter;if(o.checkRole(u)||(u={view:"org/forgerock/commons/ui/common/UnauthorizedView",url:"",fromRouter:!0}),!n.backgroundLogin)return i.load(u.view).then(function(t){return t.route=u,c=c||u.defaults,n.setProperty("baseView",""),n.setProperty("baseViewArgs",""),s.configurePage(u,c).then(function(){var n=e.Deferred();return a.hideSpinner(10),h||o.routeTo(u,{trigger:!0,args:c}),l.changeView(u.view,c,function(){d&&d(),n.resolve(t)},u.forceUpdate),r.reload(),n})})}},{startEvent:n.EVENT_SHOW_DIALOG,description:"",dependencies:["org/forgerock/commons/ui/common/main/ViewManager","org/forgerock/commons/ui/common/main/Router","org/forgerock/commons/ui/common/main/Configuration","org/forgerock/commons/ui/common/components/Navigation"],processDescription:function(e,n,i,r,o){var s,a=e.route,l=e.args,u=e.callback;i.checkRole(a)&&(s=null===n.currentViewArgs?l:n.currentViewArgs,r.setProperty("baseView",e.base),r.setProperty("baseViewArgs",s),o.init(),!t.has(a,"baseView")&&t.has(a,"base")?n.changeView(i.configuration.routes[a.base].view,s,function(){n.showDialog(a.dialog,l),i.navigate(i.getLink(a,l)),u&&u()}):n.changeView(a.baseView.view,s,function(){n.showDialog(a.dialog,l),i.navigate(i.getLink(a,l)),u&&u()}))}},{startEvent:n.EVENT_SERVICE_UNAVAILABLE,description:"",dependencies:["org/forgerock/commons/ui/common/main/Router"],processDescription:function(){i.sendEvent(n.EVENT_DISPLAY_MESSAGE_REQUEST,"serviceUnavailable")}},{startEvent:n.ROUTE_REQUEST,description:"",dependencies:["org/forgerock/commons/ui/common/components/Navigation","org/forgerock/commons/ui/common/main/Router","org/forgerock/commons/ui/common/main/ViewManager"],processDescription:function(e,t,n,i){var r=n.configuration.routes[e.routeName];void 0===e.trigger?e.trigger=!0:!1===e.trigger&&(i.currentView=r.view,i.currentViewArgs=e.args),n.routeTo(r,e),t.reload()}},{startEvent:n.EVENT_DISPLAY_MESSAGE_REQUEST,description:"",dependencies:["org/forgerock/commons/ui/common/components/Messages"],processDescription:function(e,t){t.messages.displayMessageFromConfig(e)}},{startEvent:n.EVENT_LOGIN_REQUEST,description:"",dependencies:["org/forgerock/commons/ui/common/main/Configuration","org/forgerock/commons/ui/common/util/ModuleLoader","org/forgerock/commons/ui/common/main/Router","org/forgerock/commons/ui/common/main/SessionManager","org/forgerock/commons/ui/common/main/ViewManager"],processDescription:function(r,o,s,a,l,u){var c=e.Deferred(),d=r.submitContent||r;return l.login(d,function(r){if(o.setProperty("loggedUser",r),i.sendEvent(n.EVENT_AUTHENTICATION_DATA_CHANGED,{anonymousMode:!1}),o.backgroundLogin)null!==u.currentDialog?s.load(u.currentDialog).then(function(e){e.close()}):"function"==typeof e.prototype.modal&&(e(".modal.in").modal("hide"),delete o.backgroundLogin);else{if(t.has(o,"globalData.auth.validatedGoto"))return window.location.href=decodeURIComponent(o.globalData.auth.validatedGoto),!1;if(o.gotoFragment&&-1===t.indexOf(["#","","#/","/#"],o.gotoFragment))a.navigate(o.gotoFragment,{trigger:!0}),delete o.gotoFragment;else{if(!a.checkRole(a.configuration.routes.default))return void i.sendEvent(n.EVENT_UNAUTHORIZED);i.sendEvent(n.ROUTE_REQUEST,{routeName:"default",args:[]})}}c.resolve(r)},function(e){e=e||"authenticationFailed",i.sendEvent(n.EVENT_DISPLAY_MESSAGE_REQUEST,e),r.failureCallback&&r.failureCallback(e),c.reject(e)}),c}},{startEvent:n.EVENT_SHOW_LOGIN_DIALOG,description:"",dependencies:["org/forgerock/commons/ui/common/main/Configuration","LoginDialog","org/forgerock/commons/ui/common/util/Queue"],processDescription:function(e,t,n,i){var r="loginDialogAuthCallbacks";t.globalData[r]||(t.globalData[r]=new i),t.globalData[r].peek()||n.render({authenticatedCallback:function(){for(var e=t.globalData[r].remove();e;)e(),e=t.globalData[r].remove()}}),e.authenticatedCallback&&t.globalData[r].add(e.authenticatedCallback)}},{startEvent:n.EVENT_LOGOUT,description:"",dependencies:["org/forgerock/commons/ui/common/main/Router","org/forgerock/commons/ui/common/main/Configuration","org/forgerock/commons/ui/common/main/SessionManager"],processDescription:function(e,t,r,o){return o.logout(function(){return i.sendEvent(n.EVENT_DISPLAY_MESSAGE_REQUEST,"loggedOut"),i.sendEvent(n.EVENT_AUTHENTICATION_DATA_CHANGED,{anonymousMode:!0}),i.sendEvent(n.EVENT_CHANGE_VIEW,{route:t.configuration.routes.login})})}},{startEvent:n.EVENT_SELECT_KBA_QUESTION,description:"",dependencies:["org/forgerock/commons/ui/user/anonymousProcess/KBAView"],processDescription:function(e,t){t.changeQuestion()}},{startEvent:n.EVENT_DELETE_KBA_QUESTION,description:"",dependencies:["org/forgerock/commons/ui/user/anonymousProcess/KBAView"],processDescription:function(e,t){t.deleteQuestion(e.viewId)}}]}),define("config/routes/AdminRoutesConfig",[],function(){return{dashboardView:{view:"org/forgerock/openidm/ui/admin/dashboard/Dashboard",role:"ui-admin",url:/^dashboard\/(.*)$/,pattern:"dashboard/?"},newDashboardView:{view:"org/forgerock/openidm/ui/admin/dashboard/NewDashboard",role:"ui-admin",url:"newDashboard/"},manageDashboardsView:{view:"org/forgerock/openidm/ui/admin/dashboard/ManageDashboards",role:"ui-admin",url:"manageDashboards/"},userRegistrationView:{view:"org/forgerock/openidm/ui/admin/selfservice/UserRegistrationConfigView",role:"ui-admin",url:/^selfservice\/userregistration\/(.*)$/,pattern:"selfservice/userregistration/?"},passwordResetView:{view:"org/forgerock/openidm/ui/admin/selfservice/PasswordResetConfigView",role:"ui-admin",url:"selfservice/passwordreset/"},forgotUsernameView:{view:"org/forgerock/openidm/ui/admin/selfservice/ForgotUsernameConfigView",role:"ui-admin",url:"selfservice/forgotUsername/"},connectorListView:{view:"org/forgerock/openidm/ui/admin/connector/ConnectorListView",role:"ui-admin",url:"connectors/"},editConnectorView:{childView:"org/forgerock/openidm/ui/admin/connector/ConnectorDetailsView",view:"org/forgerock/openidm/ui/admin/connector/EditConnectorView",role:"ui-admin",defaults:["",""],url:/^connectors\/edit\/(.+?)\/(.*)$/,pattern:"connectors/edit/?/?"},connectorDetailsView:{childView:"org/forgerock/openidm/ui/admin/connector/ConnectorDetailsView",view:"org/forgerock/openidm/ui/admin/connector/EditConnectorView",role:"ui-admin",defaults:["",""],url:/^connectors\/details\/(.+?)\/(.*)$/,pattern:"connectors/details/?/?"},connectorObjectTypesView:{childView:"org/forgerock/openidm/ui/admin/connector/ConnectorObjectTypesView",view:"org/forgerock/openidm/ui/admin/connector/EditConnectorView",role:"ui-admin",defaults:["",""],url:/^connectors\/objectTypes\/(.+?)\/(.*)$/,pattern:"connectors/objectTypes/?/?"},connectorSyncView:{childView:"org/forgerock/openidm/ui/admin/connector/ConnectorSyncView",view:"org/forgerock/openidm/ui/admin/connector/EditConnectorView",role:"ui-admin",defaults:["",""],url:/^connectors\/sync\/(.+?)\/(.*)$/,pattern:"connectors/sync/?/?"},connectorAdvancedView:{childView:"org/forgerock/openidm/ui/admin/connector/ConnectorAdvancedView",view:"org/forgerock/openidm/ui/admin/connector/EditConnectorView",role:"ui-admin",defaults:["",""],url:/^connectors\/advanced\/(.+?)\/(.*)$/,pattern:"connectors/advanced/?/?"},connectorDataView:{childView:"org/forgerock/openidm/ui/admin/connector/ConnectorDataView",view:"org/forgerock/openidm/ui/admin/connector/EditConnectorView.js",role:"ui-admin",url:/^connectors\/data\/(.+?)\/(.*)$/,pattern:"connectors/data/?/?"},addConnectorView:{view:"org/forgerock/openidm/ui/admin/connector/AddConnectorView",role:"ui-admin",url:"connectors/add/"},editObjectTypeView:{view:"org/forgerock/openidm/ui/admin/objectTypes/EditObjectTypeView",role:"ui-admin",url:/^objectType\/edit\/(.+)\/(.+)$/,pattern:"objectType/edit/?/?"},addObjectTypeView:{view:"org/forgerock/openidm/ui/admin/objectTypes/addObjectTypeView",role:"ui-admin",url:/^objectType\/add\/(.+)$/,pattern:"objectType/add/?"},editObjectTypePropertyView:{view:"org/forgerock/openidm/ui/admin/objectTypes/schema/SchemaPropertyView",role:"ui-admin",url:/^objectType\/edit\/(.+)\/(.+)\/property\/(.+)$/,pattern:"objectType/edit/?/?/property/?"},managedListView:{view:"org/forgerock/openidm/ui/admin/managed/ManagedListView",role:"ui-admin",url:"managed/"},editManagedView:{view:"org/forgerock/openidm/ui/admin/managed/EditManagedView",role:"ui-admin",url:/^managed\/edit\/(.+)\/$/,pattern:"managed/edit/?/"},editSchemaPropertyView:{view:"org/forgerock/openidm/ui/admin/managed/schema/SchemaPropertyView",role:"ui-admin",url:/^managed\/edit\/(.+)\/property\/(.+)$/,pattern:"managed/edit/?/property/?"},addManagedView:{view:"org/forgerock/openidm/ui/admin/managed/AddManagedView",role:"ui-admin",url:"managed/add/"},authenticationView:{view:"org/forgerock/openidm/ui/admin/authentication/AuthenticationView",role:"ui-admin",url:"authentication/"},settingsView:{view:"org/forgerock/openidm/ui/admin/settings/SettingsView",role:"ui-admin",url:/^settings\/(.*)$/,pattern:"settings/?/",defaults:["audit"]},addMappingView:{view:"org/forgerock/openidm/ui/admin/mapping/AddMappingView",role:"ui-admin",url:"mapping/add/"},autoAddMappingView:{view:"org/forgerock/openidm/ui/admin/mapping/AddMappingView",role:"ui-admin",url:/mapping\/add\/(.+?)\/(.+?)$/,pattern:"mapping/add/?/?"},mappingListView:{view:"org/forgerock/openidm/ui/admin/mapping/MappingListView",role:"ui-admin",url:"mapping/"},propertiesView:{childView:"org/forgerock/openidm/ui/admin/mapping/PropertiesView",view:"org/forgerock/openidm/ui/admin/mapping/MappingBaseView",role:"ui-admin",url:/^properties\/([^\/]+)\/$/,pattern:"properties/?/"},behaviorsView:{childView:"org/forgerock/openidm/ui/admin/mapping/BehaviorsView",view:"org/forgerock/openidm/ui/admin/mapping/MappingBaseView",role:"ui-admin",url:/^behaviors\/(.+)\/$/,pattern:"behaviors/?/"},associationView:{childView:"org/forgerock/openidm/ui/admin/mapping/AssociationView",view:"org/forgerock/openidm/ui/admin/mapping/MappingBaseView",role:"ui-admin",url:/^association\/(.+)\/$/,pattern:"association/?/"},scheduleView:{childView:"org/forgerock/openidm/ui/admin/mapping/ScheduleView",view:"org/forgerock/openidm/ui/admin/mapping/MappingBaseView",role:"ui-admin",url:/^schedule\/(.+)\/$/,pattern:"schedule/?/"},advancedView:{childView:"org/forgerock/openidm/ui/admin/mapping/AdvancedView",view:"org/forgerock/openidm/ui/admin/mapping/MappingBaseView",role:"ui-admin",url:/^advanced\/(.+)\/$/,pattern:"advanced/?/"},processListView:{view:"org/forgerock/openidm/ui/admin/workflow/ProcessListView",role:"ui-admin",url:"workflow/processes/"},taskListView:{view:"org/forgerock/openidm/ui/admin/workflow/TaskListView",role:"ui-admin",url:"workflow/tasks/"},taskInstanceView:{view:"org/forgerock/openidm/ui/admin/workflow/TaskInstanceView",role:"ui-admin",url:/^workflow\/taskinstance\/(.+)$/,pattern:"workflow/taskinstance/?"},processInstanceView:{view:"org/forgerock/openidm/ui/admin/workflow/ProcessInstanceView",role:"ui-admin",url:/^workflow\/processinstance\/(.+)$/,pattern:"workflow/processinstance/?"},processDefinitionView:{view:"org/forgerock/openidm/ui/admin/workflow/ProcessDefinitionView",role:"ui-admin",url:/^workflow\/processdefinition\/(.+)$/,pattern:"workflow/processdefinition/?"},apiExplorerView:{view:"org/forgerock/openidm/ui/admin/api/ApiExplorerView",role:"ui-admin",url:/^apiExplorer$/,pattern:"apiExplorer"},socialView:{view:"org/forgerock/openidm/ui/admin/social/SocialConfigView",role:"ui-admin",url:"social/"},scheduler:{view:"org/forgerock/openidm/ui/admin/scheduler/SchedulerListView",role:"ui-admin",url:"scheduler/"},editSchedulerView:{view:"org/forgerock/openidm/ui/admin/scheduler/EditSchedulerView",role:"ui-admin",defaults:["",""],url:/^scheduler\/edit\/(.+?)\/(.*)$/,pattern:"scheduler/edit/?/?"},addSchedulerView:{view:"org/forgerock/openidm/ui/admin/scheduler/AddSchedulerView",role:"ui-admin",url:/^scheduler\/add\/(.*)$/,pattern:"scheduler/add/?"},emailSettingsView:{view:"org/forgerock/openidm/ui/admin/email/EmailSettingsView",role:"ui-admin",url:/^emailsettings\/(.*)$/,pattern:"emailsettings/?/",defaults:["provider"]},emailTemplateView:{view:"org/forgerock/openidm/ui/admin/email/EmailTemplateView",role:"ui-admin",url:/^emailTemplate\/(.+)$/,pattern:"emailTemplate/?"},progressiveProfileFormList:{view:"org/forgerock/openidm/ui/admin/progressiveProfileForms/ProgressiveProfileFormListView",role:"ui-admin",url:"progressiveProfileForms/"},addProgressiveProfileForm:{view:"org/forgerock/openidm/ui/admin/progressiveProfileForms/AddProgressiveProfileFormView",role:"ui-admin",url:"progressiveProfileForms/add/"},editProgressiveProfileForm:{view:"org/forgerock/openidm/ui/admin/progressiveProfileForms/EditProgressiveProfileFormView",role:"ui-admin",url:/^progressiveProfileForms\/edit\/(.*)\/(.*)$/,pattern:"progressiveProfileForms/edit/?/?"},termsAndConditions:{view:"org/forgerock/openidm/ui/admin/termsAndConditions/SettingsView",role:"ui-admin",url:"termsAndConditions/"},addTermsAndConditionsVersion:{view:"org/forgerock/openidm/ui/admin/termsAndConditions/AddVersionView",role:"ui-admin",url:"termsAndConditions/add/"},viewTermsAndConditionsVersion:{view:"org/forgerock/openidm/ui/admin/termsAndConditions/VersionView",role:"ui-admin",url:/^termsAndConditions\/version\/(.*)\/(.*)$/,pattern:"termsAndConditions/version/?/?"},kba:{view:"org/forgerock/openidm/ui/admin/kba/EditKbaView",role:"ui-admin",url:"kba/"},managedRolesList:{view:"org/forgerock/openidm/ui/admin/role/ListRolesView",role:"ui-admin",url:/^resource\/(managed)\/role\/list\/$/,pattern:"resource/?/role/list/"},internalRolesList:{view:"org/forgerock/openidm/ui/admin/role/ListRolesView",role:"ui-admin",url:/^resource\/(internal)\/role\/list\/$/,pattern:"resource/?/role/list/"}}}),define("config/routes/CommonIDMRoutesConfig",[],function(){return{mandatoryPasswordChangeDialog:{base:"landingPage",dialog:"org/forgerock/openidm/ui/common/MandatoryPasswordChangeDialog",url:"change_password/",role:"ui-admin"},
authenticationUnavailable:{view:"org/forgerock/openidm/ui/common/login/AuthenticationUnavailable",url:"authenticationUnavailable/"},openerHandler:{view:"org/forgerock/openidm/ui/common/login/OpenerHandler",url:/^openerHandler\/(.*)$/,pattern:"openerHandler/?"},adminEditSystemObjectView:{view:"org/forgerock/openidm/ui/common/resource/EditResourceView",role:"ui-admin",url:/^resource\/(system)\/(.+)\/(.+)\/edit\/(.+)\/(.+)$/,pattern:"resource/?/?/?/edit/?/?",forceUpdate:!0},adminNewSystemObjectView:{view:"org/forgerock/openidm/ui/common/resource/EditResourceView",role:"ui-admin",url:/^resource\/(system)\/(.+)\/(.+)\/add\/$/,pattern:"resource/?/?/?/add/"},adminListManagedObjectView:{view:"org/forgerock/openidm/ui/common/resource/ListResourceView",role:"ui-admin",url:/^resource\/(managed)\/(.+)\/list\/$/,pattern:"resource/?/?/list/"},adminEditManagedObjectView:{view:"org/forgerock/openidm/ui/common/resource/EditResourceView",role:"ui-admin",url:/^resource\/(managed)\/(.+)\/edit\/(.+)$/,pattern:"resource/?/?/edit/?"},adminNewManagedObjectView:{view:"org/forgerock/openidm/ui/common/resource/EditResourceView",role:"ui-admin",url:/^resource\/(managed)\/(.+)\/add\/$/,pattern:"resource/?/?/add/"},adminEditRoleEntitlementView:{view:"org/forgerock/openidm/ui/common/resource/EditResourceView",role:"ui-admin",url:/^resource\/(managed)\/(role)\/edit\/(.+)\/(.+)$/,pattern:"resource/?/?/edit/?/?"},adminEditInternalObjectView:{view:"org/forgerock/openidm/ui/common/resource/EditResourceView",role:"ui-admin",url:/^resource\/(internal)\/(.+)\/edit\/(.+)$/,pattern:"resource/?/?/edit/?"},adminNewInternalObjectView:{view:"org/forgerock/openidm/ui/common/resource/EditResourceView",role:"ui-admin",url:/^resource\/(internal)\/(.+)\/add\/$/,pattern:"resource/?/?/add/"}}}),define("config/routes/CommonRoutesConfig",["org/forgerock/commons/ui/common/util/Constants"],function(e){return{404:{view:"org/forgerock/commons/ui/common/NotFoundView",url:/^([\w\W]*)$/,pattern:"?"},default:{event:e.EVENT_HANDLE_DEFAULT_ROUTE,url:/^$/,pattern:""},enableCookies:{view:"org/forgerock/commons/ui/common/EnableCookiesView",url:"enableCookies/"},login:{view:"LoginView",url:/^login([^\&]+)?(&.+)?/,pattern:"login??",defaults:["/",""],argumentNames:["realm","additionalParameters"]},logout:{event:e.EVENT_LOGOUT,url:/^logout\/(.*)/},loginDialog:{dialog:"LoginDialog",url:"loginDialog/"}}}),define("config/validators/CommonValidators",["jquery"],function(e){return{required:{name:"Required field",dependencies:[],validator:function(t,n,i){var r=n.val();r&&""!==r?i():i([e.t("common.form.validation.required")])}},passwordConfirm:{name:"Password confirmation",dependencies:[],validator:function(t,n,i){var r=n.val(),o=t.find(":input#"+n.attr("passwordField"));o.val()!==r?i([e.t("common.form.validation.confirmationMatchesPassword")]):"error"===o.attr("data-validation-status")?i(o.data("validation-failures")):i()}},minLength:{name:"Minimum number of characters",dependencies:[],validator:function(t,n,i){var r=n.val(),o=n.attr("minLength");r.length<o?i([e.t("common.form.validation.MIN_LENGTH",{minLength:o})]):i()}},atLeastXNumbers:{name:"Minimum occurrence of numeric characters in string",dependencies:[],validator:function(t,n,i){var r=n.val(),o=n.attr("atLeastXNumbers"),s=r.match(/\d/g);!s||s.length<o?i([e.t("common.form.validation.AT_LEAST_X_NUMBERS",{numNums:o})]):i()}},atLeastXCapitalLetters:{name:"Minimum occurrence of capital letter characters in string",dependencies:[],validator:function(t,n,i){var r=n.val(),o=n.attr("atLeastXCapitalLetters"),s=r.match(/[(A-Z)]/g);!s||s.length<o?i([e.t("common.form.validation.AT_LEAST_X_CAPITAL_LETTERS",{numCaps:o})]):i()}}}}),define("config/validators/AdminValidators",["jquery","lodash","org/forgerock/commons/ui/common/util/Constants"],function(e,t,n){return{changed:{name:"Changed field",dependencies:[],validator:function(e,t,n){n()}},requiredURL:{name:"URL required",dependencies:[],validator:function(t,i,r){var o=e(i).val();return o.length>0&&!/^[a-zA-Z0-9\-\.\_\~\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=]+$/.test(o)?void r(["Not a valid URL"]):o===n.context||"/admin"===o||"/system"===o?void r(["The URL cannot be one of the following reserved names: '"+n.context+"', 'admin' or 'system'."]):void r()}},certificate:{name:"Valid Certificate String",dependencies:[],validator:function(t,n,i){var r=e(n).val();if(r.length&&!r.match(/\-\-\-\-\-BEGIN CERTIFICATE\-\-\-\-\-\n[^\-]*\n\-\-\-\-\-END CERTIFICATE\-\-\-\-\-\s*$/))return void i(["Invalid Certificate"]);i()}},bothRequired:{name:"Two Required Fields",dependencies:[],validator:function(t,n,i){var r,o=e(t).find('input[data-validator*="bothRequired"]');return 2!==o.length?void i([e.t("templates.scriptEditor.bothRequired")]):e(o[0]).val()&&""!==e(o[0]).val()&&e(o[1]).val()&&""!==e(o[1]).val()?(r=o.not(n),"ok"!==e(r).attr("data-validation-status")&&(r.attr("data-validation-status","ok"),r.trigger("blur"),n.trigger("focus")),void i()):void i([e.t("templates.scriptEditor.bothRequired")])}},spaceCheck:{name:"Whitespace validator",dependencies:[],validator:function(t,n,i){var r=n.val();if(!r||""===r||-1!==r.indexOf(" "))return void i([e.t("common.form.validation.spaceNotAllowed")]);i()}},uniqueShortList:{name:"Unique value amongst a short list of values loaded in the client",dependencies:[],validator:function(n,i,r){var o=i.val().toUpperCase().trim(),s=JSON.parse(e(i).attr("data-unique-list").toUpperCase()),a=e(i).attr("data-error-message")||e.t("common.form.validation.unique");o.length>0&&!t.contains(s,o)?r():r([a])}},restrictedCharacters:{name:"Cannot contain any of the following characters ;",dependencies:[],validator:function(t,n,i){var r=n.val(),o=n.attr("restrictedCharacterPattern")||"^[a-z0-9]+$",s=n.attr("restrictedCharacterDescription")||"Non-alphanumeric";new RegExp(o,"i").test(r)?i():i(e.t("common.form.validation.CANNOT_CONTAIN_CHARACTERS",{forbiddenChars:s}))}},isPositiveNumber:{name:"The input value must a number greater than or equal to one",dependencies:[],validator:function(n,i,r){var o=Number(i.val());i.val().length>0&&!t.isNaN(o)&&o>0?r():r(e.t("common.form.validation.IS_NUMBER_GREATER_ZERO"))}},isPositiveNumberOrEmpty:{name:"The input value must a number greater than or equal to one or empty",dependencies:[],validator:function(n,i,r){var o=i.val();0===o.length?r():t.isNumber(Number(o))&&o>0?r():r(e.t("common.form.validation.IS_NUMBER_GREATER_ZERO"))}},validEmailAddressFormat:{name:"The input value must be valid email address format",dependencies:[],validator:function(t,n,i){/.+@.+\..+/i.test(n.val())?i():i(e.t("common.form.validation.VALID_EMAIL_ADDRESS_FORMAT"))}},bothOptionalWithValidation:{name:"Two Optional Fields",dependencies:[],validator:function(n,i,r){var o=e(n).find('input[data-validator*="bothOptionalWithValidation"]'),s=t.without(e(i).data("validator").split(" "),"bothOptionalWithValidation")[0],a=e(i),l=e(o.not(i)),u=t.without(l.data("validator").split(" "),"bothOptionalWithValidation")[0];if(""===a.val()&&""===l.val())return l.attr("data-validation-status","ok").trigger("keyup"),void r();if(""===a.val()&&l.val()||""===l.val()&&a.val())return l.attr("data-validation-status","error").trigger("keyup"),void r([e.t("templates.scriptEditor.bothRequired")]);if(a.val()&&l.val()){if("number"===s&&(!t.isNumber(parseInt(a.val(),10))||t.isNaN(parseInt(a.val(),10)))||"number"===u&&(!t.isNumber(parseInt(l.val(),10))||t.isNaN(parseInt(l.val(),10))))return l.attr("data-validation-status","error").trigger("keyup"),void r([e.t("common.form.validation.IS_NUMBER")]);if("string"===s&&a.val().split(" ").length>1||"string"===u&&l.val().split(" ").length>1)return l.attr("data-validation-status","error").trigger("keyup"),void r([e.t("common.form.validation.spaceNotAllowed")]);l.attr("data-validation-status","ok").trigger("keyup"),r()}}}}}),define("config/messages/CommonMessages",[],function(){return{authenticationFailed:{msg:"config.messages.CommonMessages.authenticationFailed",type:"error"},authenticationFailedWarning:{msg:"config.messages.CommonMessages.authenticationFailedWarning",type:"error"},loginFailureLockout:{msg:"config.messages.CommonMessages.loginFailureLockout",type:"error"},maxSessionsLimitOrSessionQuota:{msg:"config.messages.CommonMessages.maxSessionsLimitOrSessionQuota",type:"error"},serviceUnavailable:{msg:"config.messages.CommonMessages.serviceUnavailable",type:"error"},unknown:{msg:"config.messages.CommonMessages.unknown",type:"error"},loggedIn:{msg:"config.messages.CommonMessages.loggedIn",type:"info"},errorFetchingData:{msg:"config.messages.CommonMessages.errorFetchingData",type:"error"},loggedOut:{msg:"config.messages.CommonMessages.loggedOut",type:"info"},loginTimeout:{msg:"config.messages.CommonMessages.loginTimeout",type:"info"},unauthorized:{msg:"config.messages.CommonMessages.unauthorized",type:"error"},internalError:{msg:"config.messages.CommonMessages.internalError",type:"error"},forbiddenError:{msg:"config.messages.CommonMessages.forbiddenError",type:"error"},notFoundError:{msg:"config.messages.CommonMessages.notFoundError",type:"error"},badRequestError:{msg:"config.messages.CommonMessages.badRequestError",type:"error"},conflictError:{msg:"config.messages.CommonMessages.conflictError",type:"error"},incorrectRevisionError:{msg:"config.messages.CommonMessages.incorrectRevisionError",type:"error"},tokenNotFound:{msg:"config.messages.CommonMessages.tokenNotFound",type:"error"},securityDataChanged:{msg:"config.messages.CommonMessages.securityDataChanged",type:"info"}}}),define("config/messages/CommonIDMMessages",[],function(){return{userValidationError:{msg:"config.messages.AdminMessages.userValidationError",type:"error"},resourceValidationError:{msg:"config.messages.AdminMessages.resourceValidationError",type:"error"},socialAuthenticationFailed:{msg:"config.messages.AdminMessages.socialAuthenticationFailed",type:"error"}}}),define("config/messages/AdminMessages",[],function(){return{connectorsNotAvailable:{msg:"config.messages.ConnectorMessages.connectorsNotAvailable",type:"error"},connectorSaved:{msg:"config.messages.ConnectorMessages.connectorSaved",type:"info"},newDashboardCreated:{msg:"config.messages.dashboardMessages.newDashboardCreated",type:"info"},dashboardDeleted:{msg:"config.messages.dashboardMessages.dashboardDeleted",type:"info"},dashboardDefaulted:{msg:"config.messages.dashboardMessages.dashboardDefaulted",type:"info"},dashboardDuplicated:{msg:"config.messages.dashboardMessages.dashboardDuplicated",type:"info"},dashboardRenamed:{msg:"config.messages.dashboardMessages.dashboardRenamed",type:"info"},dashboardWidgetAdded:{msg:"config.messages.dashboardMessages.dashboardWidgetAdded",type:"info"},dashboardWidgetsRearranged:{msg:"config.messages.dashboardMessages.dashboardWidgetsRearranged",type:"info"},dashboardWidgetConfigurationSaved:{msg:"config.messages.dashboardMessages.dashboardWidgetConfigurationSaved",type:"info"},objectTypeSaved:{msg:"config.messages.ConnectorMessages.objectTypeSaved",type:"info"},objectTypeAdded:{msg:"config.messages.ConnectorMessages.objectTypeAdded",type:"info"},objectTypeDeleted:{msg:"config.messages.ConnectorMessages.objectTypeDeleted",type:"info"},advancedSaved:{msg:"config.messages.ConnectorMessages.advancedSaved",type:"info"},liveSyncSaved:{msg:"config.messages.ConnectorMessages.liveSyncSaved",type:"info"},connectorSaveFail:{msg:"config.messages.ConnectorMessages.connectorSaveFail",type:"error"},connectorTestPass:{msg:"config.messages.ConnectorMessages.connectorTestPass",type:"info"},connectorTestFailed:{msg:"config.messages.ConnectorMessages.connectorTestFailed",type:"error"},deleteConnectorSuccess:{msg:"config.messages.ConnectorMessages.deleteConnectorSuccess",type:"info"},deleteConnectorFail:{msg:"config.messages.ConnectorMessages.deleteConnectorFail",type:"error"},connectorBadMainVersion:{msg:"config.messages.ConnectorMessages.connectorBadMainVersion",type:"error"},connectorBadMinorVersion:{msg:"config.messages.ConnectorMessages.connectorBadMinorVersion",type:"error"},connectorVersionChange:{msg:"config.messages.ConnectorMessages.connectorVersionChange",type:"info"},deleteManagedSuccess:{msg:"config.messages.ManagedObjectMessages.deleteManagedSuccess",type:"info"},deleteManagedFail:{msg:"config.messages.ManagedObjectMessages.deleteManagedFail",type:"error"},managedObjectSaveSuccess:{msg:"config.messages.ManagedObjectMessages.saveSuccessful",type:"info"},objectTypeLoaded:{msg:"config.messages.ObjectTypeMessages.objectSuccessfullyLoaded",type:"info"},objectTypeFailedToLoad:{msg:"config.messages.ObjectTypeMessages.objectFailedToLoad",type:"error"},authSaveSuccess:{msg:"config.messages.AuthenticationMessages.saveSuccessful",type:"info"},mappingSaveSuccess:{msg:"config.messages.MappingMessages.mappingSaveSuccess",type:"info"},newMappingAdded:{msg:"config.messages.MappingMessages.newMappingAdded",type:"info"},mappingDeleted:{msg:"config.messages.MappingMessages.mappingDeleted",type:"info"},mappingEvalError:{msg:"config.messages.MappingMessages.mappingEvalError",type:"error"},invalidConditionFilter:{msg:"config.messages.MappingMessages.invalidConditionFilter",type:"error"},syncPolicySaveSuccess:{msg:"config.messages.SyncMessages.policySaveSuccessful",type:"info"},auditSaveSuccess:{msg:"config.messages.AuditMessages.auditSaveSuccessful",type:"info"},scheduleCreated:{msg:"config.messages.SyncMessages.scheduleCreated",type:"info"},scheduleSaved:{msg:"config.messages.SyncMessages.scheduleSaved",type:"info"},livesyncSuccess:{msg:"config.messages.SyncMessages.livesyncSuccess",type:"info"},scheduleSaveFailed:{msg:"config.messages.SyncMessages.scheduleSaveFailed",type:"error"},scheduleDeleted:{msg:"config.messages.SyncMessages.scheduleDeleted",type:"info"},scheduleExists:{msg:"config.messages.SyncMessages.scheduleExists",type:"error"},scheduleDeletedFailed:{msg:"config.messages.SyncMessages.scheduleDeletedFailed",type:"error"},syncLiveSyncSaveSuccess:{msg:"config.messages.SyncMessages.liveSyncSaved",type:"info"},correlationQuerySaveSuccess:{msg:"config.messages.SyncMessages.correlationQuerySaved",type:"info"},individualRecordValidationSaveSuccess:{msg:"config.messages.SyncMessages.individualRecordValidationSaveSuccess",type:"info"},reconQueryFilterSaveSuccess:{msg:"config.messages.SyncMessages.reconQueryFilterSaveSuccess",type:"info"},objectFiltersSaveSuccess:{msg:"config.messages.SyncMessages.objectFiltersSaved",type:"info"},triggeredBySituationSaveSuccess:{msg:"config.messages.SyncMessages.triggeredBySituationSaved",type:"info"},triggeredByReconSaveSuccess:{msg:"config.messages.SyncMessages.triggeredByReconSaved",type:"info"},linkQualifierSaveSuccess:{msg:"config.messages.SyncMessages.linkQualifierSaveSuccess",type:"info"},cancelActiveProcess:{msg:"config.messages.WorkflowMessages.cancelActiveProcess",type:"info"},selfServiceSaveSuccess:{msg:"config.messages.settingMessages.saveSelfServiceSuccess",type:"info"},consentSaveSuccess:{msg:"config.messages.settingMessages.consentSuccess",type:"info"},workflowSettingsSaveSuccess:{msg:"config.messages.settingMessages.workflowSettingsSaveSuccess",type:"info"},emailConfigSaveSuccess:{msg:"config.messages.settingMessages.saveEmailSuccess",type:"info"},emailTemplateConfigSaveSuccess:{msg:"config.messages.email.emailTemplateConfigSaveSuccess",type:"info"},amAuthWellKnownEndpointFailure:{msg:"config.messages.AuthMessages.amAuthWellKnownEndpointFailure",type:"error"},selfServiceUserRegistrationSave:{msg:"config.messages.selfService.userRegistrationSave",type:"info"},selfServiceUserRegistrationDelete:{msg:"config.messages.selfService.userRegistrationDelete",type:"error"},selfServiceUsernameSave:{msg:"config.messages.selfService.usernameSave",type:"info"},selfServiceUsernameDelete:{msg:"config.messages.selfService.usernameDelete",type:"error"},selfServicePasswordSave:{msg:"config.messages.selfService.passwordSave",type:"info"},selfServicePasswordDelete:{msg:"config.messages.selfService.passwordDelete",type:"error"},assignmentSaveSuccess:{msg:"config.messages.assignmentMessages.saveSuccess",type:"info"},deleteAssignmentSuccess:{msg:"config.messages.assignmentMessages.deleteAssignmentSuccess",type:"info"},deleteAssignmentFail:{msg:"config.messages.assignmentMessages.deleteAssignmentFail",type:"error"},saveSocialProvider:{msg:"config.messages.socialProviders.save",type:"info"},deleteSocialProvider:{msg:"config.messages.socialProviders.delete",type:"error"},progressiveProfileFormSaveSuccess:{msg:"config.messages.selfService.progressiveProfileFormSaveSuccess",type:"info"},progressiveProfileFormRemoved:{msg:"config.messages.selfService.progressiveProfileFormRemoved",type:"info"},progressiveProfileFormOrderChanged:{msg:"config.messages.selfService.progressiveProfileFormOrderChanged",type:"info"},termsAndConditionsSaveSuccess:{msg:"config.messages.selfService.termsAndConditionsSaveSuccess",type:"info"},termsAndConditionsDeleteSuccess:{msg:"config.messages.selfService.termsAndConditionsDeleteSuccess",type:"error"},kbaQuestionsSave:{msg:"config.messages.selfService.kbaQuestionsSaveSuccess",type:"info"},kbaUpdateCreate:{msg:"config.messages.selfService.kbaUpdateCreateSuccess",type:"info"},kbaUpdateSave:{msg:"config.messages.selfService.kbaUpdateSaveSuccess",type:"info"},kbaUpdateDelete:{msg:"config.messages.selfService.kbaUpdateDeleteSuccess",type:"error"}}}),define("config/errorhandlers/CommonErrorHandlers",["org/forgerock/commons/ui/common/util/Constants"],function(e){return{badRequest:{status:"400",message:"badRequestError"},unauthenticated:{status:"401",event:e.EVENT_UNAUTHENTICATED},forbidden:{status:"403",event:e.EVENT_UNAUTHORIZED,message:"forbiddenError"},notFound:{status:"404",message:"notFoundError"},conflict:{status:"409",message:"conflictError"},serverError:{status:"503",event:e.EVENT_SERVICE_UNAVAILABLE},internalServerError:{status:"500",message:"internalError"},incorrectRevision:{status:"412",message:"incorrectRevisionError"}}}),define("config/main",["./process/CommonIDMConfig","./process/AdminIDMConfig","./process/CommonConfig","./routes/AdminRoutesConfig","./routes/CommonIDMRoutesConfig","./routes/CommonRoutesConfig","./validators/CommonValidators","./validators/AdminValidators","./AppConfiguration","./messages/CommonMessages","./messages/CommonIDMMessages","./messages/AdminMessages","./errorhandlers/CommonErrorHandlers"]),function(e,t){"function"==typeof define&&define.amd?define("sifter",t):"object"==typeof exports?module.exports=t():e.Sifter=t()}(this,function(){var e=function(e,t){this.items=e,this.settings=t||{diacritics:!0}};e.prototype.tokenize=function(e){if(!(e=i(String(e||"").toLowerCase()))||!e.length)return[];var t,n,o,a,l=[],u=e.split(/ +/);for(t=0,n=u.length;n>t;t++){if(o=r(u[t]),this.settings.diacritics)for(a in s)s.hasOwnProperty(a)&&(o=o.replace(new RegExp(a,"g"),s[a]));l.push({string:u[t],regex:new RegExp(o,"i")})}return l},e.prototype.iterator=function(e,t){var n;n=o(e)?Array.prototype.forEach||function(e){for(var t=0,n=this.length;n>t;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)},n.apply(e,[t])},e.prototype.getScoreFunction=function(e,t){var n,i,r,o;n=this,e=n.prepareSearch(e,t),r=e.tokens,i=e.options.fields,o=r.length;var s=function(e,t){var n,i;return e?(e=String(e||""),i=e.search(t.regex),-1===i?0:(n=t.string.length/e.length,0===i&&(n+=.5),n)):0},a=function(){var e=i.length;return e?1===e?function(e,t){return s(t[i[0]],e)}:function(t,n){for(var r=0,o=0;e>r;r++)o+=s(n[i[r]],t);return o/e}:function(){return 0}}();return o?1===o?function(e){return a(r[0],e)}:"and"===e.options.conjunction?function(e){for(var t,n=0,i=0;o>n;n++){if(0>=(t=a(r[n],e)))return 0;i+=t}return i/o}:function(e){for(var t=0,n=0;o>t;t++)n+=a(r[t],e);return n/o}:function(){return 0}},e.prototype.getSortFunction=function(e,n){var i,r,o,s,a,l,u,c,d,h,p;if(o=this,e=o.prepareSearch(e,n),p=!e.query&&n.sort_empty||n.sort,d=function(e,t){return"$score"===e?t.score:o.items[t.id][e]},a=[],p)for(i=0,r=p.length;r>i;i++)(e.query||"$score"!==p[i].field)&&a.push(p[i]);if(e.query){for(h=!0,i=0,r=a.length;r>i;i++)if("$score"===a[i].field){h=!1;break}h&&a.unshift({field:"$score",direction:"desc"})}else for(i=0,r=a.length;r>i;i++)if("$score"===a[i].field){a.splice(i,1);break}for(c=[],i=0,r=a.length;r>i;i++)c.push("desc"===a[i].direction?-1:1);return l=a.length,l?1===l?(s=a[0].field,u=c[0],function(e,n){return u*t(d(s,e),d(s,n))}):function(e,n){var i,r,o;for(i=0;l>i;i++)if(o=a[i].field,r=c[i]*t(d(o,e),d(o,n)))return r;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;t=n({},t);var i=t.fields,r=t.sort,s=t.sort_empty;return i&&!o(i)&&(t.fields=[i]),r&&!o(r)&&(t.sort=[r]),s&&!o(s)&&(t.sort_empty=[s]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]}},e.prototype.search=function(e,t){var n,i,r,o,s=this;return i=this.prepareSearch(e,t),t=i.options,e=i.query,o=t.score||s.getScoreFunction(i),e.length?s.iterator(s.items,function(e,r){n=o(e),(!1===t.filter||n>0)&&i.items.push({score:n,id:r})}):s.iterator(s.items,function(e,t){i.items.push({score:1,id:t})}),r=s.getSortFunction(i,t),r&&i.items.sort(r),i.total=i.items.length,"number"==typeof t.limit&&(i.items=i.items.slice(0,t.limit)),i};var t=function(e,t){return"number"==typeof e&&"number"==typeof t?e>t?1:t>e?-1:0:(e=a(String(e||"")),t=a(String(t||"")),e>t?1:t>e?-1:0)},n=function(e){var t,n,i,r;for(t=1,n=arguments.length;n>t;t++)if(r=arguments[t])for(i in r)r.hasOwnProperty(i)&&(e[i]=r[i]);return e},i=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},r=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},o=Array.isArray||$&&$.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s={a:"[aÀÁÂÃÄÅàáâãäåĀāąĄ]",c:"[cÇçćĆčČ]",d:"[dđĐďĎ]",e:"[eÈÉÊËèéêëěĚĒēęĘ]",i:"[iÌÍÎÏìíîïĪī]",l:"[lłŁ]",n:"[nÑñňŇńŃ]",o:"[oÒÓÔÕÕÖØòóôõöøŌō]",r:"[rřŘ]",s:"[sŠšśŚ]",t:"[tťŤ]",u:"[uÙÚÛÜùúûüůŮŪū]",y:"[yŸÿýÝ]",z:"[zŽžżŻźŹ]"},a=function(){var e,t,n,i,r="",o={};for(n in s)if(s.hasOwnProperty(n))for(i=s[n].substring(2,s[n].length-1),r+=i,e=0,t=i.length;t>e;e++)o[i.charAt(e)]=n;var a=new RegExp("["+r+"]","g");return function(e){return e.replace(a,function(e){return o[e]}).toLowerCase()}}();return e}),function(e,t){"function"==typeof define&&define.amd?define("microplugin",t):"object"==typeof exports?module.exports=t():e.MicroPlugin=t()}(this,function(){var e={};e.mixin=function(e){e.plugins={},e.prototype.initializePlugins=function(e){var n,i,r,o=this,s=[];if(o.plugins={names:[],settings:{},requested:{},loaded:{}},t.isArray(e))for(n=0,i=e.length;i>n;n++)"string"==typeof e[n]?s.push(e[n]):(o.plugins.settings[e[n].name]=e[n].options,s.push(e[n].name));else if(e)for(r in e)e.hasOwnProperty(r)&&(o.plugins.settings[r]=e[r],s.push(r));for(;s.length;)o.require(s.shift())},e.prototype.loadPlugin=function(t){var n=this,i=n.plugins,r=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');i.requested[t]=!0,i.loaded[t]=r.fn.apply(n,[n.plugins.settings[t]||{}]),i.names.push(t)},e.prototype.require=function(e){var t=this,n=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(n.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return n.loaded[e]},e.define=function(t,n){e.plugins[t]={name:t,fn:n}}};var t={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e}),function(e,t){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("sifter"),require("microplugin")):e.Selectize=t(e.jQuery,e.Sifter,e.MicroPlugin)}(this,function(e,t,n){"use strict";var i=function(e,t){if("string"!=typeof t||t.length){var n="string"==typeof t?new RegExp(t,"i"):t,i=function(e){var t=0;if(3===e.nodeType){var r=e.data.search(n);if(r>=0&&e.data.length>0){var o=e.data.match(n),s=document.createElement("span");s.className="highlight";var a=e.splitText(r),l=(a.splitText(o[0].length),a.cloneNode(!0));s.appendChild(l),a.parentNode.replaceChild(s,a),t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var u=0;u<e.childNodes.length;++u)u+=i(e.childNodes[u]);return t};return e.each(function(){i(this)})}},r=function(){};r.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=0&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=0)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},r.mixin=function(e){for(var t=["on","off","trigger"],n=0;n<t.length;n++)e.prototype[t[n]]=r.prototype[t[n]]};var o=/Mac/.test(navigator.userAgent),s=o?91:17,a=o?18:17,l=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,u=function(e){return void 0!==e},c=function(e){return void 0===e||null===e?null:"boolean"==typeof e?e?"1":"0":e+""},d=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},h=function(e){return(e+"").replace(/\$/g,"$$$$")},p={};p.before=function(e,t,n){var i=e[t];e[t]=function(){return n.apply(e,arguments),i.apply(e,arguments)}},p.after=function(e,t,n){var i=e[t];e[t]=function(){var t=i.apply(e,arguments);return n.apply(e,arguments),t}};var f=function(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}},m=function(e,t){var n;return function(){var i=this,r=arguments;window.clearTimeout(n),n=window.setTimeout(function(){e.apply(i,r)},t)}},g=function(e,t,n){var i,r=e.trigger,o={};e.trigger=function(){var n=arguments[0];return-1===t.indexOf(n)?r.apply(e,arguments):void(o[n]=arguments)},n.apply(e,[]),e.trigger=r;for(i in o)o.hasOwnProperty(i)&&r.apply(e,o[i])},v=function(e,t,n,i){e.on(t,n,function(t){for(var n=t.target;n&&n.parentNode!==e[0];)n=n.parentNode;return t.currentTarget=n,i.apply(this,[t])})},y=function(e){var t={};if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var n=document.selection.createRange(),i=document.selection.createRange().text.length;n.moveStart("character",-e.value.length),t.start=n.text.length-i,t.length=i}return t},b=function(e,t,n){var i,r,o={};if(n)for(i=0,r=n.length;r>i;i++)o[n[i]]=e.css(n[i]);else o=e.css();t.css(o)},w=function(t,n){if(!t)return 0;var i=e("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(t).appendTo("body");b(n,i,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var r=i.width();return i.remove(),r},_=function(e){var t=null,n=function(n,i){var r,o,s,a,l,u,c,d;n=n||window.event||{},i=i||{},n.metaKey||n.altKey||(i.force||!1!==e.data("grow"))&&(r=e.val(),n.type&&"keydown"===n.type.toLowerCase()&&(o=n.keyCode,s=o>=97&&122>=o||o>=65&&90>=o||o>=48&&57>=o||32===o,46===o||8===o?(d=y(e[0]),d.length?r=r.substring(0,d.start)+r.substring(d.start+d.length):8===o&&d.start?r=r.substring(0,d.start-1)+r.substring(d.start+1):46===o&&void 0!==d.start&&(r=r.substring(0,d.start)+r.substring(d.start+1))):s&&(u=n.shiftKey,c=String.fromCharCode(n.keyCode),c=u?c.toUpperCase():c.toLowerCase(),r+=c)),a=e.attr("placeholder"),!r&&a&&(r=a),(l=w(r,e)+4)!==t&&(t=l,e.width(l),e.triggerHandler("resize")))};e.on("keydown keyup update blur",n),n()},x=function(n,i){var r,o,s,a,l=this;a=n[0],a.selectize=l;var u=window.getComputedStyle&&window.getComputedStyle(a,null);if(s=u?u.getPropertyValue("direction"):a.currentStyle&&a.currentStyle.direction,s=s||n.parents("[dir]:first").attr("dir")||"",e.extend(l,{order:0,settings:i,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===a.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(s),eventNS:".selectize"+ ++x.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===i.loadThrottle?l.onSearchChange:m(l.onSearchChange,i.loadThrottle)}),l.sifter=new t(this.options,{diacritics:i.diacritics}),l.settings.options){for(r=0,o=l.settings.options.length;o>r;r++)l.registerOption(l.settings.options[r]);delete l.settings.options}if(l.settings.optgroups){for(r=0,o=l.settings.optgroups.length;o>r;r++)l.registerOptionGroup(l.settings.optgroups[r]);delete l.settings.optgroups}l.settings.mode=l.settings.mode||(1===l.settings.maxItems?"single":"multi"),"boolean"!=typeof l.settings.hideSelected&&(l.settings.hideSelected="multi"===l.settings.mode),l.initializePlugins(l.settings.plugins),l.setupCallbacks(),l.setupTemplates(),l.setup()};return r.mixin(x),n.mixin(x),e.extend(x.prototype,{setup:function(){var t,n,i,r,u,c,d,h,p,f=this,m=f.settings,g=f.eventNS,y=e(window),b=e(document),w=f.$input;if(d=f.settings.mode,h=w.attr("class")||"",t=e("<div>").addClass(m.wrapperClass).addClass(h).addClass(d),n=e("<div>").addClass(m.inputClass).addClass("items").appendTo(t),i=e('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex",w.is(":disabled")?"-1":f.tabIndex),c=e(m.dropdownParent||t),r=e("<div>").addClass(m.dropdownClass).addClass(d).hide().appendTo(c),u=e("<div>").addClass(m.dropdownContentClass).appendTo(r),f.settings.copyClassesToDropdown&&r.addClass(h),t.css({width:w[0].style.width}),f.plugins.names.length&&(p="plugin-"+f.plugins.names.join(" plugin-"),t.addClass(p),r.addClass(p)),(null===m.maxItems||m.maxItems>1)&&1===f.tagType&&w.attr("multiple","multiple"),f.settings.placeholder&&i.attr("placeholder",m.placeholder),!f.settings.splitOn&&f.settings.delimiter){var x=f.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");f.settings.splitOn=new RegExp("\\s*"+x+"+\\s*")}w.attr("autocorrect")&&i.attr("autocorrect",w.attr("autocorrect")),w.attr("autocapitalize")&&i.attr("autocapitalize",w.attr("autocapitalize")),f.$wrapper=t,f.$control=n,f.$control_input=i,f.$dropdown=r,f.$dropdown_content=u,r.on("mouseenter","[data-selectable]",function(){return f.onOptionHover.apply(f,arguments)}),r.on("mousedown click","[data-selectable]",function(){return f.onOptionSelect.apply(f,arguments)}),v(n,"mousedown","*:not(input)",function(){return f.onItemSelect.apply(f,arguments)}),_(i),n.on({mousedown:function(){return f.onMouseDown.apply(f,arguments)},click:function(){return f.onClick.apply(f,arguments)}}),i.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return f.onKeyDown.apply(f,arguments)},keyup:function(){return f.onKeyUp.apply(f,arguments)},keypress:function(){return f.onKeyPress.apply(f,arguments)},resize:function(){f.positionDropdown.apply(f,[])},blur:function(){return f.onBlur.apply(f,arguments)},focus:function(){return f.ignoreBlur=!1,f.onFocus.apply(f,arguments)},paste:function(){return f.onPaste.apply(f,arguments)}}),b.on("keydown"+g,function(e){f.isCmdDown=e[o?"metaKey":"ctrlKey"],f.isCtrlDown=e[o?"altKey":"ctrlKey"],f.isShiftDown=e.shiftKey}),b.on("keyup"+g,function(e){e.keyCode===a&&(f.isCtrlDown=!1),16===e.keyCode&&(f.isShiftDown=!1),e.keyCode===s&&(f.isCmdDown=!1)}),b.on("mousedown"+g,function(e){if(f.isFocused){if(e.target===f.$dropdown[0]||e.target.parentNode===f.$dropdown[0])return!1;f.$control.has(e.target).length||e.target===f.$control[0]||f.blur(e.target)}}),y.on(["scroll"+g,"resize"+g].join(" "),function(){f.isOpen&&f.positionDropdown.apply(f,arguments)}),y.on("mousemove"+g,function(){f.ignoreHover=!1}),this.revertSettings={$children:w.children().detach(),tabindex:w.attr("tabindex")},w.attr("tabindex",-1).hide().after(f.$wrapper),e.isArray(m.items)&&(f.setValue(m.items),delete m.items),
l&&w.on("invalid"+g,function(e){e.preventDefault(),f.isInvalid=!0,f.refreshState()}),f.updateOriginalInput(),f.refreshItems(),f.refreshState(),f.updatePlaceholder(),f.isSetup=!0,w.is(":disabled")&&f.disable(),f.on("change",this.onChange),w.data("selectize",f),w.addClass("selectized"),f.trigger("initialize"),!0===m.preload&&f.onSearchChange("")},setupTemplates:function(){var t=this,n=t.settings.labelField,i=t.settings.optgroupLabelField,r={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[i])+"</div>"},option:function(e,t){return'<div class="option">'+t(e[n])+"</div>"},item:function(e,t){return'<div class="item">'+t(e[n])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};t.settings.render=e.extend({},r,t.settings.render)},setupCallbacks:function(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in n)n.hasOwnProperty(e)&&(t=this.settings[n[e]])&&this.on(e,t)},onClick:function(e){var t=this;t.isFocused||(t.focus(),e.preventDefault())},onMouseDown:function(t){var n=this,i=t.isDefaultPrevented();if(e(t.target),n.isFocused){if(t.target!==n.$control_input[0])return"single"===n.settings.mode?n.isOpen?n.close():n.open():i||n.setActiveItem(null),!1}else i||window.setTimeout(function(){n.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(t){var n=this;n.isFull()||n.isInputHidden||n.isLocked?t.preventDefault():n.settings.splitOn&&setTimeout(function(){for(var t=e.trim(n.$control_input.val()||"").split(n.settings.splitOn),i=0,r=t.length;r>i;i++)n.createItem(t[i])},0)},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){var t=(e.target,this.$control_input[0],this);if(t.isLocked)return void(9!==e.keyCode&&e.preventDefault());switch(e.keyCode){case 65:if(t.isCmdDown)return void t.selectAll();break;case 27:return void(t.isOpen&&(e.preventDefault(),e.stopPropagation(),t.close()));case 78:if(!e.ctrlKey||e.altKey)break;case 40:if(!t.isOpen&&t.hasOptions)t.open();else if(t.$activeOption){t.ignoreHover=!0;var n=t.getAdjacentOption(t.$activeOption,1);n.length&&t.setActiveOption(n,!0,!0)}return void e.preventDefault();case 80:if(!e.ctrlKey||e.altKey)break;case 38:if(t.$activeOption){t.ignoreHover=!0;var i=t.getAdjacentOption(t.$activeOption,-1);i.length&&t.setActiveOption(i,!0,!0)}return void e.preventDefault();case 13:return void(t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),e.preventDefault()));case 37:return void t.advanceSelection(-1,e);case 39:return void t.advanceSelection(1,e);case 9:return t.settings.selectOnTab&&t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),t.isFull()||e.preventDefault()),void(t.settings.create&&t.createItem()&&e.preventDefault());case 8:case 46:return void t.deleteSelection(e)}return!t.isFull()&&!t.isInputHidden||(o?e.metaKey:e.ctrlKey)?void 0:void e.preventDefault()},onKeyUp:function(e){var t=this;if(t.isLocked)return e&&e.preventDefault();var n=t.$control_input.val()||"";t.lastValue!==n&&(t.lastValue=n,t.onSearchChange(n),t.refreshOptions(),t.trigger("type",n))},onSearchChange:function(e){var t=this,n=t.settings.load;n&&(t.loadedSearches.hasOwnProperty(e)||(t.loadedSearches[e]=!0,t.load(function(i){n.apply(t,[e,i])})))},onFocus:function(e){var t=this,n=t.isFocused;return t.isDisabled?(t.blur(),e&&e.preventDefault(),!1):void(t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),n||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState()))},onBlur:function(e,t){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(e);var i=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),(t||document.body).focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,i):i()}},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(t){var n,i,r=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),i=e(t.currentTarget),i.hasClass("create")?r.createItem(null,function(){r.settings.closeAfterSelect&&r.close()}):void 0!==(n=i.attr("data-value"))&&(r.lastQuery=null,r.setTextboxValue(""),r.addItem(n),r.settings.closeAfterSelect?r.close():!r.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&r.setActiveOption(r.getOption(n)))},onItemSelect:function(e){var t=this;t.isLocked||"multi"===t.settings.mode&&(e.preventDefault(),t.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,n=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||n.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input;t.val()!==e&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){g(this,t?[]:["change"],function(){this.clear(t),this.addItems(e,t)})},setActiveItem:function(t,n){var i,r,o,s,a,l,u,c,d=this;if("single"!==d.settings.mode){if(t=e(t),!t.length)return e(d.$activeItems).removeClass("active"),d.$activeItems=[],void(d.isFocused&&d.showInput());if("mousedown"===(i=n&&n.type.toLowerCase())&&d.isShiftDown&&d.$activeItems.length){for(c=d.$control.children(".active:last"),s=Array.prototype.indexOf.apply(d.$control[0].childNodes,[c[0]]),a=Array.prototype.indexOf.apply(d.$control[0].childNodes,[t[0]]),s>a&&(u=s,s=a,a=u),r=s;a>=r;r++)l=d.$control[0].childNodes[r],-1===d.$activeItems.indexOf(l)&&(e(l).addClass("active"),d.$activeItems.push(l));n.preventDefault()}else"mousedown"===i&&d.isCtrlDown||"keydown"===i&&this.isShiftDown?t.hasClass("active")?(o=d.$activeItems.indexOf(t[0]),d.$activeItems.splice(o,1),t.removeClass("active")):d.$activeItems.push(t.addClass("active")[0]):(e(d.$activeItems).removeClass("active"),d.$activeItems=[t.addClass("active")[0]]);d.hideInput(),this.isFocused||d.focus()}},setActiveOption:function(t,n,i){var r,o,s,a,l,c=this;c.$activeOption&&c.$activeOption.removeClass("active"),c.$activeOption=null,t=e(t),t.length&&(c.$activeOption=t.addClass("active"),(n||!u(n))&&(r=c.$dropdown_content.height(),o=c.$activeOption.outerHeight(!0),n=c.$dropdown_content.scrollTop()||0,s=c.$activeOption.offset().top-c.$dropdown_content.offset().top+n,a=s,l=s-r+o,s+o>r+n?c.$dropdown_content.stop().animate({scrollTop:l},i?c.settings.scrollDuration:0):n>s&&c.$dropdown_content.stop().animate({scrollTop:a},i?c.settings.scrollDuration:0)))},selectAll:function(){var e=this;"single"!==e.settings.mode&&(e.$activeItems=Array.prototype.slice.apply(e.$control.children(":not(input)").addClass("active")),e.$activeItems.length&&(e.hideInput(),e.close()),e.focus())},hideInput:function(){var e=this;e.setTextboxValue(""),e.$control_input.css({opacity:0,position:"absolute",left:e.rtl?1e4:-1e4}),e.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout(function(){e.ignoreFocus=!1,e.onFocus()},0))},blur:function(e){this.$control_input[0].blur(),this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t}},search:function(t){var n,i,r,o=this,s=o.settings,a=this.getSearchOptions();if(s.score&&"function"!=typeof(r=o.settings.score.apply(this,[t])))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==o.lastQuery?(o.lastQuery=t,i=o.sifter.search(t,e.extend(a,{score:r})),o.currentResults=i):i=e.extend(!0,{},o.currentResults),s.hideSelected)for(n=i.items.length-1;n>=0;n--)-1!==o.items.indexOf(c(i.items[n].id))&&i.items.splice(n,1);return i},refreshOptions:function(t){var n,r,o,s,a,l,u,d,h,p,f,m,g,v,y,b;void 0===t&&(t=!0);var w=this,_=e.trim(w.$control_input.val()),x=w.search(_),C=w.$dropdown_content,k=w.$activeOption&&c(w.$activeOption.attr("data-value"));for(s=x.items.length,"number"==typeof w.settings.maxOptions&&(s=Math.min(s,w.settings.maxOptions)),a={},l=[],n=0;s>n;n++)for(u=w.options[x.items[n].id],d=w.render("option",u),h=u[w.settings.optgroupField]||"",p=e.isArray(h)?h:[h],r=0,o=p&&p.length;o>r;r++)h=p[r],w.optgroups.hasOwnProperty(h)||(h=""),a.hasOwnProperty(h)||(a[h]=[],l.push(h)),a[h].push(d);for(this.settings.lockOptgroupOrder&&l.sort(function(e,t){return(w.optgroups[e].$order||0)-(w.optgroups[t].$order||0)}),f=[],n=0,s=l.length;s>n;n++)h=l[n],w.optgroups.hasOwnProperty(h)&&a[h].length?(m=w.render("optgroup_header",w.optgroups[h])||"",m+=a[h].join(""),f.push(w.render("optgroup",e.extend({},w.optgroups[h],{html:m})))):f.push(a[h].join(""));if(C.html(f.join("")),w.settings.highlight&&x.query.length&&x.tokens.length)for(n=0,s=x.tokens.length;s>n;n++)i(C,x.tokens[n].regex);if(!w.settings.hideSelected)for(n=0,s=w.items.length;s>n;n++)w.getOption(w.items[n]).addClass("selected");g=w.canCreate(_),g&&(C.prepend(w.render("option_create",{input:_})),b=e(C[0].childNodes[0])),w.hasOptions=x.items.length>0||g,w.hasOptions?(x.items.length>0?(y=k&&w.getOption(k),y&&y.length?v=y:"single"===w.settings.mode&&w.items.length&&(v=w.getOption(w.items[0])),v&&v.length||(v=b&&!w.settings.addPrecedence?w.getAdjacentOption(b,1):C.find("[data-selectable]:first"))):v=b,w.setActiveOption(v),t&&!w.isOpen&&w.open()):(w.setActiveOption(null),t&&w.isOpen&&w.close())},addOption:function(t){var n,i,r,o=this;if(e.isArray(t))for(n=0,i=t.length;i>n;n++)o.addOption(t[n]);else(r=o.registerOption(t))&&(o.userOptions[r]=!0,o.lastQuery=null,o.trigger("option_add",r,t))},registerOption:function(e){var t=c(e[this.settings.valueField]);return!(!t||this.options.hasOwnProperty(t))&&(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=c(e[this.settings.optgroupValueField]);return!!t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,n){var i,r,o,s,a,l,u,d=this;if(t=c(t),o=c(n[d.settings.valueField]),null!==t&&d.options.hasOwnProperty(t)){if("string"!=typeof o)throw new Error("Value must be set in option data");u=d.options[t].$order,o!==t&&(delete d.options[t],-1!==(s=d.items.indexOf(t))&&d.items.splice(s,1,o)),n.$order=n.$order||u,d.options[o]=n,a=d.renderCache.item,l=d.renderCache.option,a&&(delete a[t],delete a[o]),l&&(delete l[t],delete l[o]),-1!==d.items.indexOf(o)&&(i=d.getItem(t),r=e(d.render("item",n)),i.hasClass("active")&&r.addClass("active"),i.replaceWith(r)),d.lastQuery=null,d.isOpen&&d.refreshOptions(!1)}},removeOption:function(e,t){var n=this;e=c(e);var i=n.renderCache.item,r=n.renderCache.option;i&&delete i[e],r&&delete r[e],delete n.userOptions[e],delete n.options[e],n.lastQuery=null,n.trigger("option_remove",e),n.removeItem(e,t)},clearOptions:function(){var e=this;e.loadedSearches={},e.userOptions={},e.renderCache={},e.options=e.sifter.items={},e.lastQuery=null,e.trigger("option_clear"),e.clear()},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(t,n){var i=this.$dropdown.find("[data-selectable]"),r=i.index(t)+n;return r>=0&&r<i.length?i.eq(r):e()},getElementWithValue:function(t,n){if(void 0!==(t=c(t))&&null!==t)for(var i=0,r=n.length;r>i;i++)if(n[i].getAttribute("data-value")===t)return e(n[i]);return e()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(t,n){for(var i=e.isArray(t)?t:[t],r=0,o=i.length;o>r;r++)this.isPending=o-1>r,this.addItem(i[r],n)},addItem:function(t,n){g(this,n?[]:["change"],function(){var i,r,o,s,a,l=this,u=l.settings.mode;return t=c(t),-1!==l.items.indexOf(t)?void("single"===u&&l.close()):void(l.options.hasOwnProperty(t)&&("single"===u&&l.clear(n),"multi"===u&&l.isFull()||(i=e(l.render("item",l.options[t])),a=l.isFull(),l.items.splice(l.caretPos,0,t),l.insertAtCaret(i),(!l.isPending||!a&&l.isFull())&&l.refreshState(),l.isSetup&&(o=l.$dropdown_content.find("[data-selectable]"),l.isPending||(r=l.getOption(t),s=l.getAdjacentOption(r,1).attr("data-value"),l.refreshOptions(l.isFocused&&"single"!==u),s&&l.setActiveOption(l.getOption(s))),!o.length||l.isFull()?l.close():l.positionDropdown(),l.updatePlaceholder(),l.trigger("item_add",t,i),l.updateOriginalInput({silent:n})))))})},removeItem:function(e,t){var n,i,r,o=this;n="object"==typeof e?e:o.getItem(e),e=c(n.attr("data-value")),-1!==(i=o.items.indexOf(e))&&(n.remove(),n.hasClass("active")&&(r=o.$activeItems.indexOf(n[0]),o.$activeItems.splice(r,1)),o.items.splice(i,1),o.lastQuery=null,!o.settings.persist&&o.userOptions.hasOwnProperty(e)&&o.removeOption(e,t),i<o.caretPos&&o.setCaret(o.caretPos-1),o.refreshState(),o.updatePlaceholder(),o.updateOriginalInput({silent:t}),o.positionDropdown(),o.trigger("item_remove",e,n))},createItem:function(t,n){var i=this,r=i.caretPos;t=t||e.trim(i.$control_input.val()||"");var o=arguments[arguments.length-1];if("function"!=typeof o&&(o=function(){}),"boolean"!=typeof n&&(n=!0),!i.canCreate(t))return o(),!1;i.lock();var s="function"==typeof i.settings.create?this.settings.create:function(e){var t={};return t[i.settings.labelField]=e,t[i.settings.valueField]=e,t},a=f(function(e){if(i.unlock(),!e||"object"!=typeof e)return o();var t=c(e[i.settings.valueField]);return"string"!=typeof t?o():(i.setTextboxValue(""),i.addOption(e),i.setCaret(r),i.addItem(t),i.refreshOptions(n&&"single"!==i.settings.mode),void o(e))}),l=s.apply(this,[t,a]);return void 0!==l&&a(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){var e=this;e.isRequired&&(e.items.length&&(e.isInvalid=!1),e.$control_input.prop("required",void 0)),e.refreshClasses()},refreshClasses:function(){var t=this,n=t.isFull(),i=t.isLocked;t.$wrapper.toggleClass("rtl",t.rtl),t.$control.toggleClass("focus",t.isFocused).toggleClass("disabled",t.isDisabled).toggleClass("required",t.isRequired).toggleClass("invalid",t.isInvalid).toggleClass("locked",i).toggleClass("full",n).toggleClass("not-full",!n).toggleClass("input-active",t.isFocused&&!t.isInputHidden).toggleClass("dropdown-active",t.isOpen).toggleClass("has-options",!e.isEmptyObject(t.options)).toggleClass("has-items",t.items.length>0),t.$control_input.data("grow",!n&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,n,i,r,o=this;if(e=e||{},1===o.tagType){for(i=[],t=0,n=o.items.length;n>t;t++)r=o.options[o.items[t]][o.settings.labelField]||"",i.push('<option value="'+d(o.items[t])+'" selected="selected">'+d(r)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),o.$input.html(i.join(""))}else o.$input.val(o.getValue()),o.$input.attr("value",o.$input.val());o.isSetup&&(e.silent||o.trigger("change",o.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})}},open:function(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown))},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&e.hideInput(),e.isOpen=!1,e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e.outerWidth(),top:t.top,left:t.left})},clear:function(e){var t=this;t.items.length&&(t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear"))},insertAtCaret:function(t){var n=Math.min(this.caretPos,this.items.length);0===n?this.$control.prepend(t):e(this.$control[0].childNodes[n]).before(t),this.setCaret(n+1)},deleteSelection:function(t){var n,i,r,o,s,a,l,u,c,d=this;if(r=t&&8===t.keyCode?-1:1,o=y(d.$control_input[0]),d.$activeOption&&!d.settings.hideSelected&&(l=d.getAdjacentOption(d.$activeOption,-1).attr("data-value")),s=[],d.$activeItems.length){for(c=d.$control.children(".active:"+(r>0?"last":"first")),a=d.$control.children(":not(input)").index(c),r>0&&a++,n=0,i=d.$activeItems.length;i>n;n++)s.push(e(d.$activeItems[n]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(d.isFocused||"single"===d.settings.mode)&&d.items.length&&(0>r&&0===o.start&&0===o.length?s.push(d.items[d.caretPos-1]):r>0&&o.start===d.$control_input.val().length&&s.push(d.items[d.caretPos]));if(!s.length||"function"==typeof d.settings.onDelete&&!1===d.settings.onDelete.apply(d,[s]))return!1;for(void 0!==a&&d.setCaret(a);s.length;)d.removeItem(s.pop());return d.showInput(),d.positionDropdown(),d.refreshOptions(!0),l&&(u=d.getOption(l),u.length&&d.setActiveOption(u)),!0},advanceSelection:function(e,t){var n,i,r,o,s,a=this;0!==e&&(a.rtl&&(e*=-1),n=e>0?"last":"first",i=y(a.$control_input[0]),a.isFocused&&!a.isInputHidden?(o=a.$control_input.val().length,(0>e?0===i.start&&0===i.length:i.start===o)&&!o&&a.advanceCaret(e,t)):(s=a.$control.children(".active:"+n),s.length&&(r=a.$control.children(":not(input)").index(s),a.setActiveItem(null),a.setCaret(e>0?r+1:r))))},advanceCaret:function(e,t){var n,i,r=this;0!==e&&(n=e>0?"next":"prev",r.isShiftDown?(i=r.$control_input[n](),i.length&&(r.hideInput(),r.setActiveItem(i),t&&t.preventDefault())):r.setCaret(r.caretPos+e))},setCaret:function(t){var n=this;if(t="single"===n.settings.mode?n.items.length:Math.max(0,Math.min(n.items.length,t)),!n.isPending){var i,r,o,s;for(o=n.$control.children(":not(input)"),i=0,r=o.length;r>i;i++)s=e(o[i]).detach(),t>i?n.$control_input.before(s):n.$control.append(s)}n.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var e=this;e.$input.prop("disabled",!0),e.$control_input.prop("disabled",!0).prop("tabindex",-1),e.isDisabled=!0,e.lock()},enable:function(){var e=this;e.$input.prop("disabled",!1),e.$control_input.prop("disabled",!1).prop("tabindex",e.tabIndex),e.isDisabled=!1,e.unlock()},destroy:function(){var t=this,n=t.eventNS,i=t.revertSettings;t.trigger("destroy"),t.off(),t.$wrapper.remove(),t.$dropdown.remove(),t.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),t.$control_input.removeData("grow"),t.$input.removeData("selectize"),e(window).off(n),e(document).off(n),e(document.body).off(n),delete t.$input[0].selectize},render:function(e,t){var n,i,r="",o=!1,s=this,a=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;return("option"===e||"item"===e)&&(n=c(t[s.settings.valueField]),o=!!n),o&&(u(s.renderCache[e])||(s.renderCache[e]={}),s.renderCache[e].hasOwnProperty(n))?s.renderCache[e][n]:(r=s.settings.render[e].apply(this,[t,d]),("option"===e||"option_create"===e)&&(r=r.replace(a,"<$1 data-selectable")),"optgroup"===e&&(i=t[s.settings.optgroupValueField]||"",r=r.replace(a,'<$1 data-group="'+h(d(i))+'"')),("option"===e||"item"===e)&&(r=r.replace(a,'<$1 data-value="'+h(d(n||""))+'"')),o&&(s.renderCache[e][n]=r),r)},clearCache:function(e){var t=this;void 0===e?t.renderCache={}:delete t.renderCache[e]},canCreate:function(e){var t=this;if(!t.settings.create)return!1;var n=t.settings.createFilter;return!(!e.length||"function"==typeof n&&!n.apply(t,[e])||"string"==typeof n&&!new RegExp(n).test(e)||n instanceof RegExp&&!n.test(e))}}),x.count=0,x.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},e.fn.selectize=function(t){var n=e.fn.selectize.defaults,i=e.extend({},n,t),r=i.dataAttr,o=i.labelField,s=i.valueField,a=i.optgroupField,l=i.optgroupLabelField,u=i.optgroupValueField,d=function(t,n){var a,l,u,c,d=t.attr(r);if(d)for(n.options=JSON.parse(d),a=0,l=n.options.length;l>a;a++)n.items.push(n.options[a][s]);else{var h=e.trim(t.val()||"");if(!i.allowEmptyOption&&!h.length)return;for(u=h.split(i.delimiter),a=0,l=u.length;l>a;a++)c={},c[o]=u[a],c[s]=u[a],n.options.push(c);n.items=u}},h=function(t,n){var d,h,p,f,m=n.options,g={},v=function(e){var t=r&&e.attr(r);return"string"==typeof t&&t.length?JSON.parse(t):null},y=function(t,r){t=e(t);var l=c(t.attr("value"));if(l||i.allowEmptyOption)if(g.hasOwnProperty(l)){if(r){var u=g[l][a];u?e.isArray(u)?u.push(r):g[l][a]=[u,r]:g[l][a]=r}}else{var d=v(t)||{};d[o]=d[o]||t.text(),d[s]=d[s]||l,d[a]=d[a]||r,g[l]=d,m.push(d),t.is(":selected")&&n.items.push(l)}};for(n.maxItems=t.attr("multiple")?null:1,f=t.children(),d=0,h=f.length;h>d;d++)p=f[d].tagName.toLowerCase(),"optgroup"===p?function(t){var i,r,o,s,a;for(t=e(t),o=t.attr("label"),o&&(s=v(t)||{},s[l]=o,s[u]=o,n.optgroups.push(s)),a=e("option",t),i=0,r=a.length;r>i;i++)y(a[i],o)}(f[d]):"option"===p&&y(f[d])};return this.each(function(){if(!this.selectize){var r=e(this),o=this.tagName.toLowerCase(),s=r.attr("placeholder")||r.attr("data-placeholder");s||i.allowEmptyOption||(s=r.children('option[value=""]').text());var a={placeholder:s,options:[],optgroups:[],items:[]};"select"===o?h(r,a):d(r,a),new x(r,e.extend(!0,{},n,a,t))}})},e.fn.selectize.defaults=x.defaults,e.fn.selectize.support={validity:l},x.define("drag_drop",function(){if(!e.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var t=this;t.lock=function(){var e=t.lock;return function(){var n=t.$control.data("sortable");return n&&n.disable(),e.apply(t,arguments)}}(),t.unlock=function(){var e=t.unlock;return function(){var n=t.$control.data("sortable");return n&&n.enable(),e.apply(t,arguments)}}(),t.setup=function(){var n=t.setup;return function(){n.apply(this,arguments);var i=t.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:t.isLocked,start:function(e,t){t.placeholder.css("width",t.helper.css("width")),i.css({overflow:"visible"})},stop:function(){i.css({overflow:"hidden"});var n=t.$activeItems?t.$activeItems.slice():null,r=[];i.children("[data-value]").each(function(){r.push(e(this).attr("data-value"))}),t.setValue(r),t.setActiveItem(n)}})}}()}}),x.define("dropdown_header",function(t){var n=this;t=e.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&times;</a></div></div>'}},t),n.setup=function(){var i=n.setup;return function(){i.apply(n,arguments),n.$dropdown_header=e(t.html(t)),n.$dropdown.prepend(n.$dropdown_header)}}()}),x.define("optgroup_columns",function(t){var n=this;t=e.extend({equalizeWidth:!0,equalizeHeight:!0},t),this.getAdjacentOption=function(t,n){var i=t.closest("[data-group]").find("[data-selectable]"),r=i.index(t)+n;return r>=0&&r<i.length?i.eq(r):e()},this.onKeyDown=function(){var e=n.onKeyDown;return function(t){var i,r,o,s;return!this.isOpen||37!==t.keyCode&&39!==t.keyCode?e.apply(this,arguments):(n.ignoreHover=!0,s=this.$activeOption.closest("[data-group]"),i=s.find("[data-selectable]").index(this.$activeOption),s=37===t.keyCode?s.prev("[data-group]"):s.next("[data-group]"),o=s.find("[data-selectable]"),r=o.eq(Math.min(o.length-1,i)),void(r.length&&this.setActiveOption(r)))}}();var i=function(){var e,t=i.width,n=document;return void 0===t&&(e=n.createElement("div"),e.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,n.body.appendChild(e),t=i.width=e.offsetWidth-e.clientWidth,n.body.removeChild(e)),t},r=function(){var r,o,s,a,l,u,c;if(c=e("[data-group]",n.$dropdown_content),(o=c.length)&&n.$dropdown_content.width()){if(t.equalizeHeight){for(s=0,r=0;o>r;r++)s=Math.max(s,c.eq(r).height());c.css({height:s})}t.equalizeWidth&&(u=n.$dropdown_content.innerWidth()-i(),a=Math.round(u/o),c.css({width:a}),o>1&&(l=u-a*(o-1),c.eq(o-1).css({width:l})))}};(t.equalizeHeight||t.equalizeWidth)&&(p.after(this,"positionDropdown",r),p.after(this,"refreshOptions",r))}),x.define("remove_button",function(t){if("single"!==this.settings.mode){t=e.extend({label:"&times;",title:"Remove",className:"remove",append:!0},t);var n=this,i='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+d(t.title)+'">'+t.label+"</a>",r=function(e,t){var n=e.search(/(<\/[^>]+>\s*)$/);return e.substring(0,n)+t+e.substring(n)};this.setup=function(){var o=n.setup;return function(){if(t.append){var s=n.settings.render.item;n.settings.render.item=function(){return r(s.apply(this,arguments),i)}}o.apply(this,arguments),this.$control.on("click","."+t.className,function(t){if(t.preventDefault(),!n.isLocked){var i=e(t.currentTarget).parent();n.setActiveItem(i),n.deleteSelection()&&n.setCaret(n.items.length)}})}}()}}),x.define("restore_on_backspace",function(e){var t=this;e.text=e.text||function(e){return e[this.settings.labelField]},this.onKeyDown=function(){var n=t.onKeyDown;return function(t){var i,r;return 8===t.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&(i=this.caretPos-1)>=0&&i<this.items.length?(r=this.options[this.items[i]],this.deleteSelection(t)&&(this.setTextboxValue(e.text.apply(this,[r])),this.refreshOptions(!0)),void t.preventDefault()):n.apply(this,arguments)}}()}),x}),require.config({map:{"*":{Footer:"org/forgerock/openidm/ui/common/components/Footer",ThemeManager:"org/forgerock/openidm/ui/common/util/ThemeManager",LoginView:"org/forgerock/openidm/ui/common/login/LoginView",LoginDialog:"org/forgerock/openidm/ui/common/login/LoginDialog",NavigationFilter:"org/forgerock/commons/ui/common/components/navigation/filters/RoleFilter",underscore:"lodash"}},paths:{i18next:"libs/i18next-1.7.3-min",backbone:"libs/backbone-1.1.2-min","backbone.paginator":"libs/backbone.paginator.min-2.0.2-min","backbone-relational":"libs/backbone-relational-0.9.0-min",backgrid:"libs/backgrid.min-0.3.5-min","backgrid-filter":"libs/backgrid-filter.min-0.3.5-min","backgrid-paginator":"libs/backgrid-paginator.min-0.3.5-min","backgrid-selectall":"libs/backgrid-select-all-0.3.5-min",lodash:"libs/lodash-3.10.1-min",js2form:"libs/js2form-2.0-769718a",form2js:"libs/form2js-2.0-769718a",spin:"libs/spin-2.0.1-min",jquery:"libs/jquery-2.2.4-min",cron:"libs/jquery-cron-f831f2",xdate:"libs/xdate-0.8-min",doTimeout:"libs/jquery.ba-dotimeout-1.0-min",handlebars:"libs/handlebars-4.5.3","bootstrap-tabdrop":"libs/bootstrap-tabdrop-1.0",bootstrap:"libs/bootstrap-3.4.1-custom","bootstrap-dialog":"libs/bootstrap-dialog-1.34.4-min","bootstrap-datetimepicker":"libs/bootstrap-datetimepicker-4.14.30-min",placeholder:"libs/jquery.placeholder-2.0.8",selectize:"libs/selectize-0.12.1-min",d3:"libs/d3-3.5.5-min",moment:"libs/moment-2.20.1-min","moment-timezone":"libs/moment-timezone-with-data-0.5.4-min",jsonEditor:"libs/jsoneditor-0.7.9-min","ldapjs-filter":"libs/ldapjs-filter-2253-min",faiconpicker:"libs/fontawesome-iconpicker-1.0.0-min",dimple:"libs/dimple-2.1.2-min",sinon:"libs/sinon-1.15.4",dragula:"libs/dragula-3.6.7-min",trumbowyg:"libs/trumbowyg-2.4.2-min",calHeatmap:"libs/cal-heatmap-3.6.2-min",cola:"libs/cola-3.3.3-min",stickyTableHeaders:"libs/jquery.stickytableheaders-0.1.19-min",owl:"libs/owl.carousel-2.2.1-custom"},shim:{underscore:{exports:"_"},backbone:{deps:["underscore"],exports:"Backbone"},"backbone.paginator":{deps:["backbone"]},backgrid:{deps:["jquery","underscore","backbone"],exports:"Backgrid"},"backgrid-filter":{deps:["backgrid"]},"backgrid-paginator":{deps:["backgrid","backbone.paginator"]},"backgrid-selectall":{deps:["backgrid"]},js2form:{exports:"js2form"},form2js:{exports:"form2js"},spin:{exports:"spin"},jsonEditor:{deps:["handlebars"],init:function(e){return window.Handlebars=e,this.JSONEditor},exports:"JSONEditor"},cron:{deps:["jquery"]},xdate:{exports:"xdate"},doTimeout:{deps:["jquery"],exports:"doTimeout"},handlebars:{exports:"handlebars"},i18next:{deps:["jquery","handlebars"],exports:"i18n"},moment:{exports:"moment"},"moment-timezone":{deps:["moment"],exports:"moment-timezone"},selectize:{deps:["jquery"]},d3:{exports:"d3"},sinon:{exports:"sinon"},trumbowyg:{exports:"trumbowyg",deps:["jquery"]},calHeatmap:{exports:"calHeatmap",deps:["d3"]},cola:{exports:"cola"},dimple:{exports:"dimple",deps:["d3"]},bootstrap:{deps:["jquery"],init:function(e){return e.fn.popover.Constructor.DEFAULTS.trigger="hover focus",this.bootstrap}},placeholder:{deps:["jquery"]},"bootstrap-dialog":{deps:["jquery","underscore","backbone","bootstrap"]},"bootstrap-tabdrop":{deps:["jquery","bootstrap"]},stickyTableHeaders:{deps:["jquery"]},owl:{deps:["jquery"]}}}),require(["jquery","org/forgerock/commons/ui/common/util/Constants","org/forgerock/commons/ui/common/main/EventManager","jsonEditor","trumbowyg","org/forgerock/openidm/ui/common/util/JSONEditorSetupUtils","org/forgerock/commons/ui/common/main","org/forgerock/openidm/ui/common/main","org/forgerock/openidm/ui/admin/main","config/main","underscore","backbone","handlebars","i18next","spin","placeholder","selectize"],function(e,t,n,i){n.sendEvent(t.EVENT_DEPENDENCIES_LOADED),
i.defaults.options.theme="bootstrap3",i.defaults.options.iconlib="fontawesome4",e.trumbowyg.svgPath="/admin/img/trumbowyg-2.4.2.svg"}),define("main",function(){});
//# sourceMappingURL=main.js.map