{{!
  Copyright 2017-2018 ForgeRock AS. All Rights Reserved

  Use of this code requires a commercial software license with ForgeRock AS.
  or with one of its affiliates. All use shall be exclusively subject
  to such license between the licensee and ForgeRock AS.
}}
<!-- Base Details panel -->
<div class="panel panel-default panel-collapse" id="scimConnector">
    <div class="panel-heading" role="tab" id="connectorSpecificBaseHeading">
        <h4 class="panel-title">
            <a data-toggle="collapse" href="#connectorSpecificBase" aria-expanded="true" aria-controls="connectorSpecificBase" class="">{{t "templates.connector.baseTitle"}}</a>
        </h4>
    </div>
    <div id="connectorSpecificBase" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="connectorSpecificBaseHeading" aria-expanded="true">
        <div class="panel-body">
            <div class="form-group">
                <label class="col-sm-3 control-label" for="SCIMEndpoint">{{t "templates.connector.scim.SCIMEndpoint"}}</label>
                <div class="col-sm-8">
                    <input class="form-control" data-validator="required" type="text" id="SCIMEndpoint" name="configurationProperties.SCIMEndpoint" value="{{connectorDefaults.configurationProperties.SCIMEndpoint}}" />
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label" for="SCIMVersion">{{t "templates.connector.scim.SCIMVersion"}}</label>
                <div class="col-sm-8">
                    <input class="form-control" type="number" id="SCIMVersion" name="configurationProperties.SCIMVersion" value="{{connectorDefaults.configurationProperties.SCIMVersion}}" />
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label" for="acceptSelfSignedCertificates">{{t "templates.connector.scim.acceptSelfSignedCertificates"}}</label>
                <div class="col-sm-8">
                    <div class="checkbox checkbox-slider-primary checkbox-slider checkbox-slider--b checkbox-slider-md">
                        <label>
                            <input class="toggleBoolean" id="acceptSelfSignedCertificates" type="checkbox" name="configurationProperties.acceptSelfSignedCertificates" value="true" {{#if connectorDefaults.configurationProperties.acceptSelfSignedCertificates}} checked {{/if}} >
                            <span></span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label" for="disableHostNameVerifier">{{t "templates.connector.scim.disableHostNameVerifier"}}</label>
                <div class="col-sm-8">
                    <div class="checkbox checkbox-slider-primary checkbox-slider checkbox-slider--b checkbox-slider-md">
                        <label>
                            <input class="toggleBoolean" id="disableHostNameVerifier" type="checkbox" name="configurationProperties.disableHostNameVerifier" value="true" {{#if connectorDefaults.configurationProperties.disableHostNameVerifier}} checked {{/if}} >
                            <span></span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label" for="maximumConnections">{{t "templates.connector.scim.maximumConnections"}}</label>
                <div class="col-sm-8">
                    <input class="form-control" type="number" id="maximumConnections" name="configurationProperties.maximumConnections" value="{{connectorDefaults.configurationProperties.maximumConnections}}" />
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Authentication Method Panel -->
<div class="panel panel-default panel-collapse" id="SCIMAuthPanel">
    <div class="panel-heading" role="tab" id="SCIMConnectorAuthPanelHeading">
        <h4 class="panel-title">
            <a data-toggle="collapse" href="#SCIMConnectorAuthPanel" aria-expanded="true" aria-controls="SCIMConnectorAuthPanel" class="">{{t "templates.connector.authentication"}}</a>
        </h4>
    </div>
    <div id="SCIMConnectorAuthPanel" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="SCIMConnectorAuthPanelHeading" aria-expanded="true">
        <div class="panel-body">
            <input type="hidden" id="authenticationMethod" name="configurationProperties.authenticationMethod" value="OAUTH" />
            <div class="form-group" data-authentication-method="oauth">
                <label class="col-sm-3 control-label" for="tokenEndpoint">{{t "templates.connector.scim.tokenEndpoint"}}</label>
                <div class="col-sm-8">
                    <input class="form-control" data-validator="" type="tokenEndpoint" id="tokenEndpoint" name="configurationProperties.tokenEndpoint" value="{{connectorDefaults.configurationProperties.tokenEndpoint}}" />
                </div>
            </div>
            <div class="form-group" data-authentication-method="oauth">
                <label class="col-sm-3 control-label" for="clientId">{{t "templates.connector.scim.clientId"}}</label>
                <div class="col-sm-8">
                    <input class="form-control" data-validator="required" type="text" id="clientId" name="configurationProperties.clientId" 
                    value="{{connectorDefaults.configurationProperties.clientId}}"  />
                </div>
            </div>
            <div class="form-group" data-authentication-method="oauth">
                <label class="col-sm-3 control-label" for="clientSecret">{{t "templates.connector.scim.clientSecret"}}</label>
                <div class="col-sm-8">
                    <!-- autocomplete="new-password" is required to prevent chrome from auto-completing these form fields -->
                    {{#ifObject connectorDefaults.configurationProperties.clientSecret}}
                        {{#if connectorDefaults.configurationProperties.clientSecret.$crypto}}
                            <input id="clientSecret" class="form-control" name="configurationProperties.clientSecret" type="password" 
                            {{#if connectorDefaults.configurationProperties.clientSecret}} placeholder="********" {{/if}} autocomplete="new-password" />
                        {{else}}
                            <input id="clientSecret" class="form-control" name="configurationProperties.clientSecret" type="password" 
                            placeholder="{{connectorDefaults.configurationProperties.clientSecret.$base64:decode}}" autocomplete="new-password" />
                        {{/if}}
                    {{else}}
                        <input id="clientSecret" class="form-control" data-validator="required" type="password" name="configurationProperties.clientSecret" 
                        value="{{connectorDefaults.configurationProperties.clientSecret}}" autocomplete="new-password" />
                    {{/ifObject}}
                </div>
            </div>
        </div>
    </div>
</div>
