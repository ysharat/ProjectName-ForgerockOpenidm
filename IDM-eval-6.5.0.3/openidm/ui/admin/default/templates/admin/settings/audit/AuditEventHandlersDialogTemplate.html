{{!
  Copyright 2015-2017 ForgeRock AS. All Rights Reserved

  Use of this code requires a commercial software license with ForgeRock AS.
  or with one of its affiliates. All use shall be exclusively subject
  to such license between the licensee and ForgeRock AS.
}}
<form id="auditEventHandlersForm" class="form-horizontal">
    <div class="form-group">
        <label class="col-sm-3 control-label">{{t "templates.audit.eventHandlers.name"}}</label>
        <div class="col-sm-6">
            <input class="form-control"
                   value="{{name}}"
                   data-unique-list="{{stringify usedEventHandlerNames}}"
                   id="eventHandlerName"
                   {{#if newEventHandler}}
                   data-validator="uniqueShortList"
                   data-validator-event="keyup blur"
                   {{else}}
                   disabled
                   {{/if}}/>
            <div class="validation-message"></div>
            <span class="error form-control-feedback"><i class='fa validation-icon'></i></span>
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-3 control-label">{{t "templates.audit.eventHandlers.auditEvents"}}</label>
        <div class="col-sm-6">
            <select class="topics" multiple="multiple">
                {{#each topics}}
                <option value="{{this}}">{{this}}</option>
                {{/each}}
            </select>
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-3 control-label">{{t "templates.audit.eventHandlers.enabled"}}</label>
        <div class="col-sm-6">

            <div class="checkbox checkbox-slider-primary checkbox-slider checkbox-slider--b checkbox-slider-md">
            {{#if canDisable}}
                <label>
                    <input id="enabled" class="changes-watched section-check" name="enabled" type="checkbox" {{#if enabled}}checked{{/if}}><span></span>
                </label>
            {{else }}
                <p class="text-muted">{{t "templates.audit.eventHandlers.cannotDisableMsg"}}</p>
            {{/if}}
            </div>
        </div>
    </div>


    <div id="auditEventHandlerConfig" class="jsonEditorContainer panel-body"></div>
</form>
